!function(){function e(t,o,n){function r(s,a){if(!o[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=o[s]={exports:{}};t[s][0].call(c.exports,function(e){var o=t[s][1][e];return r(o||e)},c,c.exports,e,t,o,n)}return o[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}return e}()({1:[function(e,t,o){var n,r,i;n=e("backbone"),r=e("underscore"),n.$=$,i=new function(){return this.hints={SLOW_INTERNET_HINT:"Your internet connection is slow. Try reloading the page once the connectivity is good",NO_INTERNET_HINT:"Internet connection lost",SEGMENT_LOCKED_HINT:"This segment is locked. Kindly complete previous segments to unlock it",COMPONENT_NOT_COMPLETE_HINT:"Complete all sections in order to move to the next segment"},this.strings={FAQ_PAGE:["FAQs"],CLEAR_CACHE_RELOAD:["Clear cache & reload"],VIDEO_LOAD_PROBLEM:["Having problem with video loading?",this.hints.SLOW_INTERNET_HINT],COMPONENT_NOT_COMPLETE:["Complete all sections in order to move to the next segment",this.hints.COMPONENT_NOT_COMPLETE_HINT],INCOMPLETE_SECTION:["Take me to the incomplete section"],NO_INTERNET:["You appear to be offline",this.hints.NO_INTERNET_HINT],CODING_CONSOLE:["Having problems loading Coding console?",this.hints.NO_INTERNET_HINT],SEGMENT_LOCKED:["This segment is locked. Kindly complete previous segments to unlock it",this.hints.SEGMENT_LOCKED_HINT],SLOW_INTERNET:["You have a slow internet connection. Get ready for a bumpy ride",this.hints.SLOW_INTERNET_HINT]},this.showFaq=function(e){return"coding-console"===e?window.open(n.C.UPGRAD_HELP()+"/coding-console","_blank"):window.open(n.C.UPGRAD_HELP()+"/learning-platform/video-playback-issues","_blank")},this.scrollToComponent=function(e){if(null!==e&&void 0!==e)return n.F.SCROLL_TO_ELEMENT(e,e.height()-window.innerHeight,"body, html",400),n.F.HIGHLIGHT_TEMPORARILY(e)},this.navigate=function(t){var o;if(/^\/[v]\//.test(t))return o=e("./views/student-router"),o.navigate(t,!0)},this.hardReload=function(){return location.reload(!0)},this["scroll-to-element"]=[this.scrollToComponent,"Take me to the incomplete section",null],this["navigate-to-unlocked"]=[this.navigate,"Take me to the incomplete section",null],this["hard-reload"]=[this.hardReload,"reload",null],this["faq-page"]=[this.showFaq,"FAQs",null],this},t.exports=i},{"./views/student-router":117,backbone:318,underscore:445}],2:[function(e,t,o){var n,r,i;n=e("./models/shared-model"),r=e("./assistant-constants"),i={startListening:function(){return window.addEventListener("bot-offline",this.wentOffline),window.addEventListener("navigate-to-segmentPage",this.goToSegmentPage),window.addEventListener("navigate-to-sessionsPage",this.goToModulePage),window.addEventListener("update-meta-data",this.updateMetadata),window.addEventListener("get-action-callback",this.updateCallBack),window.addEventListener("track-assistant-actions",this.trackAssistant),this.bindWindowEvents(),this.addScrollListener()},bindWindowEvents:function(){return $(window).on("online",function(){return bot.isOnline=!0}),$(window).on("offline",function(){return bot.isOnline=!1})},getBodyScrollTop:function(){var e;return e=document.scrollingElement||document.documentElement,e.scrollTop},addScrollListener:function(){return $(window).on("scroll",function(e){return function(){var t,o,n;return t=e.getBodyScrollTop()+window.innerHeight+83-$("html")[0].scrollHeight,o||(o=$(".assistant-body")),n||(n=$(".assistant-activator")),!$("#segments").hasClass("hide")&&t>0?(o.css("bottom",90+t),n.css("bottom",20+t)):(o.css("bottom",80),n.css("bottom",10))}}(this))},trackAssistant:function(t){var o;return o=e("backbone"),o.T.MIXPANEL_TRACK(t.detail[0],t.detail[1])},wentOffline:function(){var e;return e=["hard-reload"],bot.addToChat(r.strings.NO_INTERNET,e)},goToSegmentPage:function(t){var o;return o=e("./views/student-router"),o.navigate("/v/course/"+t.detail[0]+"/session/"+t.detail[1]+"/segment/"+t.detail[2],!0)},goToModulePage:function(t){var o;return o=e("./views/student-router"),o.navigate("/v/course/"+n.get("courseId")+"/module/"+t.detail[0],!0)},updateCallBack:function(e){var t;if(t=e.detail.key,e.detail["function"]=r[t][0],bot.actionMessage=r[t][1],"scroll-to-element"===t&&n.get("firstBlockedModel"))return bot.arg=this.$("#component-"+n.get("firstBlockedModel").cid)},updateMetadata:function(e){var t,o,r,i;return i=new Date,t=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),r=i.getHours()+":"+i.getMinutes()+":"+i.getSeconds(),o=t+" "+r,e.detail.forEach(function(e){switch(e){case"currentTime":return bot.metaData.currentTime=moment.tz(o,"YYYY/MM/DD HH:mm:ss",n.get("courseTimezone")).format();case"currentUrl":return bot.metaData.currentUrl=window.location.pathname;case"moduleId":if("sessionsView"===n.get("currentView")||"segmentView"===n.get("currentView"))return bot.metaData.moduleId=n.get("moduleId");break;case"sessionId":if("segmentView"===n.get("currentView"))return bot.metaData.sessionId=n.get("sessionId");break;case"segmentId":if("segmentView"===n.get("currentView"))return bot.metaData.segmentId=n.get("segmentId");break;default:return bot.metaData[e]=n.get(e)}})}},t.exports=i},{"./assistant-constants":1,"./models/shared-model":85,"./views/student-router":117,backbone:318}],3:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;l=e("underscore"),n=e("backbone"),n.$=$,i=e("../../models/builder-models/module-model"),a=e("./sessions"),u=e("../../models/shared-model"),s=e("./resources"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.model=i,t.prototype.collectionListEl="ModuleCollection",t.prototype.comparator=function(e,t){var o,n;return o=e.get("listIndex"),n=t.get("listIndex"),o>n?1:o<n?-1:0},t}(n.Collection),t.exports=new r},{"../../models/builder-models/module-model":47,"../../models/shared-model":85,"./resources":4,"./sessions":6,backbone:318,underscore:445}],4:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),n.$=$,r=e("../../models/builder-models/module-model"),s=e("../../models/shared-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=r,t.prototype.collectionListEl="ModuleResources",t.prototype.comparator=function(e,t){var o,n;return o=e.get("listIndex"),n=t.get("listIndex"),o>n?1:o<n?-1:0},t}(n.Collection),t.exports=new i},{"../../models/builder-models/module-model":47,"../../models/shared-model":85,backbone:318}],5:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),n.$=$,s=e("underscore"),i=e("../../models/builder-models/segment-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=i,t.prototype.collectionListEl="SegmentCollection",t.prototype.initialize=function(){return s.bindAll(this,"url","parse")},t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/pagesegments"},t.prototype.parse=function(e){return(null!=e?e.data:void 0)?e.data:e},t.prototype.comparator=function(e,t){var o,n;return o=e.get("listIndex"),n=t.get("listIndex"),o>n?1:o<n?-1:0},t}(n.Collection),t.exports=r},{"../../models/builder-models/segment-model":48,backbone:318,underscore:445}],6:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),n.$=$,u=e("underscore"),s=e("../../models/builder-models/session-model"),a=e("../../models/shared-model"),r=e("./segments"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.model=s,t.prototype.collectionListEl="SessionCollection",t.prototype.initialize=function(){return u.bindAll(this,"url")},t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/sessions"},t.prototype.comparator=function(e,t){var o,n;return o=e.get("listIndex"),n=t.get("listIndex"),o>n?1:o<n?-1:0},t}(n.Collection),t.exports=new i},{"../../models/builder-models/session-model":49,"../../models/shared-model":85,"./segments":5,backbone:318,underscore:445}],7:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),n.$=$,s=e("underscore"),r=e("../models/calendar-event-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=r,t.prototype.collectionListEl="CalendarEvents",t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/calendar/"},t.prototype.parse=function(e){return e.data?e.data:e},t.prototype.comparator=function(e){return moment(e.get("eventDateIso"))},t}(n.Collection),t.exports=new i},{"../models/calendar-event-model":50,backbone:318,underscore:445}],8:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),n.$=$,s=e("underscore"),i=e("../models/component-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=i,t.prototype.collectionListEl="ComponentCollection",t.prototype.initialize=function(){return s.bindAll(this,"url","parse")},t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v3/components"},t.prototype.parse=function(e){return e.data?e.data:e},t.prototype.comparator=function(e){return parseInt(e.get("listIndex"))},t.prototype.notSavingModels=function(){return s.every(this.models,function(e){return!e.get("inFlight")})},t}(n.Collection),t.exports=new r},{"../models/component-model":52,backbone:318,underscore:445}],9:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;u=e("underscore"),r=e("backbone"),r.$=$,n=e("../models/discussions/discussion-answer-model"),a=e("../models/shared-model"),s=e("./pagination-support"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.model=n,t.prototype.collectionListEl="Answers",t.prototype.basePath=function(){return r.C.DISCUSSIONS_PATH()},t.prototype.url=function(){return this.basePath()+"/v1/answers/"},t}(r.Collection),u.extend(i.prototype,s),t.exports=i},{"../models/discussions/discussion-answer-model":58,"../models/shared-model":85,"./pagination-support":28,backbone:318,underscore:445}],10:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;a=e("underscore"),n=e("backbone"),n.$=$,i=e("../models/course-model"),s=e("./pagination-support"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=i,t.prototype.collectionListEl="CourseCollection",t.prototype.pageSize=10,t.prototype.basePath=function(){return n.C.MEDIA_PATH()},t.prototype.url=function(){return this.basePath()+"/v3/courses"},t.prototype.initialize=function(){return a.bindAll(this,"parse","addModel")},t.prototype.parse=function(e){return e.data?e.data:e},t.prototype.addModel=function(e,t){return e.set("primaryLanguage",{code:"en",name:"English",id:1,version:1}),e.set("skipDefaultModuleGroup",!0),e.save(e.toJSON(),{success:function(e){return function(e){if(t.successCallback)return t.successCallback(e)}}(this),error:function(e){return function(e,o){if(t.errorCallback)return t.errorCallback(e,o)}}(this)})},t}(n.Collection),a.extend(r.prototype,s),t.exports=new r},{"../models/course-model":56,"./pagination-support":28,backbone:318,underscore:445}],11:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;r=e("backbone"),r.$=$,u=e("underscore"),n=e("../../models/discussions/discussion-answer-model"),i=e("./discussion-comments"),a=e("../pagination-support"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.model=n,t.prototype.collectionListEl="DiscussionAnswers",t.prototype.initialize=function(e){return this.initializeComments(e)},t.prototype.basePath=function(){return r.C.DISCUSSIONS_PATH()},t.prototype.url=function(){return this.basePath()+"/v1/answers/"},t.prototype.initializeComments=function(e){return u.each(e,function(e){return e.comments=new i(e.comments)})},t.prototype.reset=function(e,t){return this.count=null,this.pageNum=null,this.nextUrl=null,this.previousUrl=null,r.Collection.prototype.reset.call(this,e,t)},t}(r.Collection),u.extend(s.prototype,a),t.exports=new s},{"../../models/discussions/discussion-answer-model":58,"../pagination-support":28,"./discussion-comments":12,backbone:318,underscore:445}],12:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),n.$=$,s=e("underscore"),r=e("../../models/discussions/discussion-comment-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=r,t.prototype.collectionListEl="DiscussionComments",t.prototype.url=function(){return n.C.DISCUSSIONS_PATH()+"/v1/comments"},t}(n.Collection),t.exports=i},{"../../models/discussions/discussion-comment-model":59,backbone:318,underscore:445}],13:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),n.$=$,s=e("underscore"),r=e("../../models/discussions/discussion-context-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=r,t.prototype.url=function(){return n.C.FORUM_PATH()+"/v1/contexts/"},t}(n.Collection),t.exports=new i},{"../../models/discussions/discussion-context-model":60,backbone:318,underscore:445}],14:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;n=e("backbone"),n.$=$,c=e("underscore"),a=e("../../models/discussions/discussion-question-model"),r=e("./discussion-facets-collection"),u=e("./discussion-questions"),s=e("../pagination-support"),l=e("../../models/shared-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.resetFacets=!0,t.prototype.basePath=function(){return n.C.FORUM_PATH()},t.prototype.url=function(){return this.basePath()+"/v3/questions/search/"},t.prototype.collectionListEl="discussionQuestions",t.prototype.model=a,t.prototype.parseCollection=function(e,t){return t.silent=!1,this.resetFacets&&(this.resetFacets=!1,r.resultCount=e.resultCount,r.allTopicCount=e.allQuestionsCount,r.reset(e.facets,t)),e.questions},t}(n.Collection),c.extend(i.prototype,s),t.exports=new i},{"../../models/discussions/discussion-question-model":62,"../../models/shared-model":85,"../pagination-support":28,"./discussion-facets-collection":15,"./discussion-questions":16,backbone:318,underscore:445}],15:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),n.$=$,a=e("underscore"),s=e("./discussion-questions"),i=e("../../models/facet-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.resultCount=null,t.prototype.allTopicCount=null,t.prototype.searchType="",t.prototype.model=i,t.prototype.url=function(){return n.C.FORUM_PATH()+"/v3/questions/search/"},t.prototype.totalCount=function(){var e;return e=0,this.each(function(t){if(e+=1,t.get("children"))return e+=t.get("children").length}),e},t}(n.Collection),t.exports=new r},{"../../models/facet-model":65,"./discussion-questions":16,backbone:318,underscore:445}],16:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),n.$=$,a=e("underscore"),s=e("../../models/discussions/discussion-question-model"),i=e("../pagination-support"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=s,t.prototype.collectionListEl="DiscussionQuestions",t.prototype.basePath=function(){return n.C.DISCUSSIONS_PATH()},t.prototype.url=function(){return this.basePath()+"/v3/questions/"},t}(n.Collection),a.extend(r.prototype,i),t.exports=new r},{"../../models/discussions/discussion-question-model":62,"../pagination-support":28,backbone:318,underscore:445}],17:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),n.$=$,s=e("underscore"),i=e("../../models/discussions/discussion-question-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=i,t.prototype.hits=0,t.prototype.collectionListEl="DiscussionRelatedQuestions",t.prototype.basePath=function(){return n.C.DISCUSSIONS_PATH()},t.prototype.url=function(){return this.basePath()+"/v2/questions/"},t}(n.Collection),t.exports=new r},{"../../models/discussions/discussion-question-model":62,backbone:318,underscore:445}],18:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),n.$=$,s=e("underscore"),i=e("../../models/discussions/discussion-question-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=i,t.prototype.collectionListEl="DiscussionSuggestions",t.prototype.searchTerm="",t.prototype.basePath=function(){return n.C.DISCUSSIONS_PATH()},t.prototype.url=function(){return this.basePath()+"/v2/questions/"},t}(n.Collection),t.exports=new r},{"../../models/discussions/discussion-question-model":62,backbone:318,underscore:445}],19:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),n.$=$,a=e("underscore"),s=e("../../models/discussions/discussion-question-model"),i=e("../pagination-support"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=s,t.prototype.collectionListEl="DiscussionQuestions",t.prototype.basePath=function(){return n.C.DISCUSSIONS_PATH()},t.prototype.url=function(){return this.basePath()+"/v2/questions/"},t}(n.Collection),a.extend(r.prototype,i),t.exports=new r},{"../../models/discussions/discussion-question-model":62,"../pagination-support":28,backbone:318,underscore:445}],20:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),n.$=$,a=e("underscore"),s=e("../../models/discussions/discussion-question-model"),i=e("../pagination-support"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=s,t.prototype.collectionListEl="DiscussionQuestions",t.prototype.basePath=function(){return n.C.DISCUSSIONS_PATH()},t.prototype.url=function(){return this.basePath()+"/v2/questions/"},t}(n.Collection),a.extend(r.prototype,i),t.exports=new r},{"../../models/discussions/discussion-question-model":62,"../pagination-support":28,backbone:318,underscore:445}],21:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),n.$=$,a=e("underscore"),i=e("../../models/discussions/discussion-question-model"),r=e("../pagination-support"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=i,t.prototype.collectionListEl="DiscussionQuestions",t.prototype.basePath=function(){return n.C.DISCUSSIONS_PATH()},t.prototype.url=function(){return this.basePath()+"/v3/questions/"},t}(n.Collection),a.extend(s.prototype,r),t.exports=new s},{"../../models/discussions/discussion-question-model":62,"../pagination-support":28,backbone:318,underscore:445}],22:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),n.$=$,a=e("underscore"),s=e("../../models/discussions/discussion-answer-model"),r=e("./discussion-comments"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=n.Model,t.prototype.collectionListEl="Upvotes",t.prototype.url=function(){return n.C.DISCUSSIONS_PATH()+"/v1/"+this.type+"/"+this.itemId+"/vote/"},t}(n.Collection),t.exports=new i},{"../../models/discussions/discussion-answer-model":58,"./discussion-comments":12,backbone:318,underscore:445}],23:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;a=e("underscore"),n=e("backbone"),n.$=$,r=e("../models/enrollment-model"),s=e("../models/shared-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=r,t.prototype.collectionListEl="Enrollments",t.prototype.rendered=!1,t.prototype.parse=function(e){return e.data?e.data:e},t.prototype.url=function(){return s.get("startupIndia")?n.C.MEDIA_PATH()+"/v2/enrollments/all?isStartUpIndia=true":n.C.MEDIA_PATH()+"/v2/enrollments/all"},t}(n.Collection),t.exports=new i},{"../models/enrollment-model":64,"../models/shared-model":85,backbone:318,underscore:445}],24:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),n.$=$,a=e("underscore"),i=e("../models/leaderboard-model"),s=e("./pagination-support"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=i,t.prototype.collectionListEl="LeaderboardItems",t.prototype.basePath=function(){return n.C.DISCUSSIONS_PATH()},t.prototype.url=function(){return this.basePath()+"/v1/leaderboard/"},t}(n.Collection),a.extend(r.prototype,s),t.exports=new r},{"../models/leaderboard-model":68,"./pagination-support":28,backbone:318,underscore:445}],25:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;s=e("underscore"),n=e("backbone"),n.$=$,r=e("../models/module-group-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=r,t.prototype.collectionListEl="ModuleGroups",t.prototype.initialize=function(){return s.bindAll(this,"url","parse")},t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/modulegroups"},t.prototype.comparator=function(e){return e.get("number")},t}(n.Collection),t.exports=new i},{"../models/module-group-model":71,backbone:318,underscore:445}],26:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;a=e("underscore"),n=e("backbone"),n.$=$,i=e("../models/module-model"),r=e("./module-groups"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=i,t.prototype.collectionListEl="Modules",t.prototype.initialize=function(){return a.bindAll(this,"url","parse")},t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/modules"},t.prototype.parse=function(e){return e=e.data?e.data:e,a.each(e,function(e){return function(e){return e.visibility=["RESOURCE","LIVE_LECTURE","REMEDIAL_CONTENT"].indexOf(e.moduleType)===-1,e.color=e.colour}}(this)),e},t}(n.Collection),t.exports=new s},{"../models/module-model":72,"./module-groups":25,backbone:318,underscore:445}],27:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;u=e("underscore"),n=e("backbone"),s=e("./pagination-support"),a=e("../models/user-model"),n.$=$,i=e("../models/notification-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.model=i,t.prototype.collectionListEl="NotificationCollection",t.prototype.basePath=function(){return n.C.NOTIFICATIONS_PATH()},t.prototype.url=function(){return this.basePath()+"/notifications"},t.prototype.initialize=function(){return u.bindAll(this,"addModel"),this.pageObj={all:null,forum:null,course:null}},t.prototype.comparator=function(e){var t;return t=new Date(e.get("createdAt")).getTime(),-t},t.prototype.addModel=function(e){return this.add(e,{silent:!0}),this.trigger("addPushedModel",e)},t.prototype.fetch=function(e){var t,o,r,i;return i=a.get("email"),t=Cookies.get("upgrad-last-active-course-id"),e.data||(e.data={}),(null!=(o=e.data)?o.user:void 0)||(null!=(r=e.url)?r.match("user="):void 0)||(e.data.user=i,e.data.courseId=t),e.data=$.param(e.data),n.Collection.prototype.fetch.call(this,e)},t}(n.Collection),u.extend(r.prototype,s),t.exports=new r},{"../models/notification-model":73,"../models/user-model":87,"./pagination-support":28,backbone:318,underscore:445}],28:[function(e,t,o){var n,r,i;n=e("backbone"),i=e("underscore"),n.$=$,r={setNetPreviousURL:function(e){var t,o;return this.count=parseInt(e.xhr.getResponseHeader("COUNT")),this.pageNum=parseInt(e.xhr.getResponseHeader("PageNumber")),t=e.xhr.getResponseHeader("LINK"),t?(o=["next","previous"],i.each([t.split(",")[0],t.split(",")[1]],function(e){return function(t){var n,r;if(n=e.getRel(t),r=e.getUrl(t),n)return o=i.difference(o,[n]),e.setUrl(n,r)}}(this)),i.each(o,function(e){return function(t){return e.setUrl(t,null)}}(this))):(this.nextUrl=null,this.previousUrl=null)},getRel:function(e){var t,o,n,r;return e&&(r=null!=(t=e.split(";")[0])?t.trim():void 0,r=null!=r?r.slice(1,r.length-1):void 0,n=null!=(o=e.split(";")[1])?o.split("=")[1]:void 0,n=null!=n?n.slice(1,n.length-1).trim():void 0,"prev"===n&&(n="previous")),n},getUrl:function(e){var t;return e&&(t=e.split(";")[0].trim(),t=t.slice(1,t.length-1)),t},setUrl:function(e,t){return t&&(t=this.basePath()+t),this[e+"Url"]=t},parse:function(e,t){return this.setNetPreviousURL(t),this.parseCollection?this.parseCollection(e,t):e.data?e.data:e}},t.exports=r},{backbone:318,underscore:445}],29:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;a=e("underscore"),n=e("backbone"),n.$=$,i=e("../models/question-model"),s=e("../models/shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=i,t.prototype.collectionListEl="QuestionCollection",t.prototype.url=function(){var e;return e=n.C.ASSESSMENT_PATH()+"/v2/questions"},t.prototype.initialize=function(){return a.bindAll(this,"parse","addModel")},t.prototype.parse=function(e){return e&&e.data?e.data.questions:e},t.prototype.reset=function(e,t){var o,r,i,s;for(t=t||{},s=this.models,o=0,i=s.length;o<i;o++)r=s[o],r.trigger("removeView");return n.Collection.prototype.reset.call(this,e,t)},t.prototype.addModel=function(e,t,o){var n;return n=new i,n.save(e,{wait:!0,success:function(e){return function(o,n){return e.add(o),t(o)}}(this),error:function(e){return function(e,t){return o(t)}}(this)})},t}(n.Collection),t.exports=r},{"../models/question-model":80,"../models/shared-model":85,backbone:318,underscore:445}],30:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;a=e("underscore"),n=e("backbone"),n.$=$,i=e("../models/quiz-model"),s=e("../models/shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=i,t.prototype.collectionListEl="QuizCollection",t.prototype.initialize=function(){return a.bindAll(this,"parse","url")},t.prototype.url=function(){var e;return e=n.C.ASSESSMENT_PATH()+"/v2/quiz_sessions/bulk/"},t.prototype.comparator=function(e){return e.get("timeStamp")},t}(n.Collection),t.exports=r},{"../models/quiz-model":82,"../models/shared-model":85,backbone:318,underscore:445}],31:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),n.$=$,i=e("underscore"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.model=n.Model,t.prototype.collectionListEl="ReferralCourses",t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/referrals/allPrograms"},t.prototype.parse=function(e){return e.data||e},t}(n.Collection),t.exports=new r},{backbone:318,underscore:445}],32:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),n.$=$,s=e("underscore"),r=e("../models/segment-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=r,t.prototype.collectionListEl="Segments",t.prototype.sessionId=null,t.prototype.initialize=function(){return s.bindAll(this,"url","parse")},t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/pagesegments"},t.prototype.parse=function(e){return e},t}(n.Collection),t.exports=i},{"../models/segment-model":83,backbone:318,underscore:445}],33:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,
e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),n.$=$,u=e("underscore"),s=e("../models/session-model"),r=e("../models/progress-models/module-progress-model"),i=e("./segments"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.model=s,t.prototype.collectionListEl="Sessions",t.prototype.initialize=function(){return u.bindAll(this,"url","parse","initializeSegments"),this.listenTo(this,"reset",this.initializeSegments),this.listenTo(this,"add",this.initializeSegments)},t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/sessions/"},t.prototype.parse=function(e){return e.data},t.prototype.initializeSegments=function(e){return e!==this?e.set("segments",new i(e.get("segments"))):this.each(function(e){return e.set("segments",new i(e.get("segments")))})},t.prototype.updateProgress=function(){return u.each(r.get("sessions"),function(e){return function(t){var o;return o=e.get(t.id),o.updateProgress(t)}}(this))},t}(n.Collection),t.exports=new a},{"../models/progress-models/module-progress-model":77,"../models/session-model":84,"./segments":32,backbone:318,underscore:445}],34:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;i=e("underscore"),n=e("backbone"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.model=n.Model,t.prototype.collectionListEl="SkippedComponents",t.prototype.initialize=function(){return this.listenTo(this,"showAllItems",this.showAllItems),this.listenTo(this,"showLimitedItems",this.showLimitedItems)},t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/skippedcomponents"},t.prototype.parse=function(e){return this.allValues=e,this.numberOfItemsDisplayed=4,this.showLimitedItems()},t.prototype.showAllItems=function(){return this.reset(this.allValues)},t.prototype.showLimitedItems=function(){return this.reset(i.first(this.allValues,this.numberOfItemsDisplayed))},t}(n.Collection),t.exports=new r},{backbone:318,underscore:445}],35:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),n.$=$,s=e("underscore"),r=e("../models/speaker-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=r,t.prototype.collectionListEl="Speakers",t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/calendar/speakers/"},t.prototype.parse=function(e){return e.data?e.data:e},t.prototype.comparator=function(e){return e.get("firstname")},t}(n.Collection),t.exports=new i},{"../models/speaker-model":86,backbone:318,underscore:445}],36:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),n.$=$,s=e("underscore"),r=e("../models/user-profile-models/peer-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=r,t.prototype.collectionListEl="UserGroup",t.prototype.initialize=function(){return s.bindAll(this,"url","parse")},t.prototype.url=function(){return n.C.MEDIA_PATH()+("/group?moduleId="+this.moduleId)},t.prototype.parse=function(e){return e.data.profiles},t}(n.Collection),t.exports=new i},{"../models/user-profile-models/peer-model":92,backbone:318,underscore:445}],37:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;s=e("underscore"),n=e("backbone"),n.$=$,r=e("../../models/user-profile-models/badge-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=r,t.prototype.collectionListEl="Badges",t.prototype.initialize=function(){return s.bindAll(this,"url")},t.prototype.parse=function(e){return e=e.data?e.data:e},t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/badge"},t}(n.Collection),t.exports=new i},{"../../models/user-profile-models/badge-model":88,backbone:318,underscore:445}],38:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;s=e("underscore"),n=e("backbone"),n.$=$,i=e("../../models/user-profile-models/education-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=i,t.prototype.collectionListEl="Education",t.prototype.initialize=function(){return s.bindAll(this,"addModel")},t.prototype.addModel=function(e){},t}(n.Collection),t.exports=new r},{"../../models/user-profile-models/education-model":89,backbone:318,underscore:445}],39:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;s=e("underscore"),n=e("backbone"),n.$=$,r=e("../../models/user-profile-models/experience-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=r,t.prototype.collectionListEl="Experiences",t.prototype.initialize=function(){return s.bindAll(this,"addModel")},t.prototype.addModel=function(e){},t}(n.Collection),t.exports=new i},{"../../models/user-profile-models/experience-model":90,backbone:318,underscore:445}],40:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;a=e("underscore"),n=e("backbone"),n.$=$,i=e("../../models/user-profile-models/peer-model"),r=e("../pagination-support"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=i,t.prototype.collectionListEl="Peers",t.prototype.basePath=function(){return n.C.MEDIA_PATH()},t.prototype.initialize=function(){return a.bindAll(this,"url")},t.prototype.url=function(){return this.basePath()+"/v2/userprofiles"},t}(n.Collection),a.extend(s.prototype,r),t.exports=new s},{"../../models/user-profile-models/peer-model":92,"../pagination-support":28,backbone:318,underscore:445}],41:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;s=e("underscore"),n=e("backbone"),n.$=$,i=e("../../models/user-profile-models/recently-online-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=i,t.prototype.collectionListEl="RecentlyOnline",t.prototype.basePath=function(){return n.C.MEDIA_PATH()},t.prototype.initialize=function(){return s.bindAll(this,"url","parse")},t.prototype.parse=function(e){var t;return t=e.data?e.data:e,t.splice(0,10)},t.prototype.url=function(){return this.basePath()+"/v2/activity/recentlogins"},t}(n.Collection),t.exports=new r},{"../../models/user-profile-models/recently-online-model":93,backbone:318,underscore:445}],42:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;u=e("underscore"),n=e("backbone"),n.$=$,i=e("../../models/user-profile-models/peer-model"),a=e("../../models/shared-model"),r=e("../pagination-support"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.collectionListEl="SameCityPeers",t.prototype.basePath=function(){return n.C.MEDIA_PATH()},t.prototype.url=function(){return this.basePath()+"/v2/userprofiles"},t.prototype.model=i,t.prototype.parse=function(e){return e.data},t.prototype.fetch=function(e){return e.url=this.url(),n.Collection.prototype.fetch.call(this,e)},t}(n.Collection),u.extend(s.prototype,r),t.exports=new s},{"../../models/shared-model":85,"../../models/user-profile-models/peer-model":92,"../pagination-support":28,backbone:318,underscore:445}],43:[function(e,t,o){var n,r,i,s,a,u,l,c,d;return r=e("backbone"),l=e("underscore"),r.$=$,s=e("./views/helpers/helper-methods"),u=e("./models/user-model"),a=e("./models/shared-model"),n=e("./models/account-settings-model"),i=e("./collections/courses"),d=e("sanitize-html"),Date.prototype.yyyymmdd=function(){var e,t,o;return o=this.getFullYear().toString(),t=(this.getMonth()+1).toString(),e=this.getDate().toString(),o+"/"+(t[1]?t:"0"+t[0])+"/"+(e[1]?e:"0"+e[0])},$.validator?($.validator.addMethod("alphabetOnly",function(e){return/^[a-zA-Z]+$/.test(e)},$.validator.format("Letters only please")),$.validator.addMethod("wordCountValidate",function(e,t,o){var n;return n=r.F.wordCount(e).words,n<=o[0]},$.validator.format("Maximum {0} Words required.")),$.validator.addMethod("minWordCountValidate",function(e,t,o){var n;return n=r.F.wordCount(e).words,n>=o[0]},$.validator.format("Minimum {0} Words required.")),$.validator.addMethod("positiveNumber",function(e,t){return Number(e)>=0},$.validator.format("Enter a valid grade.")),$.validator.addMethod("isDateTime",function(e){return function(e,t){return console.log(e),/^(\d+)\/(\d+)\/(\d+) (\d+):(\d+):(\d+)$/.test(e)}}(this),"The Date Time entered is not proper."),$.validator.addMethod("isNumberNegative",function(e){return function(e,t){return console.log(e),parseInt(e)>=0}}(this),"Enter a positive number"),$.validator.addMethod("isWholeNumber",function(e){return function(e,t){return console.log(e),parseInt(e)>0}}(this),"Enter a number above zero."),$.validator.addMethod("pastDateFormatCheck",function(e){return function(e,t){var o,n,r,i,s,a,u,l;return!e||(o=e.split("/"),r=parseInt(o[0]),l=parseInt(o[1]),n=new Date,s=n.getUTCFullYear(),i=n.getUTCMonth(),a=l<s&&r>0&&r<13,u=l===s&&r-1<=i&&r>0,a||u)}}(this),"Enter a valid past date in MM/YYYY format"),$.validator.addMethod("dateFormatCheck",function(e){return function(e){return!e||moment(e,"MM/YYYY",!0).isValid()}}(this),"Enter a valid date in MM/YYYY format"),$.validator.addMethod("checkLink",function(e){return function(e){return!e||e.indexOf(".com")!==-1}}(this),"Please enter a valid url"),$.validator.addMethod("checkFbLink",function(e){return function(e){return!(e&&!e.match(/https?\:\/\/(?:www\.)?facebook\.com\/(\d+|[A-Za-z0-9\.]+)\/?/))}}(this),"Please enter a valid facebook url"),$.validator.addMethod("checkLinkedInLink",function(e){return function(e){return!(e&&!e.match(/https?\:\/\/(?:www\.)?(?:in\.)?linkedin\.com\/in\/(\d+|[A-Za-z0-9\.]+)\/?/))}}(this),"Please enter a valid linkedin url"),$.validator.addMethod("fileTypeValidation",function(e){return function(e){return!!e.length}}(this),"Please select atleast one file type"),$.validator.addMethod("isFeedbackEffective",function(e){return function(e,t){return!(e.length<25)||!e.toLowerCase().match(/(correct|incorrect|right|wrong)$/)}}(this),"Please enter a proper feedback. Give explanation about the answer."),$.validator.addMethod("firstAttemptScoreGreatest",function(e){return function(e,t,o){var n;return n=o[4],!e||Number(e)<=Number(n.$(".score")[o[0]].value)}}(this),"{2} attempt score should be greater than {3} attempt score"),$.validator.addMethod("multipleOfTen",function(e){return function(e,t){return e%10===0}}(this),"Module marks should be a multiple of 10!"),c=function(e){var t;if(null===e)return!0;if("object"!=typeof e)return!0;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},r.C={PATH:function(){return a.get("apiPath")},ASSESSMENT_PATH:function(){return a.get("assessmentPath")},DISCUSSIONS_PATH:function(){return a.get("discussionsPath")},MEDIA_PATH:function(){return a.get("mediaPath")},LECTURE_PATH:function(){return a.get("lecturePath")},GRADING_PATH:function(){return a.get("gradingPath")},CAREER_PATH:function(){return a.get("careerPath")},FORUM_PATH:function(){return a.get("forumApi")},NOTIFICATIONS_PATH:function(){return a.get("notificationsPath")},MARKETING_PATH:function(){return a.get("marketingPath")},NPS_FORM_PATH:function(){return a.get("npsPath")},VIDEOJS_ACCOUNT_ID:function(){return"4744899836001"},CAREER_SITE:function(){return a.get("careerSite")},LECTURE_SITE:function(){return a.get("lectureSite")},CAREER_TYPEFORM_PATH:function(){return""+a.get("rootTypeformCareersURL")+a.get("typeformId")},TYPEFORM_ID:function(){return a.get("typeformId")},UPGRAD_HELP:function(){return a.get("helpUrl")},SAMPLE_SLUG_IDS:{local:"0886g",development:"0886g",staging:"ryy8m",production:"qyyxq"}},void(r.F={wordCount:function(e){return e=e.trim(),e?{words:e.match(/\S+/g).length||0}:{words:0}},hexToRgba:function(e,t){var o;return t||(t=1),/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)?(o=e.substring(1).split(""),3===o.length&&(o=[o[0],o[0],o[1],o[1],o[2],o[2]]),o="0x"+o.join(""),"rgba("+[o>>16&255,o>>8&255,255&o].join(",")+","+t+")"):"rgba(255,255,255,1)"},INITIALIZE_DATE_TIME_PICKER:function(e,t,o){return $(e).datetimepicker({format:"d/m/Y H:i:s",defaultTime:"00:00:00",autoclose:!0,onChangeDateTime:function(e){return function(e,t){return e&&o?(e.setSeconds("00"),t.val(r.F.GET_DATE(e))):t.val(r.F.GET_DATE_EXCLUDING_TIME(e))}}(this),onShow:function(e){return this.setOptions({maxDate:!!$(t).val()&&$(t).val(),formatDate:"d/m/Y"}),e},timepicker:o||!1}),$(t).datetimepicker({format:"d/m/Y H:i:s",defaultTime:"23:59:00",autoclose:!0,onChangeDateTime:function(e){return function(e,t){return e&&o?(e.setSeconds("00"),t.val(r.F.GET_DATE(e))):t.val(r.F.GET_DATE_EXCLUDING_TIME(e))}}(this),onShow:function(t){return this.setOptions({minDate:!!$(e).val()&&$(e).val(),formatDate:"d/m/Y"}),t},timepicker:o||!1})},INIT_NETWORK_EVENT_LISTENERS:function(){return $(window).on("online",function(){return r.trigger(r.E.NETWORK_ONLINE)}),$(window).on("offline",function(){return r.trigger(r.E.NETWORK_OFFLINE)})},SHOW_MAINTENANCE_MESSAGE:function(){var e,t,o,n;try{return o=function(e){var t,o,n,i;if(e&&e.data&&!c(e.data)&&(t=e.data,i=r.F.getMaintenanceMessage(t.startTimeIso,t.endTimeIso)))return n="upGrad learning website will be unavailable ",o=" due to a scheduled maintenance activity.",$(".maintenance-space .message .text").text(n+i+o),$(".maintenance-space").removeClass("hide")},t=function(e){return r.ERR.SHOW(e)},n=r.C.MEDIA_PATH()+"/v2/maintenancewindow",e={days:7},r.F.AJAX("GET",n,o,t,e)}catch(i){}},getTopNavbarHeight:function(){return a.get("startupIndia")?150:86},getMaintenanceMessage:function(e,t){var o,n,i,s,u;if(s=r.F.courseTimezoneDate(e),n=r.F.courseTimezoneDate(t),s&&n)return i=s.date(),o=n.date(),u=i!==o?"from "+s.format("MMM Do")+" "+s.format("hh:mm a")+" to "+n.format("MMM Do")+" "+n.format("hh:mm a"):"on "+s.format("MMM Do")+" from "+s.format("hh:mm a")+" to "+n.format("hh:mm a"),u+=" "+moment().tz(a.get("courseTimezone")).zoneAbbr()},SHOW_BROWSER_NOT_SUPPORTED_MESSAGE:function(){return $(".browser-support-message").removeClass("hide")},CUSTOM_CONFIRM:function(e,t,o){var n,r;return n="Confirmation Required",r=document.createElement("div"),$(r).attr({title:n,"class":"dialog"}).html(d(e)).dialog({open:function(e){return function(){return $(r).closest(".ui-dialog").find(".ui-dialog-titlebar-close").removeClass("ui-dialog-titlebar-close").addClass("ui-dialog-button").html("<span class='material-icons'>close</span>")}}(this),dialogClass:"fixed",buttons:[{text:"Discard",click:function(e){return function(){return $(".dialog").remove(),o(),!1}}(this)},{text:"Save",click:function(e){return function(){return $(".dialog").remove(),t(),!0}}(this)}],draggable:!1,modal:!0,resizable:!1,width:500,height:220})},CUSTOM_CONFIRM_DIALOG:function(e,t,o){var n,r;return n=e.title||"Confirmation Required",r=document.createElement("div"),$(r).attr({title:n,"class":"dialog"}).html(e.body).dialog({open:function(){return $(r).closest(".ui-dialog").find(".ui-dialog-titlebar-close").addClass("hide")},dialogClass:"fixed",buttons:[{text:e.cancelCTA||"Discard",click:function(){return $(".dialog").remove(),o(),!1}},{text:e.successCTA||"Save",click:function(){return $(".dialog").remove(),t(),!0}}],draggable:!1,modal:!0,resizable:!1,width:450})},SEARCH_DELAY:function(e){return function(){return function(e,t){return this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(t){return function(){return t.timer=null,e()}}(this),t)}}}(this)(),SHOW_COURSE_NAME_NAV:function(){var e;return $(".nav-course-name").removeClass("hide"),e=a.get("course"),$(".nav-course-name").text(e.get("name"))},AJAX:function(e,t,o,n,r,i,s){var a,u;return i||(i="json"),u="GET"===e,a={url:t,type:e,data:r,dataType:i,processData:u,success:o?o:void 0,error:n?n:void 0,complete:function(e,t){}},s&&(a.contentType=s),$.ajax(a)},UPLOAD_AJAX:function(e,t,o,n,r){return $.ajax({url:t,type:e,data:r,processData:!1,contentType:!1,success:o,error:n,complete:function(e,t){}})},whiteLabelIfRequired:function(e){var t;if(!this.isStartupIndia())return(null!=(t=e.courseConfiguration)?t.logoUrl:void 0)?($(".navbar-brand-logo")[0].src=e.courseConfiguration.logoUrl,$(".navbar-header").addClass("whitelabeled-nav")):($(".navbar-brand-logo")[0].src="/upGrad-logo-white.svg",$(".navbar-header").removeClass("whitelabeled-nav"))},SET_COURSE_DATA:function(e){var t,o,n,i,s,u,l,c,p,h,f,m;return Cookies.set("upgrad-last-active-course-id",e.id),Cookies.set("upgrad-user-program-key",e.programKey),this.whiteLabelIfRequired(e),a.set("courseId",e.id),a.set("courseName",e.name),a.set("courseConfiguration",e.courseConfiguration||{}),a.set("courseTimezone",e.courseConfiguration.timezone),a.set("startupIndia","YOUTUBE"===(null!=(t=e.courseConfiguration)?t.mediaType:void 0)),a.set("programKey",e.programKey),a.set("showGrade",null!=(o=e.courseConfiguration)&&null!=(i=o.featureFlags)?i.grade:void 0),a.set("gradeType",null!=(s=e.courseConfiguration)&&null!=(u=s.featureFlags)?u.gradeType:void 0),a.set("algoliaApp",null!=(l=e.courseConfiguration)&&null!=(c=l.forumConfiguration)?c.algoliaAppId:void 0),a.set("algoliaApiKey",null!=(p=e.courseConfiguration)&&null!=(h=p.forumConfiguration)?h.algoliaApiKey:void 0),a.set("algoliaIndex",null!=(f=e.courseConfiguration)&&null!=(n=f.forumConfiguration)?n.algoliaIndexName:void 0),$(".coursename").html(d(a.get("courseName"))),this.updateYouTubeFiles(),r.T.MIXPANEL_REGISTER(),40===e.id&&r.T.TAG_SESSION("UpGrad Jobs"),r.trigger(r.E.ADD_MODULE_LIST_LISTENERS),m={courseId:e.id},r.trigger(r.E.TAG_USER_FOR_WEB_PUSH,m),r.Demo.clearTourData(),this.checkCareerSupport()},SET_SESSIONS:function(e,t){var o,n,r,i;for(null==t&&(t=!0),e.empty(),t&&(i="<option>Select a session</option>"),o=n=0;n<=75;o=++n)i+="<option value='"+o+"'>"+o+"</option>";for(o=r=101;r<=110;o=++r)i+="<option value='"+o+"'>Case Study "+(o-100)+"</option>";return e.append(i)},SHOW_LOADER:function(e,t){switch(e){case"studentInfo":return $(".grading-quiz-card-item").addClass("quiz-card-loading-state");case"button":return $(t).find(":submit").addClass("mbtn-loader");case"main-button":return $(t).addClass("loading");case"drawer":return $("#drawer-loader").removeClass("hide");case"upload-submission":return $(t).removeClass("hide");case"courses":return $(t).removeClass("hide");default:return $("body").addClass("body-loading-state")}},HIDE_LOADER:function(e,t){switch(e){case"studentInfo":return $(".grading-quiz-card-item").removeClass("quiz-card-loading-state");case"button":return $(t).find(":submit").removeClass("mbtn-loader");case"main-button":return $(t).removeClass("loading");case"drawer":return $("#drawer-loader").addClass("hide");case"upload-submission":return $(t).addClass("hide");case"courses":return $(t).addClass("hide");default:if($("body").removeClass("body-loading-state"),$(window).width()<976)return;if($(".main-container").removeClass("hide"),!a.get("viewingInIframe"))return $(".viewer-main-navbar").removeClass("hide")}},DISABLE_BUTTON:function(e){return e.addClass("button-loader"),e.prop("disabled",!0)},ENABLE_BUTTON:function(e){return e.removeClass("button-loader"),e.prop("disabled",!1)},SCROLL_TO_ELEMENT:function(e,t,o,n){var r;o||(o="body, html"),t||(t=200),n||(n=200);try{return setTimeout(function(){var r;return $(o).animate({scrollTop:(null!=(r=e.offset())?r.top:void 0)+t},n)},200)}catch(i){return r=i,console.log(r)}},DISABLE_BODY_SCROLL:function(){return $("html, body").addClass("lock-scroll")},ENABLE_BODY_SCROLL:function(){return $("html, body").removeClass("lock-scroll")},ADD_INFO:function(e,t){var o;return t||(t=$(".info-space")),t.empty(),o="<div class='message alert alert-info'>\n\t"+d(e)+"\n\t<span class='close'>\n\t\tx\n\t</span>\n</div>",t.html(o),r.F.CLOSE_INFO_OR_ERROR_MESSAGE(t)},CLOSE_INFO_OR_ERROR_MESSAGE:function(e){var t;return t=$(e).find("span"),setTimeout(function(e){return function(){return t.parent().remove()}}(this),1e4),t.click(function(){return t.parent().remove()})},SET_COURSE_COOKIE_AND_UPDATE_VIDEO_CSS:function(e){var t;if(a.get("courseId"))return Cookies.set("upgrad-last-active-course-id",a.get("courseId")),a.set("startupIndia","YOUTUBE"===(null!=(t=a.get("course").get("courseConfiguration"))?t.mediaType:void 0)),this.updateYouTubeFiles(e)},checkCareerSupport:function(){var e;return e=a.get("courseId"),$.ajax({url:r.C.CAREER_PATH()+"/v1/cohort",type:"GET",headers:{course_id:e}}).done(function(t,o,n){var i,u,l;return t.is_supported?(i=a.get("environment"),u="upgrad-career-transitions-widget",l="upgrad-jobs-widget",s.setCookie("upgrad-career-last-active-course-id."+i,e),r.trigger(r.E.SHOW_MENU_ITEM,"career"),$("#"+u).removeClass("hide"),$("#"+l).removeClass("hide"),$(""+u).length||$("#"+u).append("<"+u+"/>"),$(""+l).length?void 0:$("#"+l).append("<"+l+"/>")):r.trigger(r.E.HIDE_MENU_ITEM,"career")}).fail(function(e,t,o){return r.ERR.SHOW(e)})},courseTimezoneDate:function(e,t){if(null==t&&(t=null),e&&(t||(t=a.get("courseTimezone")),t))return moment(e).tz(t)},formattedDateWithTimezone:function(e,t){var o,n,r,i,s;return e?(o=(null!=t?t.format:void 0)||"DD/MM/YYYY HH:mm:ss",(i=(null!=t?t.timezone:void 0)||a.get("courseTimezone"))?(r=(null!=t?t.removeTimeZoneAbbr:void 0)||!1,e=this.courseTimezoneDate(e,i),n=e.format(o),r||(s=e.zoneAbbr(),n=n+" "+s),n):void 0):null},convertDateToIso:function(e,t){var o,n;if(e)return o=(null!=t?t.format:void 0)||"DD/MM/YYYY HH:mm:ss",n=(null!=t?t.timezone:void 0)||a.get("courseTimezone"),moment.tz(e,o,n).format()},updateYouTubeFiles:function(e){var t,o;if(a.get("startupIndia")){if($("link[title=video-js-css]").length?$("link[title=video-js-css]")[0].disabled=!1:this.addCSSFile("/css/video-js.min.css","video-js-css"),!$("#video-min-js").length)return o=this.addJSFile("/javascripts/video.min.js","video-min-js"),o.onload=function(t){return function(){var o;return o=t.addJSFile("/javascripts/Youtube.min.js","youtube-min-js"),o.onload=function(){if(e)return e()}}}(this);if(e)return e()}else if(null!=(t=$("link[title=video-js-css]")[0])&&(t.disabled=!0),$("#video-min-js").remove(),$("#youtube-min-js").remove(),e)return e()},addCSSFile:function(e,t){var o;return o=document.createElement("link"),o.href=e,o.type="text/css",o.rel="stylesheet",o.title=t,document.getElementsByTagName("head")[0].appendChild(o)},addJSFile:function(e,t){var o;return o=document.createElement("script"),o.type="text/javascript",o.src=e,o.id=t,document.body.appendChild(o),o},scrolledToBottom:function(e){return e?e.innerHeight()+e.scrollTop()>=.9*e[0].scrollHeight:window.innerHeight+window.scrollY>=.9*document.body.scrollHeight},PARSE_QUERY_STRING:function(){var e,t,o,n,r;if(n=window.location.search.substring(1)){for(r=n.split("&"),e=0,t={};e<r.length;)o=r[e].split("="),t[o[0]]=unescape(o[1]),e++;return t}},BIND_ENTER_EVENT:function(e){"Binds an event called 'enter' on presseing enter with input form. elem is the input form passed as argument";return e.keydown(function(t){var o;if(o=t.which,(13===o||10===o)&&!t.shiftKey)return t.preventDefault(),e.trigger("enter")})},VALIDATE_DESC_INPUT:function(e,t){return $(e).find(".form-error-message").addClass("hide"),0!==$(t.description.html).text().length||($(e).find(".form-error-message").removeClass("hide"),setTimeout(function(){return $(e).find(".form-error-message").addClass("hide",2e3)}),!1)},ELLIPISIZE_TEXT_BOX:function(e,t){},SUCCESS_MESSAGE:function(e,t){var o,n;return o=document.createElement("span"),$(o).addClass("close").append("x"),n=document.createElement("div"),$(n).addClass("message alert alert-success").append(t),$(n).append(o),$(n).insertAfter(e),this.CLOSE_MESSAGE(o)},CLOSE_MESSAGE:function(e){var t;return t=$(e),t.click(function(){return t.parent().remove()})},REMOVE_MESSAGE:function(){return $(".message").remove()},HIDE_MESSAGE:function(e){return setTimeout(function(){return this.$(e).find(".message").addClass("hide",3e3)})},VALID_DATES:function(e,t){var o,n,r,i,s;return o=!1,e&&(r=e.val().split("/"),n=parseInt(r.reverse().join(""))),t&&(s=t.val().split("/"),i=parseInt(s.reverse().join(""))),n>=i&&(e.parent(".form-group").children(".error").removeClass("hide"),e.parent(".form-group").children(".error").append("Start Date can not be greater than End Date"),e.parent(".form-group").children(".error").css({display:"inherit"}),o=!0),o},FORMAT_DATE_FOR_COMPARISON:function(e){var t,o,n;return n=e.split(" "),o=n[0].split("/"),t=parseInt(o.reverse().join(""))},FORMAT_TIME_FOR_COMPARISON:function(e){var t,o,n;if(t=e.split(" "),t[1])return n=t[1].split(":"),o=parseInt(n.join(""))},VALID_DATES_TIMES:function(e,t,o,n){var r,i,s,a,u;return r=!0,!(!e.val()||!t.val())&&(e&&(i=this.FORMAT_DATE_FOR_COMPARISON(e.val()),s=this.FORMAT_TIME_FOR_COMPARISON(e.val())),t&&(a=this.FORMAT_DATE_FOR_COMPARISON(t.val()),u=this.FORMAT_TIME_FOR_COMPARISON(t.val())),i>a?(e.parent(".form-group").children(".error").removeClass("hide"),e.parent(".form-group").children(".error").css({display:"inherit","font-weight":"300"}),r=!1,s>u?e.parent(".form-group").children(".error").text(n+" Date and Time should be greater than "+o+" Date and Time"):e.parent(".form-group").children(".error").text(n+" Date should be greater than "+o+" Date")):i===a&&s>=u&&(e.parent(".form-group").children(".error").removeClass("hide"),e.parent(".form-group").children(".error").text(n+" Time should be greater than "+o+" Time"),e.parent(".form-group").children(".error").css({display:"inherit","font-weight":"300"}),r=!1),r)},CHECK_FOR_DATE_GREATER_THAN_N_MONTHS:function(e,t){return moment(e).diff(moment(),"months")>t},REASSIGN_TIMES:function(){return $(".timeago").each(function(){return r.F.MOMENT_TIME(this)})},MOMENT_TIME:function(e){return Date.parse(new Date)<Date.parse(moment($(e).attr("title")))?$(e).text(moment((new Date).toISOString()).fromNow()):$(e).text(moment($(e).attr("title")).fromNow())},select2Matcher:function(e,t){var o,n,i,s,a,u;if(t.parentText=t.parentText||"",""===$.trim(e.term))return t;if(t.children&&t.children.length>0){for(i=$.extend(!0,{},t),o=t.children.length-1;o>=0;)n=t.children[o],n.parentText=t.parentText+" "+t.text,s=r.F.select2Matcher(e,n),null===s&&i.children.splice(o,1),o--;return i.children.length>0?i:r.F.select2Matcher(e,i)}return a=(t.parentText+" "+t.text).toUpperCase(),u=e.term.toUpperCase(),a.indexOf(u)>-1?t:null},FORMAT_TIMESTAMP:function(e){var t,o,n;return e=1e3*e,o=Math.floor(e/1e3/60),n=Math.floor(e/1e3-60*o),t=e-(6e4*o+1e3*n),t=parseInt(t.toFixed(3)),o<10&&(o="0"+o),n<10&&(n="0"+n),t<10?t="00"+t:t<100&&(t="0"+t),e=o+":"+n+":"+t},ON_ANIMATION_END:function(e,t){if(e&&t)return $(e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t)},HIGHLIGHT_TEMPORARILY:function(e){return e.hasClass("component-item")?e.addClass("focussed-element show-highlight-1"):e.addClass("focussed-element show-highlight"),setTimeout(function(){return e.removeClass("show-highlight-1 show-highlight")},3e3)},APPEND_QUARTER_LOGO:function(e,t){var o;if(null==t&&(t="/custom/quarter-g.svg"),o=$('<img class="quarterLogo" src= '+t+">"),!$(e.find(".quarterLogo")).length)return e.append(o)},REMOVE_QUARTER_LOGO:function(e){return $(e.find(".quarterLogo")).remove()},GET_DATE:function(e){var t,o,n,r,i;return o=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getHours()<10?"0"+e.getHours():e.getHours(),r=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),t=o.toString()+"/"+i.toString()+"/"+e.getFullYear()+" "+n.toString()+":"+r.toString()+":00"},GET_DATE_EXCLUDING_TIME:function(e){var t,o,n;if(e)return o=e.getDate()<10?"0"+e.getDate():e.getDate(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,t=o.toString()+"/"+n.toString()+"/"+e.getFullYear()},IS_USER_LOGGED_IN:function(e){return e===u.get("id")},formatEditorContents:function(e){var t;return t=$.parseHTML('<span class="wrapper">'+e.getData()+"</span>"),$(t).find("img").each(function(e){return function(e,t){var o,n,r;if(n=$(t).parent("p"),n.length)return o=$(t).replaceWith("<br>"),r=$(n).prop("outerHTML").replace("<br>","</p>"+$(o).prop("outerHTML")+"<p>"),$(n).replaceWith(r)}}(this)),$(t).html()},getModuleText:function(e,t){var o,n,r,i;return t?r=t.moduleType:(r=e.get("moduleType"),o=e.get("moduleCategory")),"RESOURCE"===o?"RESOURCE":(n=(e.get("label")||e.get("moduleLabel"))+" ","Introduction "===n||"Resource "===n?i=n:(i=n,(e.get("moduleNumber")||e.get("number"))&&(i+=" "+(e.get("moduleNumber")||e.get("number")))),i)},MIXPANEL_TRACK:function(e,t){return mixpanel.track(e,t)},MIXPANEL_SET_PEOPLE_PROPERTY:function(e){return mixpanel.identify(a.get("user_email")),mixpanel.people.set(e)},MIXPANEL_INCREMENT_PROPERTY:function(e){return mixpanel.identify(a.get("user_email")),mixpanel.people.increment(e)},TRIM_EMPTY_SPACES_IN_EDITOR:function(e){return e},fetchAccountSettings:function(e){return n.get("id")?e?e():void 0:(r.F.SHOW_LOADER(),n.fetch({success:function(t){return function(){if(e)return e()}}(this)}))},isDemoPlatform:function(){return a.get("isDemo")},isStartupIndia:function(){return a.get("startupIndia")},isTourAvailable:function(){var e;return e=["data-analytics","digital-marketing","content-marketing","product-management","startup-india-hindi","startup-india-english"],e.indexOf(a.get("programKey"))!==-1},isAllowedScreenSize:function(){return parseInt($(window).width())>=976},STRIP_HTML_TAGS:function(e){var t,o;return t=/(<([^>]+)>)/gi,o=e.replace(t,"")}})):void $(".reload-message").removeClass("hide")},{"./collections/courses":10,"./models/account-settings-model":44,"./models/shared-model":85,"./models/user-model":87,"./views/helpers/helper-methods":104,backbone:318,"sanitize-html":426,underscore:445}],44:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=e("backbone"),i=e("underscore"),r.$=$,n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.idAttribute="id",t.prototype.urlRoot=function(){return r.C.MEDIA_PATH()+"/v2/usersettings"},t.prototype.parse=function(e){return e.data?e.data:e},t}(r.Model),t.exports=new n},{backbone:318,underscore:445}],45:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=e("backbone"),i=e("underscore"),r.$=$,n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.idAttribute="id",t.prototype.urlRoot=function(){return this.get("isUndo")?r.C.ASSESSMENT_PATH()+"/v2/questionsession/answer/undo/":r.C.ASSESSMENT_PATH()+"/v2/questionsession/answer/"},t.prototype.parse=function(e){
return e.data?e.data:e},t}(r.Model),t.exports=n},{backbone:318,underscore:445}],46:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.parse=function(e){return e.data?e.data:e},t.prototype.patch=function(e){return e||(e={}),e.patch=!0,this.save(e)},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],47:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),a=e("underscore"),n.$=$,s=e("../module-model"),i=e("../../collections/builder-collections/sessions"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.idAttribute="id",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/modules"},t.prototype.parse=function(e){return e=e.data?e.data:e,e.description.html=n.F.STRIP_HTML_TAGS(e.description.html),e.lastSyncedAttributes=JSON.parse(JSON.stringify(e)),e},t.prototype.changedSinceLastSync=function(){var e,t,o,n,r,i,s;if(e=!1,this.isNew())a.each(["name","description","moduleType","moduleGroupId","isElective"],function(t){return function(o){if(t.get(o))return e=("description"!==o||""!==t.get(o).html)&&("moduleType"!==o||"CONCEPT"!==t.get(o))}}(this));else{t=this.get("lastSyncedAttributes");for(r in t)if(t.hasOwnProperty(r)&&"number"!==r&&this.get(r)!==t[r]){if("description"!==r){e=!0;break}o=null!=(i=this.get(r))?i.html:void 0,n=null!=(s=t[r])?s.html:void 0,e=!(!n&&!o||n===o)}}return e},t.prototype.rollback=function(){return this.isNew()?a.each(["name","description","moduleType","moduleGroupId","isElective"],function(e){return function(t){return e.set(t,null)}}(this)):this.set(this.get("lastSyncedAttributes"))},t.prototype.publishUrl=function(){return this.url()+"/publish"},t.prototype.unpublishUrl=function(){return this.url()+"/unpublish"},t}(s),t.exports=r},{"../../collections/builder-collections/sessions":6,"../module-model":72,backbone:318,"backbone-relational":316,underscore:445}],48:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.modelEl="Segment",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/pagesegments"},t.prototype.parse=function(e){return e=e.data?e.data:e,e.lastSyncedAttributes=i.extend({},e),e},t.prototype.changedSinceLastSync=function(){var e,t,o;if(e=!1,this.isNew())i.each(["name"],function(t){return function(o){if(t.get(o))return e=!0}}(this));else{t=this.get("lastSyncedAttributes");for(o in t)if(t.hasOwnProperty(o)&&"components"!==o&&this.get(o)!==t[o]){e=!0;break}}return e},t.prototype.rollback=function(){return this.isNew()?i.each(["name"],function(e){return function(t){return e.set(t,null)}}(this)):this.set(this.get("lastSyncedAttributes"))},t.prototype.publishUrl=function(){return this.url()+"/publish"},t.prototype.unpublishUrl=function(){return this.url()+"/unpublish"},t}(n.Model),t.exports=r},{backbone:318,"backbone-relational":316,underscore:445}],49:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,s=e("../session-model"),r=e("../../collections/builder-collections/segments"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.idAttribute="id",t.prototype.modelEl="Session",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/sessions"},t.prototype.parse=function(e){var t,o;return e=e.data?e.data:e,o=e.segments,t=0,a.each(o,function(e){return function(e){return e.position=t,t++}}(this)),this.get("segments")?e.segments=this.get("segments"):(e.segments=new r,e.segments.add(o,{parse:!0})),e.lastSyncedAttributes=a.extend({},e),e},t.prototype.changedSinceLastSync=function(){var e,t,o,n,r,i,s;if(e=!1,this.isNew())a.each(["name","description","isOptional","sessionType"],function(t){return function(o){if(t.get(o)){if("description"===o&&""===t.get(o).html)return e=!1;if("sessionType"!==o||"CONCEPT"!==t.get(o))return e=!0}}}(this));else{t=this.get("lastSyncedAttributes");for(r in t)if(t.hasOwnProperty(r)&&this.get(r)!==t[r]){if("description"!==r){e=!0;break}o=null!=(i=this.get(r))?i.html:void 0,n=null!=(s=t[r])?s.html:void 0,e=!(!n&&!o||n===o)}}return e},t.prototype.rollback=function(){return this.isNew()?a.each(["name","description","isOptional","sessionType"],function(e){return function(t){return e.set(t,null)}}(this)):this.set(this.get("lastSyncedAttributes"))},t}(n.Model),t.exports=i},{"../../collections/builder-collections/segments":5,"../session-model":84,backbone:318,underscore:445}],50:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),s=e("underscore"),n.$=$,i=e("./speaker-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.idAttribute="id",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/calendar"},t.prototype.parse=function(e){var t,o;return t=e.data?e.data:e,t.formattedEventDate=n.F.formattedDateWithTimezone(t.eventDateIso,{format:"YYYY-MM-DD",removeTimeZoneAbbr:!0}),t.eventMomentObj=n.F.courseTimezoneDate(t.eventDateIso),t.speakers&&(o=[],s.each(t.speakers,function(e){return e=new i(e),o.push(e)}),t.speakers=o),t},t}(n.Model),t.exports=r},{"./speaker-model":86,backbone:318,underscore:445}],51:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.initialize=function(){},t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/sessions/feedback/cannedresponses"},t.prototype.parse=function(e){return e.data?e.data:e},t}(n.Model),t.exports=new r},{backbone:318,underscore:445}],52:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.idAttribute="id",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v3/components"},t.prototype.parse=function(e){return e=e.data?e.data:e,delete e.lastSyncedAttributes,e.lastSyncedAttributes=i.extend({},e),e},t.prototype.findVideoQuizPoint=function(e){return i.find(this.get("videoQuizPoints"),function(t){return e.id&&t.quiz.id?t.quiz.id===e.id:e.cid&&t.quiz.cid?t.quiz.cid===e.cid:t.timeStamp===e.timeStamp})},t.prototype.changedSinceLastSync=function(){var e,t,o,n,r;if(e=!1,"text"!==this.get("type")||this.get("subType")||this.trigger("updateModelText"),this.isNew())e=!("text"===this.get("type")&&!this.get("text").html&&!this.get("subType"));else{t=this.get("lastSyncedAttributes");for(r in t)if(t.hasOwnProperty(r)){if("object"==typeof t[r]){n=t[r];for(o in n)if(n.hasOwnProperty(o)){e=n[o]!==this.get(r)[o];break}}else e=this.get(r)!==t[r];if(e)break}}return e},t.prototype.isClassOpinion=function(){return"CLASS_OPINION"===this.get("subType")},t.prototype.isSubmission=function(){return"submission"===this.get("type")},t.prototype.isVideo=function(){return"video"===this.get("type")},t.prototype.isCodeQuiz=function(){return["CODE_CONSOLE","CODE_CONSOLE_DO_SELECT"].indexOf(this.get("subType"))!==-1},t.prototype.rollback=function(){if(this.changedSinceLastSync())return this.set(this.get("lastSyncedAttributes"))},t}(n.RelationalModel),t.exports=r},{backbone:318,"backbone-relational":316,underscore:445}],53:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.idAttribute="id",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/progress"},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],54:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),s=e("underscore"),n.$=$,i=e("./shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/enrollments/permissions/"+i.get("courseId")},t.prototype.parse=function(e){return e.data?e.data:e},t.prototype.modules=["demo","studentDirectory","forumStats","discussions","calendar","course","dashboard","userProfile","leaderboard","intercom","notifications","grades","contextDiscussions","referral","reportError"],t.prototype.defaults={dashboard:{read:!0,subModules:{courseProgress:{read:!0},recentlyOnline:{read:!0},weeklyForumStats:{read:!0}}},mixPanel:{enable:!0},demo:{read:!0},forumStats:{read:!0},studentDirectory:{read:!0},discussions:{read:!0,actions:{upvote:{create:!0,read:!0},bookmark:{create:!0,read:!0},question:{create:!0,update:!0,"delete":!0},answer:{read:!0,create:!0,update:!0,"delete":!0},comment:{read:!0,create:!0,update:!0,"delete":!0},pin:{read:!0,create:!0,"delete":!0},context:{update:!0}}},contextDiscussions:{read:!0,actions:{upvote:{create:!0,read:!0},bookmark:{create:!0,read:!0},question:{create:!0,update:!0,"delete":!0},answer:{read:!0,create:!0,update:!0,"delete":!0},comment:{read:!0,create:!0,update:!0,"delete":!0},pin:{read:!0,create:!0,"delete":!0},context:{update:!0}}},course:{read:!0,actions:{progress:{read:!0,create:!0},assessment:{read:!0,create:!0},video:{skip:!0}}},calendar:{read:!0},intercom:{read:!0},leaderboard:{read:!0},notifications:{read:!0},userProfile:{read:!0,update:!0,subModules:{badges:{read:!0},education:{read:!0,create:!0},work:{read:!0,create:!0}}},userDiscussions:{read:!0},grades:{read:!0},referral:{read:!0},reportError:{enable:!0}},t.prototype.showModule=function(e){var t;return null!=(t=this.get(e))?t.read:void 0},t.prototype.showSubModule=function(e,t){var o,n,r;return null!=(o=this.get(e))&&null!=(n=o.subModules)&&null!=(r=n[t])?r.read:void 0},t.prototype.checkDiscussionPermission=function(e,t){var o,n,r;return null!=(o=this.get("discussions"))&&null!=(n=o.actions)&&null!=(r=n[e])?r[t]:void 0},t.prototype.checkContextDiscussionPermission=function(e,t){var o,n,r;return null!=(o=this.get("contextDiscussions"))&&null!=(n=o.actions)&&null!=(r=n[e])?r[t]:void 0},t.prototype.checkReportErrorPermission=function(e){var t;return null!=(t=this.get("reportError"))?t[e]:void 0},t.prototype.checkCoursePermission=function(e,t){var o,n,r;return null!=(o=this.get("course"))&&null!=(n=o.actions)&&null!=(r=n[e])?r[t]:void 0},t.prototype.checkProfilePermission=function(e,t){var o,n,r,i;return e?null!=(o=this.get("userProfile"))&&null!=(n=o.subModules)&&null!=(r=n[e])?r[t]:void 0:null!=(i=this.get("userProfile"))?i[t]:void 0},t.prototype.checkVideoSkipPermission=function(){return this.get("course").actions.video.skip},t.prototype.checkMixpanelTrackPermission=function(){return this.get("mixPanel").enable},t}(n.Model),t.exports=new r},{"./shared-model":85,backbone:318,underscore:445}],55:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),s=e("underscore"),i=e("./shared-model"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.basePath=function(){return n.C.DISCUSSIONS_PATH()+"/v1/contentquestions/"},t.prototype.url=function(){return this.basePath()+this.get("id")+"/"},t}(n.Model),t.exports=r},{"./shared-model":85,backbone:318,"backbone-relational":316,underscore:445}],56:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),u=e("underscore"),i=e("../collections/enrollments"),s=e("../collections/builder-collections/modules"),a=e("../collections/builder-collections/resources"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.idAttribute="id",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/courses"},t.prototype.initialize=function(){return u.bindAll(this,"parse","changedSinceLastSync")},t.prototype.parse=function(e){var t;if(e)return t=i.find(function(t){return function(t){return t.get("course").id===e.id}}(this)),e.role=null!=t?t.get("role"):void 0,e.lastSyncedAttributes=u.extend({},e),this.updateModulesAndResources(e.modules),delete e.modules,e},t.prototype.updateModulesAndResources=function(e){var t,o;return t=[],o=[],e||(e=[]),u.each(e,function(e){return function(e){return"RESOURCE"===e.moduleCategory?o.push(e):t.push(e)}}(this)),a.reset(o,{parse:!0}),s.reset(t,{parse:!0})},t.prototype.changedSinceLastSync=function(){var e,t,o;if(e=!1,this.isNew())u.each(["name","isCertified","courseLevel","minimumStrength","maximumStrength","startDateIso","endDateIso","duration","durationType","effortsRequired"],function(t){return function(o){if(t.get(o))return e=!0}}(this));else{t=this.get("lastSyncedAttributes");for(o in t)t.hasOwnProperty(o)&&this.get(o)!==t[o]&&"modules"!==o&&(e=!0)}return e},t.prototype.rollback=function(){return this.set(this.get("lastSyncedAttributes"))},t.prototype.unpublish=function(e,t){return this.save({},{patch:!0,parse:!1,url:this.url()+"/unpublish",success:function(t){return function(){if(e)return e()}}(this),error:function(e){return function(e,o){if(t)return t(e,o)}}(this)})},t}(n.Model),t.exports=r},{"../collections/builder-collections/modules":3,"../collections/builder-collections/resources":4,"../collections/enrollments":23,backbone:318,"backbone-relational":316,underscore:445}],57:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),s=e("underscore"),n.$=$,i=e("./shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/progress/current"},t.prototype.initialize=function(){return s.bindAll(this,"parse")},t.prototype.parse=function(e){var t;if(i.get("courseId")&&e&&e.component)return t=e.component,t.isFirstModule=e.isFirst,t},t}(n.Model),t.exports=r},{"./shared-model":85,backbone:318,"backbone-relational":316,underscore:445}],58:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,r=e("../../collections/discussions/discussion-comments"),s=e("../../models/shared-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.modelEl="DiscussionAnswerModel",t.prototype.basePath=function(){return n.C.DISCUSSIONS_PATH()+"/v1/answers/"},t.prototype.url=function(){return this.isNew()?this.basePath():this.basePath()+this.get("id")+"/"},t.prototype.upvote=function(){var e;return e=this.basePath()+this.get("id")+"/vote/",n.F.AJAX("POST",e,null,null,{})},t.prototype.downvote=function(){var e;return e=this.basePath()+this.get("id")+"/vote/",n.F.AJAX("DELETE",e,null,null,{})},t.prototype.verify=function(e){var t,o;if(o=this.basePath()+this.get("id")+"/verify/",n.F.AJAX("POST",o,null,null,{}),this.get("isStudentAccepted")>0)return t={questionId:e,answerId:this.get("id"),courseId:s.get("courseId")},n.T.MIXPANEL_TRACK("verified_accepted_answer",t)},t.prototype.unverify=function(){var e;return e=this.basePath()+this.get("id")+"/verify/",n.F.AJAX("DELETE",e,null,null,{})},t.prototype.markAsAccepted=function(e,t,o){var r;return r=this.basePath()+this.get("id")+"/accept/",n.F.AJAX("POST",r,function(o){return function(){var r;return r={questionId:e,answerId:o.get("id"),courseId:s.get("courseId")},n.T.MIXPANEL_TRACK("acceptance_answer",r),t()}}(this),o,{})},t.prototype.parse=function(e){var t,o,n,i,s;for(s=document.createElement("div"),s.innerHTML=e.body,o=s.getElementsByTagName("img"),n=0,i=o.length;n<i;n++)t=o[n],t.src=t.src+"/720",t.className.indexOf("image-editor")===-1&&(t.className+=" image-editor");return e.body=s.innerHTML,e.comments=new r(e.comments||[]),e},t.prototype.save=function(e,t){var o,r,i,s,a;if(!this.isNew()){for(a=document.createElement("div"),a.innerHTML=this.get("body"),r=a.getElementsByTagName("img"),i=0,s=r.length;i<s;i++)o=r[i],o.src=o.src.replace(/\/720/g,"");e.body=a.innerHTML}return n.Model.prototype.save.call(this,e,t)},t}(n.Model),t.exports=i},{"../../collections/discussions/discussion-comments":12,"../../models/shared-model":85,backbone:318,underscore:445}],59:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.modelEl="DiscussionCommentModel",t.prototype.url=function(){return this.isNew()?n.C.DISCUSSIONS_PATH()+"/v1/comments/":n.C.DISCUSSIONS_PATH()+"/v1/comments/"+this.get("id")+"/"},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],60:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;i=e("underscore"),n=e("backbone"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.url=function(){return n.C.FORUM_PATH()+"/v1/contexts/all/"+this.get("id")},t.prototype.parse=function(e){return e.data?e.data:e},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],61:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),u=e("underscore"),n.$=$,i=e("../../collections/discussions/discussion-answers"),r=e("../../collections/discussions/discussion-comments"),a=e("./discussion-question-model"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.modelEl="DiscussionQuestionAnswersModel",t.prototype.basePath=function(){return n.C.DISCUSSIONS_PATH()+"/v3/questions/"},t.prototype.url=function(){return this.basePath()+(this.get("questionId")+"/")},t.prototype.parse=function(e){return u.each(e.answers,function(e){return e.comments=new r(e.comments)}),i.reset(e.answers),delete e.answers,e},t}(a),t.exports=s},{"../../collections/discussions/discussion-answers":11,"../../collections/discussions/discussion-comments":12,"./discussion-question-model":62,backbone:318,underscore:445}],62:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,r=e("../base-model"),s=e("../shared-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.modelEl="DiscussionQuestionModel",t.prototype.basePath=function(){return n.C.DISCUSSIONS_PATH()+"/v3/questions/"},t.prototype.url=function(){return this.isNew()?this.basePath():this.basePath()+this.get("id")+"/"},t.prototype.parse=function(e){var t,o,n,r,i;for(i=document.createElement("div"),i.innerHTML=e.body,o=i.getElementsByTagName("img"),n=0,r=o.length;n<r;n++)t=o[n],t.src=t.src+"/720",t.className.indexOf("image-editor")===-1&&(t.className+=" image-editor");return e.body=i.innerHTML,e.lastSyncedAttributes=a.extend({},e),e},t.prototype.save=function(e,t){var o,r,i,s,a;if(!this.isNew()){for(a=document.createElement("div"),a.innerHTML=this.get("body"),r=a.getElementsByTagName("img"),i=0,s=r.length;i<s;i++)o=r[i],o.src=o.src.replace(/\/720/g,"");e.body=a.innerHTML}return n.Model.prototype.save.call(this,e,t)},t.prototype.upvote=function(){var e;return e=this.basePath()+this.get("id")+"/vote/",n.F.AJAX("POST",e,null,null,{})},t.prototype.downvote=function(){var e;return e=this.basePath()+this.get("id")+"/vote/",n.F.AJAX("DELETE",e,null,null,{})},t.prototype.pin=function(e){var t,o;return o=this.basePath()+this.get("id")+("/pin/?pinnedType="+e),t=function(e){return function(){return e.trigger("pinned")}}(this),n.F.AJAX("POST",o,t,null,{})},t.prototype.unpin=function(){var e,t;return t=this.basePath()+this.get("id")+"/pin/",e=function(e){return function(){return e.trigger("unpinned")}}(this),n.F.AJAX("DELETE",t,e,null,{})},t.prototype.star=function(e){var t;return this.set("isStarred",!0),t=this.basePath()+this.get("id")+"/star/",n.F.AJAX("POST",t,null,null,JSON.stringify(e),"json","application/json")},t.prototype.unstar=function(){var e;return this.set("isStarred",!1),e=this.basePath()+this.get("id")+"/star/",n.F.AJAX("DELETE",e,null,null,{})},t.prototype.bookmark=function(e){var t;return t=this.basePath()+this.get("id")+"/bookmark/",n.F.AJAX("POST",t,e,null,{})},t.prototype.removeBookmark=function(e){var t;return t=this.basePath()+this.get("id")+"/bookmark/",n.F.AJAX("DELETE",t,e,null,{})},t.prototype.markReviewed=function(){var e,t;if(e=this.get("annotations")||[],t=a.find(e[0],function(e){return function(e,t){return"Reviewed by TA"===e.text}}(this)),t||e.push({type:"green-label",text:"Reviewed by TA"}),s.get("featureFlags").taStar.isEnabled)return this.get("context").externalId>0&&this.set("isStarable",!0),this.trigger("showStarOption")},t.prototype.unverify=function(){var e,t;return e=this.get("annotations"),t=e.findIndex(function(e){return function(e){return"Reviewed by TA"===e.text}}(this)),e.splice(t,1),this.set("isStarable",!1),this.set("isStarred",!1)},t.prototype.rollback=function(){return this.set(this.get("lastSyncedAttributes"))},t}(r),t.exports=i},{"../base-model":46,"../shared-model":85,backbone:318,underscore:445}],63:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.modelEl="FlagModel",t.prototype.url=function(){return n.C.DISCUSSIONS_PATH()+"/v1/flags/"},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],64:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;i=e("underscore"),n=e("backbone"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.modelEl="enrollment",t}(n.Model),t.exports=r},{backbone:318,underscore:445}],65:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.url=function(){return n.C.FORUM_PATH()+"/v3/questions/search/"},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],66:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.idAttribute="id",t.prototype.defaults={rating:null,timeTaken:null,feedback:null,sessionId:null,reason:null},t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/sessions/feedback"},t.prototype.parse=function(e){return e.data?e.data:e},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],67:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.url=function(){return n.C.DISCUSSIONS_PATH()+"/v1/forumstats/"},t.prototype.parse=function(e){return e.data?e.data:e},t}(n.Model),t.exports=new r},{backbone:318,underscore:445}],68:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t}(n.Model),t.exports=r},{backbone:318,underscore:445}],69:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.url=function(){return n.C.LECTURE_PATH()+"/student/feedback"},t.prototype.rollback=function(){if(this.isNew())return i.each(["lectureRating","instructorRating","subjectiveFeedback"],function(e){return function(t){return e.set(t,null)}}(this))},t}(n.Model),t.exports=new r},{backbone:318,underscore:445}],70:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.getBatchDetails=function(e,t){return this.url=n.C.LECTURE_PATH()+"/student/enrollment/details",this.fetch({success:e,error:t})},t.prototype.parse=function(e){var t,o,r,i;if(e.result&&e.result!=={}){if(null!=(o=e.result.active)?o.length:void 0)t=e.result.active[0];else if(null!=(r=e.result.upcoming)?r.length:void 0)t=e.result.upcoming[0];else{if(null==(i=e.result.completed)||!i.length)return void n.ERR.SHOW("Something went wrong. Please try after sometime.");t=e.result.completed[0]}return t.serverTime=e.serverTime,t}n.ERR.SHOW("Something went wrong. Please try after sometime.")},t.prototype.markAttendance=function(e,t){return this.url=n.C.LECTURE_PATH()+"/student/attendance",this.save({},{success:e,error:t,type:"POST",parse:!1})},t}(n.Model),t.exports=new r},{backbone:318,underscore:445}],71:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.modelEl="ModuleGroup",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/modulegroups"},t}(n.Model),t.exports=r},{backbone:318,"backbone-relational":316,underscore:445}],72:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),s=e("underscore"),n.$=$,i=e("../collections/builder-collections/sessions"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.idAttribute="id",t.prototype.modelEl="Module",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/modules"},t.prototype.parse=function(e){return e.color||(e.color=e.colour),e},t.prototype.displayModuleType=function(){var e,t;return e=this.get("moduleType").split("_"),t="",s.each(e,function(e){return function(e){return t+=e[0].toUpperCase()+e.substr(1).toLowerCase()+" "}}(this)),t},t.prototype.isUnavailable=function(){return!this.get("availableFromIso")||this.get("availableFromIso")&&moment(this.get("availableFromIso")).diff(moment())>0},t.prototype.deadlineInFuture=function(){return!this.get("deadlineIso")||this.get("deadlineIso")&&moment(this.get("deadlineIso")).diff(moment())>0},t.prototype.isResource=function(){return"RESOURCE"===this.get("moduleCategory")||"RESOURCE"===this.get("moduleType")},t.prototype.getGroupId=function(){var e;return this.isResource()?"RESOURCE":null!=(e=this.get("moduleGroup"))?e.id:void 0},t.prototype.getFormattedTimeRemaining=function(){var e,t,o;return t=Math.floor(this.get("progress").timeRemaining/60),o=this.get("progress").timeRemaining%60,e="",t&&(e=t+" hr "),(o||0===t&&0===o)&&(e+=o+" min"),e},t.prototype.completedSubmissionsCount=function(){var e;return null!=(e=this.get("progress"))?e.submissionsCompleted:void 0},t.prototype.pendingSubmissionsCount=function(){return this.get("totalNumberOfSubmissions")-this.completedSubmissionsCount()},t.prototype.getBackground=function(){var e,t,o,n;return e=null!=(t=this.get("gradient"))?t.from:void 0,n=null!=(o=this.get("gradient"))?o.to:void 0,"linear-gradient(to bottom, "+e+", "+n+")"},t}(n.Model),t.exports=r},{"../collections/builder-collections/sessions":6,backbone:318,"backbone-relational":316,underscore:445}],73:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.path=function(){return n.C.NOTIFICATIONS_PATH()},t.prototype.urlRoot=function(){return this.path()+"/notifications/"},t.prototype.initialize=function(){return i.bindAll(this,"parse")},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],74:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),
i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.idAttribute="id",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/nps/coursenps"},t.prototype.npsViewedSave=function(e,t){return this.save({},{type:"POST",url:n.C.MEDIA_PATH()+"/v2/nps/npsfeedbackpagevisit/"+this.id,success:function(t){if(e)return e(t)},error:function(e,o){if(t)return t(e,o)}})},t.prototype.npsRatingSave=function(e,t){return this.save({},{type:"POST",url:n.C.MEDIA_PATH()+"/v2/nps/courserating/"+this.id,success:function(t){if(e)return e(t)},error:function(e,o){if(t)return t(e,o)}})},t}(n.Model),t.exports=new r},{backbone:318,underscore:445}],75:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+("/v2/progress/course/"+this.get("courseId"))},t.prototype.parse=function(e){var t;return t=e.data?e.data:e,t.course&&t.course.userProgress&&(t.course.userProgress=Math.round(t.course.userProgress)),t.course&&t.course.averageProgress&&(t.course.averageProgress=Math.round(t.course.averageProgress)),t},t}(n.Model),t.exports=new r},{backbone:318,"backbone-relational":316,underscore:445}],76:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;s=e("underscore"),n=e("backbone"),n.$=$,i=e("../shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.parse=function(e){return e=e.data?e.data:e},t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/progress/courses"},t}(n.Model),t.exports=new r},{"../shared-model":85,backbone:318,underscore:445}],77:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+("/v2/progress/module/"+this.get("moduleId"))},t.prototype.parse=function(e){return e.data?e.data:e},t}(n.Model),t.exports=new r},{backbone:318,"backbone-relational":316,underscore:445}],78:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+("/v2/progress/segment/"+this.get("segmentId"))},t.prototype.parse=function(e){return e.data?e.data:e},t}(n.Model),t.exports=new r},{backbone:318,"backbone-relational":316,underscore:445}],79:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+("/v2/progress/session/"+this.get("sessionId"))},t.prototype.parse=function(e){return e.data?e.data:e},t}(n.Model),t.exports=new r},{backbone:318,"backbone-relational":316,underscore:445}],80:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),s=e("underscore"),n.$=$,i=e("./question-session-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.idAttribute="questionId",t.prototype.relations=[{type:n.HasOne,key:"questionsessions",relatedModel:i,reverseRelation:{key:"question"}}],t.prototype.urlRoot=function(){return n.C.ASSESSMENT_PATH()+"/v2/questions/"},t.prototype.initialize=function(){return s.bindAll(this,"parse")},t.prototype.tryRun=function(e,t,o){var r;return r=n.C.ASSESSMENT_PATH()+("/v2/questionsession/"+this.get("id")+"/code-test-run/"),n.F.AJAX("POST",r,t,o,JSON.stringify(e),"json","application/json")},t.prototype.updateOrder=function(e){var t;if(t=this.get("order"),this.set("order",e),t!==e)return this.save(this.toJSON(),{url:""+this.urlRoot()+this.get("questionId")+"/"})},t.prototype.destroy=function(e){return e=e||{},e.url=this.urlRoot()+this.get("questionId")+"/",n.Model.prototype.destroy.call(this,e)},t}(n.RelationalModel),t.exports=r},{"./question-session-model":81,backbone:318,"backbone-relational":316,underscore:445}],81:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.idAttribute="id",t.prototype.initialize=function(){return i.bindAll(this,"render","parse")},t.prototype.render=function(){return console.log("render called")},t}(n.RelationalModel),t.exports=r},{backbone:318,"backbone-relational":316,underscore:445}],82:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),s=e("underscore"),n.$=$,r=e("./question-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.idAttribute="quizId",t.prototype.relations=[{type:n.HasMany,key:"questionSessions",relatedModel:r,reverseRelation:{key:"quiz",includeInJSON:"quizId"}}],t.prototype.urlRoot=function(){return n.C.ASSESSMENT_PATH()+"/v2/quizzes/"},t.prototype.initialize=function(){return s.bindAll(this,"render")},t.prototype.render=function(){return console.log("render called")},t.prototype.save=function(e,t){return this.isNew()||(t=t||{},e=e||this.toJSON(),t.url=t.url||this.urlRoot()+this.get("quizId")+"/"),n.Model.prototype.save.call(this,e,t)},t.prototype.destroy=function(e){return e=e||{},e.url=e.url||this.urlRoot()+this.get("quizId")+"/",n.Model.prototype.destroy.call(this,e)},t}(n.RelationalModel),t.exports=i},{"./question-model":80,backbone:318,"backbone-relational":316,underscore:445}],83:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;e("backbone-relational"),n=e("backbone"),s=e("underscore"),n.$=$,r=e("./component-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.idAttribute="id",t.prototype.modelEl="Segment",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/pagesegments"},t.prototype.relations=[{type:n.HasMany,key:"components",relatedModel:r,reverseRelation:{key:"segment"}}],t.prototype.hasSubmissions=function(){return this.get("totalNumberOfSubmissions")>0},t.prototype.completedSubmissionsCount=function(){var e;return null!=(e=this.get("progress"))?e.submissionsCompleted:void 0},t.prototype.pendingSubmissionsCount=function(){return this.get("totalNumberOfSubmissions")-this.completedSubmissionsCount()},t}(n.RelationalModel),t.exports=i},{"./component-model":52,backbone:318,"backbone-relational":316,underscore:445}],84:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.idAttribute="id",t.prototype.modelEl="Session",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/sessions"},t.prototype.defaults={isIncludedInProgress:!0},t.prototype.isUnavailable=function(){return!this.get("availableFromIso")||this.get("availableFromIso")&&moment(this.get("availableFromIso")).diff(moment())>0},t.prototype.parse=function(e){return e.data?e.data:e},t.prototype.updateProgress=function(e){var t,o;return this.set("progress",e),t=this.get("segments"),o=e.segments,i.each(o,function(e){return function(e){var o;return o=t.get(e.id),o.set("progress",e)}}(this))},t.prototype.getFormattedTimeRemaining=function(){var e,t,o,n;return e=Math.floor(this.get("progress").timeRemaining/60),o=this.get("progress").timeRemaining%60,t=e>=1?1===e?e+" hr ":e+" hrs ":"",n=o>=1?1===o?o+" min left":o+" mins left":"",t+n},t.prototype.hasSubmissions=function(){return this.get("totalNumberOfSubmissions")>0},t.prototype.completedSubmissionsCount=function(){var e,t;return e=0,null!=(t=this.get("progress"))?t.submissionsCompleted:void 0},t.prototype.pendingSubmissionsCount=function(){return this.get("totalNumberOfSubmissions")-this.completedSubmissionsCount()},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],85:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.defaults={currentView:"",previousView:"",currentSubView:"",previousSubView:""},t.prototype.initialize=function(){return i.bindAll(this,"destroyPreviousView","resetCurrentView","destroyPreviousSubView","resetCurrentSubView"),this.listenTo(this,"change:currentView",this.destroyPreviousView),this.listenTo(this,"change:currentSubView",this.destroyPreviousSubView)},t.prototype.destroyPreviousView=function(){if(this.get("previousView"))return n.trigger("hide:"+this.get("previousView"))},t.prototype.resetCurrentView=function(e){return window.scroll(0,0),this.get("currentView")===e&&n.trigger("hide:"+this.get("currentView")),this.set("previousView",this.get("currentView")),this.set("currentView",e)},t.prototype.destroyPreviousSubView=function(){if(this.get("previousSubView"))return n.trigger("hide:"+this.get("previousSubView"))},t.prototype.resetCurrentSubView=function(e){return this.get("currentSubView")===e&&n.trigger("hide:"+this.get("currentSubView")),this.set("previousSubView",this.get("currentSubView")),this.set("currentSubView",e)},t}(n.Model),t.exports=new r},{backbone:318,underscore:445}],86:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.idAttribute="id",t.prototype.urlRoot=function(){return n.C.MEDIA_PATH()+"/v2/calendar/speakers"},t.prototype.parse=function(e){return e.data?e.data:e},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],87:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,r=e("../collections/enrollments"),i=e("./shared-model"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.initialize=function(){},t.prototype.findRelevantEnrollment=function(e){return e=e||i.get("courseId"),r.find(function(t){return t.get("course").id===e})},t.prototype.hasRole=function(e,t){var o;return o=this.findRelevantEnrollment(t),(null!=o?o.get("role"):void 0)===e},t.prototype.isTeacher=function(e){return this.hasRole("TEACHER",e)||this.hasRole("ADMIN",e)},t.prototype.isTA=function(e){return this.hasRole("TA",e)},t.prototype.isStudent=function(e){return this.hasRole("STUDENT",e)},t.prototype.isDeferredStudent=function(e){return this.hasRole("DEFERRED_STUDENT",e)},t.prototype.isStudentTa=function(e){return this.hasRole("STUDENT_TA",e)},t.prototype.isInternalStudent=function(e){return this.hasRole("INTERNAL_STUDENT",e)},t.prototype.isAdmin=function(e){return this.hasRole("ADMIN",e)},t.prototype.userIsAdmin=function(){return"ROLE_ADMIN"===this.get("highestRole")},t}(n.Model),t.exports=new s},{"../collections/enrollments":23,"./shared-model":85,backbone:318,underscore:445}],88:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/badge"},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],89:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.url=function(){return this.isNew()?n.C.MEDIA_PATH()+"/v2/educationhistory":n.C.MEDIA_PATH()+"/v2/educationhistory/"+this.get("id")},t.prototype.parse=function(e){return e.data?e.data:e},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],90:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.url=function(){return this.isNew()?n.C.MEDIA_PATH()+"/v2/workhistory":n.C.MEDIA_PATH()+"/v2/workhistory/"+this.get("id")},t.prototype.parse=function(e){return e.data?e.data:e},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],91:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.url=function(){return n.C.DISCUSSIONS_PATH()+"/v1/users/"+this.get("userId")+"/"},t.prototype.parse=function(e){return e.data?e.data:e},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],92:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.idAttribute="userId",t.prototype.url=function(){return n.C.MEDIA_PATH()+"/v2/userprofiles/"+this.get("id")},t.prototype.parse=function(e){return e.data?e.data:e},t.prototype.save=function(e,t){return this.isNew()||(t=t||{},e=e||{},t.url=n.C.MEDIA_PATH()+"/v2/userprofiles",t.patch&&(e=this.dataForPatch())),n.Model.prototype.save.call(this,e,t)},t.prototype.dataForPatch=function(){return{address:this.get("address"),facebookURL:this.get("facebookURL"),linkedInURL:this.get("linkedInURL"),profilePic:this.get("profilePic"),twitterURL:this.get("twitterURL"),biography:this.get("biography"),firstname:this.get("firstname"),lastname:this.get("lastname")}},t}(n.Model),t.exports=r},{backbone:318,underscore:445}],93:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t}(n.Model),t.exports=r},{backbone:318,underscore:445}],94:[function(e,t,o){var n,r,i;n=e("backbone"),r=e("underscore"),n.$=$,n.E||(n.E={}),i={HIDE_MENU_ITEM:"hide:menu-item",SHOW_MENU_ITEM:"show:menu-item",FETCH_CONFIG_AND_BUILD_APP:"build-app-by-config",SHOW_LECTURES_TAB:"show:lectures-tab",SHOW_LIVE_LECTURE:"show:live-lecture",ADD_ACCOUNT_SETTINGS_LISTENER:"add:account-settings-listener",ADD_CALENDAR_LISTENER:"add:calendar-listener",ADD_COURSE_LISTENER:"add:course-listener",ADD_DASHBOARD_LISTENER:"add:dashboard-listener",ADD_DISCUSSIONS_LISTENER:"add:discussions-listener",ADD_INTERCOM_LISTENER:"add:intercom-listener",ADD_NOTIFICATIONS_LISTENER:"add:notifications-listerner",ADD_USER_PROFILE_LISTENER:"add:user-profile-listener",ADD_FORUM_STATS_LISTENER:"add:forum-stats-listener",ADD_LEADERBOARD_LISTENER:"add:leaderboard-listener",ADD_STUDENT_DIRECTORY_LISTENER:"add:student-directory-listener",ADD_GRADES_LISTENER:"add:grades-listener",ADD_FEEDBACK_LISTENER:"add:feedback-listener",ADD_REFERRAL_LISTENER:"add:referral-listener",ADD_CONTEXT_DISCUSSIONS_LISTENER:"add:context-discussions-listener",ADD_DEMO_LISTENER:"add:demo-listener",ADD_REPORT_ERROR_LISTENER:"add:report-error-listener",REMOVE_ACCOUNT_SETTINGS_LISTENER:"remove:account-settings-listener",REMOVE_CALENDAR_LISTENER:"remove:calendar-listener",REMOVE_COURSE_LISTENER:"remove:course-listener",REMOVE_DASHBOARD_LISTENER:"remove:dashboard-listener",REMOVE_DISCUSSIONS_LISTENER:"remove:discussions-listener",REMOVE_INTERCOM_LISTENER:"remove:intercom-listener",REMOVE_NOTIFICATIONS_LISTENER:"remove:notifications-listerner",REMOVE_USER_PROFILE_LISTENER:"remove:user-profile-listener",REMOVE_FORUM_STATS_LISTENER:"remove:forum-stats-listener",REMOVE_LEADERBOARD_LISTENER:"remove:leaderboard-listener",REMOVE_STUDENT_DIRECTORY_LISTENER:"remove:student-directory-listener",REMOVE_GRADES_LISTENER:"remove:grades-listener",REMOVE_FEEDBACK_LISTENER:"remove:feedback-listener",REMOVE_REFERRAL_LISTENER:"remove:referral-listener",REMOVE_CONTEXT_DISCUSSIONS_LISTENER:"remove:context-discussions-listener",REMOVE_DEMO_LISTENER:"remove:demo-listener",REMOVE_REPORT_ERROR_LISTENER:"remove:report-error-listener",SHOW_DASHBOARD:"home-dashboard:show",INITIALIZE_DASHBOARD_COMPONENTS:"home-dashboard:initialize",UPDATE_USER_IMAGE_IN_NAV:"home-nav:user-image-update",SHOW_ACCOUNT_SETTINGS:"account-settings:show",SHOW_LECTURE_FEEDBACK:"lecture-feedback:show",VIEW_COURSES:"courses:view",SHOW_COURSES:"courses:show",CLEAR_COURSE_SPECIFIC_DATA:"clear-data:course",RESET_COLLECTIONS:"reset:collections",SHOW_PROGRESS_FOR_ENROLLED_COURSES:"courses-progress:show",SHOW_MODULE_PROGRESS:"session-progress:show",SHOW_COURSE_PROGRESS:"course-progress:show",SHOW_UPCOMPING_EVENTS:"upcoming-events:show",SHOW_PEERS:"peers:show",SHOW_TRENDING_DISCUSSIONS:"trending-discussions:show",SHOW_CURRENT_COMPONENT_PROGRESS:"current-component-progress:show",SHOW_FORUM_ACTIVITY:"show:forum-activity-stats",SHOW_SKIPPED_COMPONENTS:"show:skipped_components",SHOW_RECENTLY_ONLINE:"show:recently-online",SHOW_FORUM_STATS:"show:forum-stats",CLOSE_SKIPPED_COMPONENTS_MODAL:"close:skipped-components-modal",SHOW_MARK_ATTENDANCE_VIEW:"show:mark-attendance-view",NPS_RATING_SUBMIT_ACTION:"nps:ratingSubmit",NPS_RATING_SELECTED:"nps:ratingSelected",NPS_RATING_SAVED:"nps:ratingSaved",SHOW_DASHBOARD_NPS:"nps:showDashboardNps",SHOW_DASHBOARD_NPS_ONLY:"nps:showDashboardNpsOnly",NPS_NOTIFICATION_CLOSE:"nps:closeNotificationBar",NPS_NOTIFICATION_SHOW:"nps:openNotificationBar",SHIFT_NOTIFICATION_BAR_RIGHT:"nps:shiftRightNotificationBar",UNSHIFT_NOTIFICATION_BAR_RIGHT:"nps:unshiftRightNotificationBar",ADD_NOTIFICATION_BAR_OFFSET:"nps:addOffsetToCourseNav",REMOVE_NOTIFICATION_BAR_OFFSET:"nps:removeOffsetToCourseNav",ADD_API_TO_CACHE:"cache:addApiToCache",START_RETRY_MECHANISM:"cache:startRetry",INITIAL_PROGRESS_CHECK_ON_LOAD:"cache:onLoadCacheRetry",HIDE_MODULE_PROGRESS:"session-progress:hide",HIDE_COURSE_PROGRESS:"course-progress:hide",HIDE_UPCOMPING_EVENTS:"upcoming-events:hide",HIDE_PEERS:"peers:hide",HIDE_TRENDING_DISCUSSIONS:"trending-discussions:hide",HIDE_FORUM_ACTIVITY:"hide:forum-activity-stats",HIDE_SKIPPED_COMPONENTS:"hide:skipped_components",HIDE_RECENTLY_ONLINE:"hide:recently-online",HIDE_MARK_ATTENDANCE_VIEW:"hide:mark-attendance-view",RESET_CREATE_QUESTION:"reset:create-question-form",SHOW_MODULES:"show:modules",SHOW_MODULES_FOR_SELECTED_GROUP:"show:modules_for_selected_group",SHOW_MODULES_VIEW:"show:modules_view",UPDATE_MODULES_PROGRESS:"update:module-item-progress",UPDATE_ACTIVE_MODULE:"update:active-module",ADD_MODULE_LIST_LISTENERS:"module-list-listeners:add",SHOW_MODULE_GROUPS_SIDEBAR:"show:module-groups-sidebar",HIDE_MODULE_GROUPS_SIDEBAR:"hide:module-groups-sidebar",SHOW_SESSIONS:"show:sessions",SHOW_SESSIONS_VIEW:"show:sessions_view",SHOW_FEEDBACK:"show:session-feedback",UPDATE_SESSIONS_PROGRESS:"update:session-item-progress",UPDATE_ACTIVE_SESSION:"update:active-session",SHOW_USER_GROUP:"show:user-group",HIDE_USER_GROUP:"hide:user-group",SHOW_SEGMENTS_VIEW:"show:segments_view",SHOW_SEGMENTS:"show:segments",ENABLE_SEGMENT_NEXT:"enable:segment-next",UPDATE_SEGMENTS_PROGRESS:"update:segment-item-progress",SHOW_SESSION_NAV_SIDEBAR:"show:session-nav-sidebar",HIDE_SESSION_NAV_SIDEBAR:"hide:session-nav-sidebar",OPEN_SESSION_NAV_SIDEBAR:"open:session-nav-sidebar",CLOSE_SESSION_NAV_SIDEBAR:"close:session-nav-sidebar",PAUSE_VIDEO:"pause:video",SHOW_FULLSCREEN_VIEW:"show:fullScreenView",SHOW_COMPONENTS_VIEW:"show:components_view",HIDE_COMPONENTS_VIEW:"hide:components_view",MAKE_COMPONENT:"show:component",ACTIVATE_LOCKED_COMPONENTS:"activate:locked-components",TRACK_SESSION_COMPLETION:"track:session-completion",MATHJAX_TYPESET_DOM:"mathjax:typeset-dom",CHECK_SEGMENT_STATUS:"segment:checkStatus",PROGRESS_CALL_SUCCESS:"component:progressSuccess",INIT_QUESTION_ITEM:"init:question-item",HIDE_ALL_QUESTIONS:"hide:allActivatedQuestions",ADD_TO_QUESTIONS_VIEW:"add:questionItem",ACTIVATE_FIRST_QUESTION:"firstquestion:activate",SHOW_QUIZ_SCORE:"quiz:showScore",HIDE_QUIZ:"questions:hide",VIEW_STUDENT_DIRECTORY:"students:fetch",SHOW_STUDENT_DIRECTORY:"student-directory:show",DISPLAY_PROFILE:"display:profile",SET_PROFILE_ROUTE:"route:profile",DISPLAY_DISCUSSIONS:"display:discussions",SHOW_PROFILE:"profile:show",SHOW_USER_DISCUSSIONS:"user-discussions:show",SHOW_ABOUT:"user-profile-about:show",HIDE_ABOUT:"user-profile-about:hide",SHOW_DISCUSSIONS:"user-profile-discussions:show",HIDE_DISCUSSIONS:"user-profile-discussions:hide",SHOW_BIO:"bio:show",HIDE_BIO:"bio:hide",SHOW_PEER_GROUP:"peer-group:show",HIDE_PEER_GROUP:"peer-group:hide",SHOW_PROFILE_STATUS:"profile-status:show",SHOW_WORK_EXPERIENCE:"work-experience:show",HIDE_WORK_EXPERIENCE:"work-experience:hide",SHOW_EDUCATION:"education-history:show",HIDE_EDUCATION:"education-history:hide",SHOW_BADGES:"badges:show",HIDE_BADGES:"badges:hide",SHOW_SAME_CITY_PROFILES:"same-city-profiles:show",HIDE_SAME_CITY_PROFILES:"same-city-profiles:hide",FILL_USER_PROGRESS:"user-progress:fill",SHOW_USER_PROGRESS:"user-progress:show",HIDE_USER_PROGRESS:"user-progress:hide",RENDER_NOTIFICATIONS:"render:notifications",LOAD_FORUM_QUESTIONS:"discussion-questions:fetch",SHOW_QUESTION_DETAILS:"show:discussion-question",SHOW_QUESTION_DETAILS_VIEW:"show:discussion-question-view",SHOW_DISCUSSION_FORUM_VIEW:"show:discussion_forum_view",SHOW_DISCUSSION_FORUM:"show:discussion_forum",SHOW_SEARCH_RESULTS:"show:search_results",SHOW_SEARCH_RESULTS_VIEW:"show:search_results_view",FILL_ADD_COURSE_CONTEXT_DROPDOWN:"fill:add-course-context-dropdown",FLAG_MODEL:"show:flag-model",OPEN_EDIT_QUESTION_VIEW:"discussion-detail:edit",REMOVE_EMPTY_STATE:"remove:discussion-not-started-model",REMOVE_COLLAPSE_FORM_LISTENER:"remove:collapse-add-form-listener",SHOW_COLLAPSE_FORM_LISTENER:"show:collapse-add-form-listener",SHOW_MY_BOOKMARK_VIEW:"show:my-bookmark-view",LOAD_BOOKMARKS:"show:load-bookmarks",TRACK_SEARCH_RESULT_CLICKED:"track:search_results",SHOW_SINGLE_ANSWER:"show:single_answer",SHOW_SINGLE_ANSWER_VIEW:"show:single_answer_view",SHOW_FORUM_SUGGESTIONS_VIEW:"show:forum_search-view",SHOW_RELATED_QUESTIONS_VIEW:"show:related_questions_view",SHOW_CREATE_QUESTION_FORM:"show:create_question_form",HIDE_FORUM_SUGGESTIONS_VIEW:"hide:forum_suggestion_view",HIDE_RELATED_QUESTIONS_VIEW:"hide:related_questions_view",DESTROY_SEARCH_FILTER_VIEW:"destroy:search_filter_view",INITIALIZE_SEARCH_FILTER_VIEW_QUESTIONS_VIEW:"initialize:search_filter_view",UPDATE_QUESTION_COUNT:"update:question_count",SHOW_FACETS:"show:facets",PASS_NEW_SEARCH_CONTEXT:"pass:pass_new_search_context",HIDE_FACETS:"hide:facets",FACETS_RESULTS_COUNT:"show:facets_results_count",SET_CONTEXT_VALUE:"set:set_context_value",HIGHLIGHT_ALL_RESULTS:"highlight:all-results",FETCH_QUESTIONS_AND_APPEND_COUNT:"fetch:fetch_questions_and_append_count",ENABLE_SEARCH:"enable:enable_search",DISABLE_SEARCH:"disable:disable_search",CHECK_VERIFIED_ANSWERS:"check:verified_answers",SHOW_CONTEXT_DISCUSSIONS:"show:context-discussions",SHOW_CONTEXT_DISCUSSION_QUESTIONS:"show:context-discussion-questions",SHOW_CONTEXT_QUESTION_DETAILS:"show:context-discussion-question-details",SHOW_CREATE_CONTEXT_QUESTION:"show:create-context-discussion-question",SHOW_SESSION_DISCUSSION_QUESTIONS:"show:sesssion_discussion_question",SHOW_UPVOTES:"show:upvotes-modal",HIDE_UPVOTES:"hide:upvotes-modal",SHOW_CALENDAR:"show:calendar",SHOW_CALENDAR_VIEW:"show:calendar-view",EMPTY_OVERDUE_LIST:"empty:overdue-list",SHOW_CALENDAR_NOTIFICATION_ITEM:"show:calendar-notification-item",SHOW_GRADES:"show:grades",SHOW_GRADES_VIEW:"show:grades-view",SHOW_STUDENT_FEEDBACK:"show:feedback",SHOW_STUDENT_FEEDBACK_VIEW:"show:feedback-view",INITIALIZE_DEMO_EXPERIENCE:"initialize:demo-tour",SHOW_DEMO_EXPERIENCE:"show:demo-tour",ENABLE_DEMO_ON_GROUP_MODULE:"enable:group-module-demo",SHOW_FORUM_DEMO:"forum-demo:show",SHOW_FORUM_DETAIL_DEMO:"forum-detail-demo:show",SHOW_LEADERBOARD_VIEW:"show:leaderboard-view",SHOW_LEADERBOARD:"show:leaderboard",VIEW_COMPACT_LEADERBOARD:"view:compact-leaderboard",SHOW_COMPACT_LEADERBOARD:"show:compact-leaderboard",SHOW_NOT_FOUND_STUDENT:"show:not-found",VIEW_NOT_FOUND:"view:not-found",SHOW_PLATFORM_ACCESS_ERROR:"show:platform-access-error",SHOW_BADGE_POPUP:"badge-popup:show",SELECT_MENU_ITEM:"select:menu-item",BUILD_APP_BY_CONFIG:"build:app",VIEW_REFERRAL_PAGE:"view:referral",SHOW_NEW_REFERRAL_PAGE:"show:new-referral",TAG_USER_FOR_WEB_PUSH:"tag:user-web-push",EXIT_FULL_SCREEN_MODE:"exit:full-screen-mode",NETWORK_ONLINE:"network:online",NETWORK_OFFLINE:"network:offline",PREPARE_PLATFORM_FOR_IFRAME:"prepare:platform-for-iframe",NAVIGATE_BASED_ON_IFRAME:"navigate:platform-for-iframe",ROUTE_TO_PATH:"route:path",REVAL_SAVE_SUCCESS:"reval:saveSuccess",RATING_SAVE_SUCCESS:"rating:saveSuccess",RATING_FEEDBACK_SHOW:"rating:show",REVAL_FEEDBACK_SHOW:"reval:show",RESET_EMBED_lOAD:"reset:embed-load",HIDE_TIMED_NOTIFICATION:"hide:timed-notification",CONSENT_CHECK:"check:consent",SHOW_CAREER_BLOCKER:"check:student-career-eligibility",ACCOUNT_SETTINGS_SHOW:"show:account-settings",ACCOUNT_SETTINGS_HIDE:"hide:account-settings"},n.E=r.extend(n.E,i)},{backbone:318,underscore:445}],95:[function(e,t,o){var n,r;n=e("backbone"),n.$=$,e("./student-event-bus"),e("./constants"),e("./views/performance-metrics/performance-helpers"),e("./views/viewer/discussions/discussion-constants"),e("./views/helpers/error-handling"),e("./views/helpers/tracker"),r=e("./views/viewer/main-viewer"),e("./views/viewer/nps-notification-view")},{"./constants":43,"./student-event-bus":94,"./views/helpers/error-handling":102,"./views/helpers/tracker":110,"./views/performance-metrics/performance-helpers":113,"./views/viewer/discussions/discussion-constants":183,"./views/viewer/main-viewer":210,"./views/viewer/nps-notification-view":218,backbone:318}],96:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,u=e("../models/user-model"),a=e("../models/shared-model"),i=e("../collections/courses"),s=e("../collections/enrollments"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.initialize=function(){var e;return e=l.extend({},window.LOCAL_DATA),this.setSharedModel(e)},t.prototype.setSharedModel=function(e){return a.set(e),this.isStudentRouter&&a.set("startupIndia",e.startupIndia),u.set(e.user)},t.prototype.fetchEnrollmentT=function(e){return i.length?e?e():void 0:(n.F.SHOW_LOADER(),s.fetch({success:function(t){return function(o){return n.F.HIDE_LOADER(),t.fetchCohorts(e)}}(this),error:function(){return n.F.HIDE_LOADER()}}))},t.prototype.fetchCohorts=function(e){var t;return t=n.F.PARSE_QUERY_STRING(),i.fetch({data:t,success:function(t){return function(t){if(e)return e()}}(this),error:function(e){return function(e){return n.ERR.SHOW(e)}}(this)})},t.prototype.checkEnrollmentT=function(e){return this.fetchEnrollmentT(function(t){return function(){return u.isAdmin()||u.isTeacher()||u.isTA()?e?e():void 0:(Cookies.set("upgrad-last-active-course-id",a.get("courseId")),window.location=window.location.origin+"/v/dashboard")}}(this))},t}(n.Router),t.exports=r},{"../collections/courses":10,"../collections/enrollments":23,"../models/shared-model":85,"../models/user-model":87,backbone:318,underscore:445}],97:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),s=e("underscore"),n.$=$,i=e("../models/shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.events={click:"showItem"},t.prototype.bindings={".event-date":{observe:"eventDate",onGet:function(e){if(e)return n.F.formattedDateWithTimezone(this.model.get("eventDateIso"),{format:"Do"})}},".event-name":"message",".content":{attributes:[{name:"href",observe:"url",onGet:function(){return this.model.get("url")?this.model.get("url"):"javascript:;"}},{name:"target",observe:"url",onGet:function(){if(this.model.get("url"))return"_blank"}}]}},t.prototype.initialize=function(e){return s.bindAll(this,"render","destroy","highlightEvent","removeHighlightedEvent","setEventType","toggleVisibility","scrollToEvent"),this.listenTo(this.model,"destroy",this.destroy),this.listenTo(this.model,"highlightEvent",this.highlightEvent),this.listenTo(this.model,"change:visibility",this.toggleVisibility),this.listenTo(this.model,"removeHighlightedEvent",this.removeHighlightedEvent),this.listenTo(this.model,"scrollToEvent",this.scrollToEvent),this.listenTo(this.model,"prependDatePannel",this.prependDatePannel)},t.prototype.render=function(){return this.$el.html(this.template()(this.model.toJSON())),this.stickit(),this.setEventType(),this.$el},t.prototype.setEventType=function(){switch(this.model.get("type")){case"submission":return this.$(".submission-type").removeClass("hide");case"overdue":
return this.$(".overdue-type").removeClass("hide");case"event":return this.$(".event-item-type").removeClass("hide");case"noevent":return this.$el.addClass("noevent");default:return this.$(".event-item-type").removeClass("hide")}},t.prototype.highlightEvent=function(){return this.$el.addClass("highlight-event"),this.$el.focus()},t.prototype.toggleVisibility=function(){return this.model.get("visibility")?this.$el.removeClass("hide"):this.$el.addClass("hide")},t.prototype.scrollToEvent=function(){var e;return $(".current-date-container").removeClass("active"),e=$(".calendar-selected-date-events"),e.animate({scrollTop:e.scrollTop()+this.$el.position().top+this.$el.height()/2-83},700),this.$el.prev(".current-date-container").addClass("active")},t.prototype.prependDatePannel=function(){return this.$el.before(s.template($("#calendar-events-container-template").html())({currentDate:n.F.formattedDateWithTimezone(this.model.get("eventDateIso"),{format:"Do MMM dddd",removeTimeZoneAbbr:!0})}))},t.prototype.removeHighlightedEvent=function(){return this.$el.removeClass("highlight-event")},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=r},{"../models/shared-model":85,backbone:318,"backbone.stickit":317,underscore:445}],98:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m=function(e,t){function o(){this.constructor=e}for(var n in t)g.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},g={}.hasOwnProperty;f=e("underscore"),e("backbone.stickit"),n=e("backbone"),window._=f,a=e("../collections/calendar-events"),s=e("../models/calendar-event-model"),h=e("../collections/speakers"),p="../models/speaker-model",l=e("./viewer/calendar/overdue-submission-item-view"),r=e("./helpers/base-view"),u=e("./helpers/collection-view-support"),c=e("../models/shared-model"),n.$=$,d=e("./helpers/snackbar"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.events={"click .go-to-today":"goToToday","click .today-icon":"goToToday"},t.prototype.viewIdentifier="calendarBuilderBaseView",t.prototype.initialize=function(){return f.bindAll(this,"showView","appendEventDotsToDate","showSpeakers"),this.listenTo(n,n.E.EMPTY_OVERDUE_LIST,this.emptyOverdueList),this.subViews={},this.collection=a,this.appendToDivSelector=".calendar-selected-date-events",this.bindCollectionSupportMethods(),this.addCollectionListeners(),t.__super__.initialize.call(this)},t.prototype.showView=function(){var e;return e=this,n.T.MIXPANEL_TRACK("Calendar Viewed"),c.resetCurrentView(this.viewIdentifier),e.calendar=this.$(".student-calendar").clndr({startWithMonth:moment(),showAdjacentMonths:!0,adjacentDaysChangeMonth:!1,daysOfTheWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],forceSixRows:!0,doneRendering:function(e){return function(){var t;return t=e.$(".month").html().split(" "),e.$(".month").html("<span class='month-name'>"+t[0]+"</span>&nbsp;<span class='year'>"+t[1]+"</span>"),e.$(".clndr-previous-button,.clndr-next-button").text(""),e.$(".clndr-controls").addClass("clearfix"),e.$(".today").addClass("selected-date")}}(this),ready:function(e){return function(){return e.showCalendarEvents()}}(this),clickEvents:{click:function(e){return function(t){return $(".day").removeClass("selected-date"),$(t.element).addClass("selected-date"),e.scrollToView(t)}}(this),onMonthChange:function(e){return function(t){return e.month=t,e.appendEventDotsToDate(),e.performAfterAddingItems(t),e.highlightFirstDay(t)}}(this)}}),0===a.length&&(this.$(".calendar-selected-date-events").removeClass("hide"),this.$(".calendar-event-item").addClass("hide")),n.F.HIDE_LOADER(),this.appendEventDotsToDate(),this.$el.removeClass("hide")},t.prototype.highlightFirstDay=function(e){return this.$(".calendar-day-"+moment(e).format("YYYY-MM-DD")).addClass("selected-date")},t.prototype.showCalendarEvents=function(){var e,t,o,r,i;if(e=null,o=null,i=!1,r=n.F.formattedDateWithTimezone(moment().toISOString(),{format:"YYYY-MM-DD",removeTimeZoneAbbr:!0}),a.each(function(t){return function(t){if(t.get("formattedEventDate")===r&&(i=!0),t.set("visibility",!0),e=t.get("formattedEventDate"),o!==e)return t.trigger("prependDatePannel"),o=e}}(this)),!i)return t=new s({message:"",type:"noevent",component:{},eventDate:moment().format("DD/MM/YYYY")}),a.add(t),t.trigger("prependDatePannel")},t.prototype.showSpeakers=function(){return h.fetch({error:function(e){return function(e){return n.ERR.SHOW(e)}}(this)})},t.prototype.appendEventDotsToDate=function(){return 0===a.length&&$(".calendar-event-section-empty-state").addClass("hide"),a.each(function(e){var t;switch(t=$(".calendar-day-"+e.get("formattedEventDate")),e.get("type")){case"event":if(0===t.find(".event-item-day").length)return t.append('<span class="event-item-day day-info"></span>');break;case"submission":if(0===t.find(".submission-day").length)return t.append('<span class="submission-day day-info"></span>');break;case"overdue":return 0===t.find(".overdue-day").length&&t.append('<span class="overdue-day day-info"></span>'),$(".calendar-day-"+e.get("formattedEventDate")).addClass("overdue")}})},t.prototype.emptyOverdueList=function(){var e;return null!=(e=this.calendar)&&e.destroy(),this.$(".student-calendar").empty()},t.prototype.hide=function(){return this.$el.addClass("hide")},t.prototype.scrollToView=function(e,t){var o;if(o=0,a.each(function(n){var r,i;return i=e?e.date:t,r=i.format("YYYY-MM-DD"),n.get("formattedEventDate")===r?(0===o&&n.trigger("scrollToEvent"),o++,n.trigger("highlightEvent")):n.trigger("removeHighlightedEvent")}),0===o)return d.showToast({message:"No events / submissions on this day",dismiss:"DISMISS"})},t.prototype.findNearestEventDate=function(e,t){var o,r,i;return null==t&&(t=!1),r=Math.pow(2,53)-1,i=null,o=n.F.courseTimezoneDate(e?e:new Date),"undefined"!=typeof e?a.each(function(e){var t,s;if(s=n.F.courseTimezoneDate(e.get("eventDateIso")),t=s-o,t>0&&t<r)return r=t,i=s}):a.each(function(e){var s,a;if((!t||"event"===e.get("type"))&&(a=n.F.courseTimezoneDate(e.get("eventDateIso")),s=a-o,s=Math.abs(s),s<r))return r=s,i=a}),i},t.prototype.performAfterAddingItems=function(e){return setTimeout(function(t){return function(){var o;if(o=t.findNearestEventDate(e))return t.scrollToView(null,o)}}(this),100)},t.prototype.goToToday=function(e){return e.stopPropagation(),this.calendar.today(),this.performAfterAddingItems()},t}(r),f.extend(i.prototype,u),t.exports=i},{"../collections/calendar-events":7,"../collections/speakers":35,"../models/calendar-event-model":50,"../models/shared-model":85,"./helpers/base-view":99,"./helpers/collection-view-support":100,"./helpers/snackbar":109,"./viewer/calendar/overdue-submission-item-view":126,backbone:318,"backbone.stickit":317,underscore:445}],99:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,s=e("../../models/shared-model"),i=e("../performance-metrics/performance-steps"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.initialize=function(){return this.addListeners()},t.prototype.addListeners=function(){if(this.viewIdentifier)return this.listenTo(n,"hide:"+this.viewIdentifier,this.hide),this.listenTo(n,"pageShown:"+this.viewIdentifier,this.measurePerformanceAndShowNextPage)},t.prototype.measurePerformanceAndShowNextPage=function(){var e;if(s.get("measurePerformance"))return n.P.measure("show:"+this.viewIdentifier,"route:"+this.viewIdentifier),i.length?(e=i.shift())():void 0},t}(n.View),t.exports=r},{"../../models/shared-model":85,"../performance-metrics/performance-steps":114,backbone:318,underscore:445}],100:[function(e,t,o){var n,r,i;n=e("backbone"),i=e("underscore"),n.$=$,r={bindCollectionSupportMethods:function(){return i.bindAll(this,"addCollectionListeners","addAll","addOne","removeOldItems","removeCollectionListeners")},addCollectionListeners:function(){return this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"prepend",this.prependOne),this.listenTo(this.collection,"remove",this.toggleEmptyState)},removeCollectionListeners:function(){return this.stopListening(this.collection,"reset"),this.stopListening(this.collection,"add"),this.stopListening(this.collection,"prepend")},addAll:function(){if(this.removeOldItems(),this.collection.each(this.addOne),this.toggleEmptyState(),this.performAfterAddingItems)return this.performAfterAddingItems()},toggleEmptyState:function(){return this.collection.length?this.hideEmptyState&&this.hideEmptyState():this.showEmptyState&&this.showEmptyState()},itemCidClass:function(e){return(e.modelEl||e.constructor.name||"model").toLowerCase()+"-"+e.cid},addItem:function(e){var t,o,n;return this.customAddOne&&this.customAddOne(e),this.itemObj||(this.itemObj={}),this.itemObj.model=e,o=new this.itemViewClass(this.itemObj),n=this.itemCidClass(e),t=o.render(),t.addClass(n),this.subViews[n]=o,t},addOne:function(e){var t,o,n,r,i,s,a;if(!this.skipAddOne||!this.skipAddOne(e))return this.byPassAddOne?void this.byPassAddOne(e):(o=this.addItem(e),n=this.collection.indexOf(e),(a=this.collection.models[n-1])&&(s=this.$("."+this.itemCidClass(a)),s.length)?void o.insertAfter(s):(i=this.collection.models[n+1])&&(r=this.$("."+this.itemCidClass(i)),r.length)?void o.insertBefore(r):(t=this.appendToDivSelector?this.$el.find(this.appendToDivSelector):this.$el.find("."+this.collection.collectionListEl.toLowerCase()+"-list"),t.append(o),1===this.collection.length?this.toggleEmptyState():void 0))},prependOne:function(e){var t,o;if(o=this.addItem(e),this.$(".item")[0]?o.insertBefore($(this.$(".item")[0])):(t=this.appendToDivSelector?this.$el.find(this.appendToDivSelector):this.$el.find("."+this.collection.collectionListEl.toLowerCase()+"-list"),t.append(o)),1===this.collection.length)return this.toggleEmptyState()},removeOldItems:function(){var e,t,o;t=[];for(e in this.subViews)this.subViews.hasOwnProperty(e)?(o=this.subViews[e],o.remove(),t.push(delete this.subViews[e])):t.push(void 0);return t}},t.exports=r},{backbone:318,underscore:445}],101:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),s=e("underscore"),n.$=$,i=e("./helper-methods"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.initialize=function(){return s.bindAll(this,"updateTime")},t.prototype.template=function(){return s.template($("#countdown-timer").html())},t.prototype.render=function(){return this.$el.html(this.template()()),this.setUpTimer(),this.stickit(),this.$el.addClass("timer"),this.$el},t.prototype.bindings={".hours":{observe:"hours",onGet:function(e){return e<=0?this.$(".hour-container").addClass("hide"):this.$(".hour-container").removeClass("hide"),e}},".secs":"secs",".mins":{observe:"mins",onGet:function(e){return e<5&&0===this.model.get("hours")&&!this.model.get("timerMsg")&&this.$el.addClass("warning"),e<=0?this.$(".min-container").addClass("hide"):this.$(".min-container").removeClass("hide"),e}},".timer-msg":"timerMsg"},t.prototype.start=function(){return this.clock=window.setInterval(this.updateTime,1e3)},t.prototype.updateTime=function(){var e,t,o;return e=new moment,this.model.get("prevMoment")&&(t=i.getTimeDiff(this.model.get("prevMoment"),e)-1,(t>5||t<-5)&&(this.model.set("errorTime",this.model.get("errorTime")-t),n.T.MIXPANEL_TRACK("client_time_tampered",{extraTimeConsumed:t.toString(),errorTime:this.model.get("errorTime").toString()}))),this.model.set("prevMoment",e),o=i.getRemainingTime(this.model.get("totalTime"),this.model.get("startTime"))-this.model.get("errorTime"),o<=0&&(o=0,this.stop()),o%10===0&&this.trigger("update-data",!0),this.model.set("secs",o),this.setUpTimer()},t.prototype.setUpTimer=function(){var e;return e=this.model.get("secs"),this.model.set("secs",this.model.get("secs")%60),e=Math.floor(e/60),this.model.set("mins",e),this.model.set("mins",this.model.get("mins")%60),this.model.set("hours",Math.floor(e/60))},t.prototype.stop=function(e){return e||this.trigger("time-up"),clearInterval(this.clock)},t}(n.View),t.exports=r},{"./helper-methods":104,backbone:318,underscore:445}],102:[function(e,t,o){var n,r,i;n=e("backbone"),r=e("underscore"),n.$=$,i=e("sanitize-html"),n.ERR={renderErrorByStatus:function(e){if(!e)return this.showInternetConnRefused;switch(e){case 502:return this.showServiceUnavailable;case 503:return this.showServiceUnavailable;case 500:return this.showSomeErrorOccured;case 423:return this.showLocked;case 409:return this.showContentChanged;case 403:return this.showUnauthorized;case 401:return this.showLogin;case 404:return this.showNotAvailable;default:return this.showSomeErrorOccured}},showServiceUnavailable:function(){return window.open(window.location.origin+"/service-unavailable","_self")},showNotAvailable:function(e,t){return t||(t="This page is not available"),e?this.renderError(e,t):n.E.SHOW_NOT_FOUND_TEACHER?n.trigger(n.E.SHOW_NOT_FOUND_TEACHER,t):n.trigger(n.E.SHOW_NOT_FOUND_STUDENT,t)},showInternetConnRefused:function(e,t){return t||(t="Internet connection refused. Check your internet connection."),this.renderError(e,t)},showLogin:function(){return window.open(window.location.origin+"/logout","_self")},showSomeErrorOccured:function(e,t){return t||(t="Something went wrong. Please try after sometime."),this.renderError(e,t)},showLocked:function(e,t){return n.trigger(n.E.SHOW_PLATFORM_ACCESS_ERROR,t)},showContentChanged:function(e,t){return t||(t="This content has been edited. Please refresh and review"),this.renderError(e,t)},showNotAvailableYet:function(e,t){return this.renderError(e,t)},showUnauthorized:function(e,t){return t||(t="You are not authorized for this action"),this.renderError(e,t)},errorMessage:function(e){return e&&e.responseJSON&&e.responseJSON.errorList?r.map(e.responseJSON.errorList,function(e){return e.errorMessage}).join(", "):e&&e.responseJSON&&e.responseJSON.message?e.responseJSON.message:e&&"string"==typeof e?e:null},renderError:function(e,t,o){var r,s;return r=o?"alert-warning":"alert-danger",e?(s="<div class='message alert "+r+("'>\n\t"+i(t)+"\n\t<span class='close'>\n\t\tx\n\t</span>\n</div>"),e.html(s),n.F.CLOSE_INFO_OR_ERROR_MESSAGE(e)):alert(t)},WARN:function(e,t,o){return n.F.HIDE_LOADER(),o||(o=$(".error-space")),this.renderError(o,t,!0),Rollbar.warning(t,e)},SHOW:function(e,t){var o;if(n.F.HIDE_LOADER(),o=this.errorMessage(e),t||404===e.status||(t=$(".error-space")),this.renderErrorByStatus(e.status).call(this,t,o),e.status)return Rollbar.error(e.status.toString()+"-API Error",e)},SHOW_CAUSE:function(e,t){var o;if(o=t&&t.responseJSON&&t.responseJSON.errorList?r.map(t.responseJSON.errorList,function(e){return e.cause}).join(", "):"Something went wrong",!e&&$(".error-space").length&&(e=$(".error-space")),null!=t?t.status:void 0)return this.renderErrorByStatus(t.status).call(this,e,o),Rollbar.error(t.status.toString()+"-API Error",t)},ADD_FORM_ERRORS:function(e,t){var o;return o=t.validate(),o.showErrors(e)}}},{backbone:318,"sanitize-html":426,underscore:445}],103:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),s=e("underscore"),n.$=$,i=e("../../models/shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.initialize=function(){return this.flags=i.get("featureFlags")},t.prototype.isDemoEnabled=function(){var e,t;return null!=(e=this.flags)&&null!=(t=e.demo)?t.isEnabled:void 0},t.prototype.isExternalComponentEnabled=function(){var e,t;return null!=(e=this.flags)&&null!=(t=e.externalComponent)?t.isEnabled:void 0},t.prototype.isTaStarEnabled=function(){var e,t;return null!=(e=this.flags)&&null!=(t=e.taStar)?t.isEnabled:void 0},t}(n.View),t.exports=new r},{"../../models/shared-model":85,backbone:318,underscore:445}],104:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),u=e("underscore"),n.$=$,s=e("../../models/shared-model"),a=e("../../models/user-model"),r=e("../../models/config-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.initialize=function(){return u.bindAll(this,"randomIdGenerator","createSessionId","getDistinctId","getRequestId","getCookie","setCookie","deleteCookie","ADD_COOKIE_TO_HEADERS"),this.prevAjaxCall=null,this.listenTo(n,"reset:embed-load",this.resetEmbedLoads)},t.prototype.detectBrowser=function(){var e,t,o,n,r;for(r=navigator.userAgent,e=["Edge","MSIE","Opera","Chrome","Safari","Firefox"],t=o=0,n=e.length;0<=n?o<n:o>n;t=0<=n?++o:--o)if(r.indexOf(e[t])>-1)return e[t]},t.prototype.isUnsupportedBrowser=function(){var e,t;return e=["Chrome","Safari","Firefox"],t=this.detectBrowser(),!u.contains(e,t)},t.prototype.trimInputValues=function(){return $("body").delegate("input","blur",function(e){var t;if(t=$(e.target).val(),"string"==typeof t&&"file"!==e.target.type)return t=t.trim(),$(e.target).val(t)})},t.prototype.randomIdGenerator=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){return function(e){var t,o;return t=16*Math.random()|0,o="x"===e?t:3&t|8,o.toString(16)}}(this))},t.prototype.checkFromUpgrad=function(){var e;return(null!=(e=a.get("email"))?e.indexOf("upgrad.com"):void 0)!==-1},t.prototype.createSessionId=function(){return this.randomIdGenerator()},t.prototype.getDistinctId=function(){var e,t;return(e=this.getCookie("upgrad-distinctId"))?e:(t=this.randomIdGenerator(),this.setCookie("upgrad-distinctId",t,{expires:3650}))},t.prototype.getRequestId=function(){return this.randomIdGenerator()},t.prototype.getCookie=function(e){return Cookies.get(e)||""},t.prototype.setCookie=function(e,t,o){return null==o&&(o={expires:30}),"local"!==s.get("environment")&&"local"!==LOCAL_DATA.environment&&(o.domain=".upgrad.com",o.secure=!0),Cookies.set(e,t,o)},t.prototype.deleteCookie=function(e){return Cookies.remove(e)},t.prototype.getAuthToken=function(){var e,t;return e="upgrad-auth-token."+s.get("environment"),this.getCookie(e)||this.setCookie(e,this.getCookie("upgrad-auth-token")),t=this.getCookie(e),t?t:""},t.prototype.getSessionId=function(){var e,t;return t="upgrad-sessionId."+s.get("environment"),this.getCookie(t)||this.setCookie(t,this.getCookie("upgrad-sessionId")),e=this.getCookie(t),e?e:""},t.prototype.ADD_COOKIE_TO_HEADERS=function(){return n.$.ajaxSetup({beforeSend:function(e){return function(t,o){var r,i,a;r=(new Date).getTime();try{e.prevAjaxCall=parseInt(e.getCookie("prevAjaxCall"))}catch(u){i=u,Rollbar.error("Last ajax call not set",i)}if(e.prevAjaxCall?(r-e.prevAjaxCall>18e5||!e.getSessionId())&&(a=e.createSessionId(),e.setCookie("upgrad-sessionId."+LOCAL_DATA.environment,a),n.T.MIXPANEL_REGISTER(a)):e.setCookie("prevAjaxCall",r),e.setCookie("prevAjaxCall",r),t.setRequestHeader("requestId",e.getRequestId()),t.setRequestHeader("distinctId",e.getDistinctId()),t.setRequestHeader("sessionId",e.getSessionId()),s.get("courseId"))return o.url.indexOf(n.C.CAREER_PATH())>=0?t.setRequestHeader("course_id",s.get("courseId")):t.setRequestHeader("courseId",s.get("courseId"))}}(this),headers:{"auth-token":this.getAuthToken().replace(/^"(.+)"$/,"$1")}})},t.prototype.formatDate1=function(e){var t,o,n,r,i,s,a,u;if(t=8,s=16,r=37,a=38,i=39,n=40,o=46,[t,s,r,a,i,n,o].indexOf(e.keyCode)===-1&&(e.currentTarget.value=e.currentTarget.value.replace(/[^0-9\/]/g,""),u=e.currentTarget.value,null!==u.match(/^\d{2}$/)))return e.currentTarget.value=u+"/"},t.prototype.formatDate1=function(e){var t,o,n,r,i,s,a,u;if(t=8,s=16,r=37,a=38,i=39,n=40,o=46,[t,s,r,a,i,n,o].indexOf(e.keyCode)===-1&&(e.currentTarget.value=e.currentTarget.value.replace(/[^0-9\/]/g,""),u=e.currentTarget.value,null!==u.match(/^\d{2}$/)))return e.currentTarget.value=u+"/"},t.prototype.setUrlVar=function(e,t){var o,n;return n=window.location.search||"?",n="undefined"==typeof t||""===t||0===t.length?n.replace(new RegExp(e+"=([^&]*)","i"),""):n.indexOf(e)!==-1?n.replace(new RegExp(e+"=([^&]*)","i"),e+"="+t):"?"===n?"?"+e+"="+t:n.concat("&"+e+"="+t),o={},o[e]=t,history.replaceState(o,"",n)},t.prototype.createInlineEditor=function(e,t){return t=t||{customConfig:"/ckeditor/custom-config.js"},CKEDITOR.inline(e,t)},t.prototype.isCKEditorEmpty=function(e){var t;return t=$("<div>"+e.getData()+"</div>"),!t.text().trim()&&!t.find("img").length},t.prototype.autoResize=function(e){return e.on("input",function(){return e.innerHeight(0).innerHeight(this.scrollHeight)})},t.prototype.trimNewLines=function(e){return e=e.trim(),e=e.replace(/(<p>&nbsp;<\/p>)*$/,"")},t.prototype.simulateFullScreen=function(){var e,t;if(t=this.isFullScreen())this.exitFullScreen();else{if($("body").addClass("full-screen-mode"),e=document.documentElement,e.requestFullscreen)return e.requestFullscreen();if(e.mozRequestFullScreen)return e.mozRequestFullScreen();if(e.webkitRequestFullScreen)return e.webkitRequestFullScreen()}},t.prototype.exitFullScreen=function(){if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement){if(document.exitFullscreen)return document.exitFullscreen();if(document.mozCancelFullScreen)return document.mozCancelFullScreen();if(document.webkitCancelFullScreen)return document.webkitCancelFullScreen()}},t.prototype.isFullScreen=function(){return document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen},t.prototype.getRemainingTime=function(e,t){var o,n;return t=moment(t),o=new moment,n=this.getTimeDiff(t,o),n=e-n},t.prototype.getTimeDiff=function(e,t){return Math.round(moment.duration(t.diff(e)).asSeconds())},t.prototype.loadingQueue=[],t.prototype.loading=null,t.prototype.loadNext=function(){if(this.loading=null,this.loadingQueue.shift(),this.loadingQueue.length)return this.loadDoSelectEmbed(this.loadingQueue[0])},t.prototype.checkForTokenAndCallAuth=function(e){return new Promise(function(t){return function(o,n){var r;return r=new moment,moment(doselect.token_expiry).diff(r)>6e4&&!e.isAuthCompulsory?o():(t.trackDoSelectLoad(e,"initiate_doselect_auth_call"),doselect.auth().then(function(e){return doselect.token_expiry=e.token_expiry,o()})["catch"](function(o){return e.error=null!=o?o.toString():void 0,t.trackDoSelectLoad(e,"fail_doselect_auth_call"),n()}))}}(this))},t.prototype.loadDoSelectEmbed=function(e,t){return t?this.checkForTokenAndCallAuth(e).then(function(t){return function(){return t.loadingQueue.splice(u.findIndex(t.loadingQueue,{slugId:e.slugId}),1),doselect.loadframe(e.el,e.category,e.slugId,e.config).then(function(t){return doselect.makeIframe(e.el,t).then(function(t){var o;return e.container&&e.container.find(".loading-text").addClass("hide"),null!=(o=e.reloadButton)&&o.removeClass("disabled"),this.trackDoSelectLoad(e,"loaded_doselect_question")})["catch"](function(t){return function(o){var n;return null!=(n=e.reloadButton)&&n.removeClass("disabled"),e.error=null!=o?o.toString():void 0,t.trackDoSelectLoad(e,"fail_doselect_makeIframe")}}(this))})["catch"](function(o){var n;return null!=(n=e.reloadButton)&&n.removeClass("disabled"),e.error=null!=o?o.toString():void 0,t.trackDoSelectLoad(e,"fail_doselect_loadframe")})}}(this)):null===this.loading?(this.loading=e,this.checkForTokenAndCallAuth(e).then(function(t){return function(){return e.startTime=(new Date).getTime()/1e3,t.trackDoSelectLoad(e,"start_doselect_question_load"),doselect.loadframe(e.el,e.category,e.slugId,e.config).then(function(o){return doselect.makeIframe(e.el,o).then(function(o){var n;return e.container&&e.container.find(".loading-text").addClass("hide"),e.endTime=(new Date).getTime()/1e3,e.timeTaken=e.endTime-e.startTime,null!=(n=e.reloadButton)&&n.removeClass("disabled"),t.loadNext(),t.trackDoSelectLoad(e,"loaded_doselect_question")})["catch"](function(o){var n,r,i;return t.loadNext(),null!=(r=e.reloadButton)&&r.removeClass("disabled"),(null!=(i=s.get("courseConfiguration"))?i.assistant:void 0)&&(bot.arg="coding-console",n=[{key:"hard-reload"},{key:"faq-page"}],bot.send(AssistantConstants.strings.CODING_CONSOLE,actionObject)),e.error=null!=o?o.toString():void 0,t.trackDoSelectLoad(e,"fail_doselect_makeIframe")})})["catch"](function(o){var n,r,i;return t.loadNext(),null!=(r=e.reloadButton)&&r.removeClass("disabled"),(null!=(i=s.get("courseConfiguration"))?i.assistant:void 0)&&(bot.arg="coding-console",n=[{key:"hard-reload"},{key:"faq-page"}],bot.send(AssistantConstants.strings.CODING_CONSOLE,actionObject)),e.error=null!=o?o.toString():void 0,t.trackDoSelectLoad(e,"fail_doselect_loadframe")})}}(this))):void 0},t.prototype.trackDoSelectLoad=function(e,t){var o,r,i;return o={"Slug Id":e.slugId,"Time Taken":e.timeTaken,"Question ID":null!=(r=e.questionId)?r.toString():void 0,"Segment ID":null!=(i=e.segmentId)?i.toString():void 0,error:e.error,token_expiry:doselect.token_expiry,currTimeStamp:(new moment).toString()},n.T.MIXPANEL_TRACK(t,o)},t.prototype.shouldShowReportProblem=function(){return!s.get("startupIndia")&&r.checkReportErrorPermission("enable")},t.prototype.addToQueueAndLoad=function(e){var t;return this.loadingQueue.push(e),doselect.token?this.loadDoSelectEmbed(e):(this.retry=0,t=window.setInterval(function(o){return function(){return o.retry>7?(clearInterval(t),void alert("Something went wrong! Please reload the page.")):(doselect.token&&(o.loadDoSelectEmbed(e),clearInterval(t)),o.retry++)}}(this),1e3))},t.prototype.resetEmbedLoads=function(){return this.loadingQueue=[],this.loading=null},t.prototype.setEditor=function(e,t,o){return e.setTheme("ace/theme/chrome"),e.session.setMode("ace/mode/"+t),e.setHighlightActiveLine(!1),e.setReadOnly(!0),e.$blockScrolling=Infinity,e.setOptions({fontSize:"10pt",showPrintMargin:!1}),e.session.setValue(o)},t.prototype.getBrowserDetails=function(){var e,t,o,n,r,i;return e=navigator.userAgent,o=navigator.appName,t=""+parseFloat(navigator.appVersion),(r=e.indexOf("Chrome"))!==-1?(o="Chrome",t=e.substring(r+7)):(r=e.indexOf("MSIE"))!==-1?(o="Microsoft Internet Explorer",t=e.substring(r+5)):(r=e.indexOf("Firefox"))!==-1?(o="Firefox",t=e.substring(r+8)):(r=e.indexOf("Safari"))!==-1?(o="Safari",t=e.substring(r+7),(r=e.indexOf("Version"))!==-1&&(t=e.substring(r+8))):(n=e.lastIndexOf(" ")+1)<(r=e.lastIndexOf("/"))&&(o=e.substring(n,r),t=e.substring(r+1),o.toLowerCase()===o.toUpperCase()&&(o=navigator.appName)),(i=t.indexOf(";"))!==-1&&(t=t.substring(0,i)),(i=t.indexOf(" "))!==-1&&(t=t.substring(0,i)),{browserName:o,browserFullVersion:t}},t}(n.View),t.exports=new i},{"../../models/config-model":54,"../../models/shared-model":85,"../../models/user-model":87,backbone:318,underscore:445}],105:[function(e,t,o){var n,r,i;n=e("backbone"),i=e("underscore"),n.$=$,r={bindScrollMethods:function(){return i.bindAll(this,"scrollActions","addScrollListener","switchOffScrollListener","showScrollLoader","hideScrollLoader")},scrollActions:function(e){return this.switchOffScrollListener(),this.loadOnScroll(function(e){return function(){return e.addScrollListener()}}(this))},addScrollListener:function(){var e;return e=this.scrollDiv?this.scrollDiv:$(window),e.on("scroll",this.scrollActions)},switchOffScrollListener:function(){var e;return e=this.scrollDiv?this.scrollDiv:$(window),e.unbind("scroll",this.scrollActions)},showScrollLoader:function(){if(this.loaderDiv)return this.newLoader=$('<div class="infinite-scroll-support-loader">\n\t<svg viewbox="25 25 50 50" class="circular">\n\t\t<circle cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" class="path">\n\t\t</circle>\n\t</svg>\n</div>'),this.loaderDiv.hasClass("hide")&&(this.loaderDiv.removeClass("hide"),this.hideLoaderDivLater=!0),this.loaderDiv.append(this.newLoader)},hideScrollLoader:function(){var e;return this.hideLoaderDivLater&&(this.hideLoaderDivLater=!1,this.loaderDiv.addClass("hide")),null!=(e=this.newLoader)?e.remove():void 0},loadOnScroll:function(e){return n.F.scrolledToBottom(this.scrollDiv)&&this.collection.nextUrl?(this.showScrollLoader(),this.collection.fetch({url:this.collection.nextUrl,remove:!1,success:function(t){return function(o){return t.hideScrollLoader(),e()}}(this),error:function(t){return function(){return t.hideScrollLoader(),e()}}(this)}),this.collection.nextUrl=void 0):e()}},t.exports=r},{backbone:318,underscore:445}],106:[function(e,t,o){var n,r,i=function(e,t){function o(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=e("backbone"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.outputSel=null,t.prototype.inputSel=null,t.prototype.view=null,t.prototype.errorCaught=null,t.prototype.initialize=function(e,t,o){return this.view=e,this.outputSel=t,this.inputSel=o||null,this.listenTo(n,n.E.MATHJAX_TYPESET_DOM,this.typesetDOM)},t.prototype.typesetDOM=function(e){var t,o;t=e?e[0]:document;try{return MathJax.Hub.Queue(["Typeset",MathJax.Hub,t])}catch(r){if(o=r,!this.errorCaught)return n.ERR.WARN(o,"Some components may not have loaded correctly. Please reload the page."),this.errorCaught=!0}},t}(n.View),t.exports=new r},{backbone:318}],107:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,i=e("../../models/shared-model"),s=e("../../models/user-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.initialize=function(){return a.bindAll(this,"generatePaymentUrl")},t.prototype.enrollmentStates={ACTIVE:{title:"",message:"",shortMessage:"",iconPath:"",actionUrl:"",actionText:""},PAYMENT_PENDING:{title:"Your payment is due.",message:"Please make your payment using the link below to continue with your enrolled course",shortMessage:"Your payment is due. Click here to make the payment.",iconPath:"/enroll-state-payment-due.png",actionUrl:"https://upgrad.com/#programs",actionText:"Make Payment"},DEFERRED:{title:"You are no longer enrolled in this course.",message:"You can view information about our courses from the link below.",shortMessage:"Program is yet to start.",iconPath:"/enroll-state-not-enrolled.png",actionUrl:"https://upgrad.com/#programs",actionText:"View Courses"},COURSE_UNAVAILABLE:{title:"You are a little early!",message:"The program will be starting soon! We will keep you notified. Meanwhile, you can have a look at other courses you might be interested in.",shortMessage:"You are a little early!",iconPath:"/enroll-state-program-yet-to-start.png",actionUrl:"https://upgrad.com/#programs",actionText:"View Courses"},SILP:{title:"You seem to be lost!",message:"Looks like you've ended up on the wrong platform! Click the link below to go to your enrolled program.",shortMessage:"You seem to be lost!",iconPath:"/enroll-state-wrong-platform.png",actionUrl:"https://startupindia.upgrad.com/",actionText:"Go"},LEARNING_WEEK:{title:"You seem to be lost!",message:"Looks like you've ended up on the wrong platform! Click the link below to go to your enrolled program.",shortMessage:"You seem to be lost!",iconPath:"/enroll-state-wrong-platform.png",actionUrl:"https://learningweek.upgrad.com/",actionText:"Go to Learning Week"},DEMO:{title:"You are not enrolled in any course!",
message:"You can view information about our courses from the link below.",shortMessage:"You are not enrolled in any courses!",iconPath:"/enroll-state-not-enrolled.png",actionUrl:"https://upgrad.com/#programs",actionText:"View Courses"},PAID_NOT_ENROLLED:{title:"You are a little early!",message:"The program will be starting soon! We will keep you notified. Meanwhile, you can have a look at other courses you might be interested in.",shortMessage:"You are a little early!",iconPath:"/enroll-state-program-yet-to-start.png",actionUrl:"https://upgrad.com/#programs",actionText:"View Courses"},ENROLLMENT_EXPIRED:{title:"Oops! Demo time period over!",message:"You can continue the upGrad experience by enrolling to any of the courses we offer. For more details, click the link below.",shortMessage:"Oops! Demo time period over!",iconPath:"/enroll-state-demo-over.png",actionUrl:"https://upgrad.com/#programs",actionText:"View Courses"},ENROLLMENT_DEMO:{title:"You are not enrolled in any course!",message:"You can view information about our courses from the link below.",shortMessage:"You are not enrolled in any courses!",iconPath:"/enroll-state-not-enrolled.png",actionUrl:"https://upgrad.com/#programs",actionText:"View Courses"},ZERO_ENROLLED:{title:"You are not enrolled in any course!",message:"You can view information about our courses from the link below.",shortMessage:"You are not enrolled in any courses!",iconPath:"/enroll-state-not-enrolled.png",actionUrl:"https://upgrad.com/#programs",actionText:"View Courses"}},t.prototype.generatePaymentUrl=function(e){if(e)return i.get("marketingProgramsBaseUrl")+e+"/payment/"},t}(n.View),t.exports=new r},{"../../models/shared-model":85,"../../models/user-model":87,backbone:318,underscore:445}],108:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;i=e("underscore"),e("backbone.stickit"),n=e("backbone"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.events={"mouseover .rate-star":"starHoverHandle","mouseleave .rate-star":"starLeaveHandle","click .rate-star":"selectRating"},t.prototype.disabled=!1,t.prototype.disabledRating=0,t.prototype.initialize=function(e){return this.disabled=null!=e?e.disabled:void 0,this.disabledRating=null!=e?e.disabledRating:void 0},t.prototype.template=function(){return i.template($("#rating-widgit-template").html())},t.prototype.render=function(){return this.$el.append(this.template()()),this.disabled&&(this.$el.addClass("disabled"),this.selectDisabledRating()),this.$el},t.prototype.starHoverHandle=function(e){var t,o;if(!this.rating)return o=$(e.currentTarget),t=parseInt(o.attr("data-value")),this.addHighlight(t)},t.prototype.starLeaveHandle=function(e){if(!this.rating)return this.$(".rate-star").addClass("unrated"),this.$(".current-rate").removeClass("current-rate")},t.prototype.selectRating=function(e){var t;return t=$(e.currentTarget),this.rating=parseInt(t.attr("data-value")),this.trigger("RATING_SELECTED",this.rating),this.$(".rate-star").addClass("unrated"),this.addHighlight(this.rating)},t.prototype.addHighlight=function(e){var t;for(t=1,this.$(".current-rate").removeClass("current-rate");t<=e;)this.$(".rate-star[data-value="+t+"]").removeClass("unrated"),t++;return this.$(".rate-star[data-value="+e+"]").addClass("current-rate")},t.prototype.selectDisabledRating=function(){return this.addHighlight(this.disabledRating)},t.prototype.destroy=function(){return this.stopListening()},t}(n.View),t.exports=r},{backbone:318,"backbone.stickit":317,underscore:445}],109:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.timeout=null,t.prototype.el="#snackbar-template",t.prototype.events={"click .dismiss-text":"dismissAndNavigate"},t.prototype.showToast=function(e){return e.dismiss=e.dismiss||"VIEW",e.navigateUrl=e.navigateUrl||"",e.success?this.$(".tick").removeClass("hide"):this.$(".tick").addClass("hide"),this.hideToast(),clearTimeout(this.timeout),e.navigateUrl||e.dismiss?this.$("a").attr("href",e.navigateUrl):this.$("a").hide(),this.$(".message-cont").html(e.message),this.$(".dismiss-text").html(e.dismiss),this.$(".dismiss-text").data("redirect",e.redirect),this.$(".snackbar-wrap").addClass("show"),this.timeout=setTimeout(function(e){return function(){return e.hideToast()}}(this),3600)},t.prototype.hideToast=function(){return this.$(".snackbar-wrap").removeClass("show")},t.prototype.dismissAndNavigate=function(e){var t;if(e.preventDefault(),this.hideToast(),t=$(e.currentTarget),""!==t.attr("href"))return t.data("redirect")?window.location=t.attr("href"):n.trigger(n.E.ROUTE_TO_PATH,{path:t.attr("href"),trigger:!0})},t}(n.View),t.exports=new r},{backbone:318,underscore:445}],110:[function(e,t,o){var n,r,i,s,a,u;s=e("../../models/shared-model"),a=e("../../models/user-model"),r=e("../../models/config-model"),n=e("backbone"),u=e("underscore"),n.$=$,i=e("./helper-methods"),n.T={MIXPANEL_TRACK:function(e){return function(e,t){var o,n;if(!i.checkFromUpgrad()&&r.checkMixpanelTrackPermission())try{return t||(t={}),n=s.get("courseName")?s.get("courseName"):null,t.Course=n,t["Course Id"]=s.get("courseId"),t["User Id"]=a.get("id"),t["User Session Id"]=Cookies.get("upgrad-sessionId."+s.get("environment")),t.Email=a.get("email"),t["Course Type"]=s.get("courseType"),t["Client Info"]="Web",s.get("platformConsumer")&&(t["Consumer Platform"]=s.get("platformConsumer")),clevertap.event.push(e,t)}catch(u){return o=u,console.log(o)}}}(this),MIXPANEL_SET_PEOPLE_PROPERTY:function(e){return function(e){var t;if(!i.checkFromUpgrad()&&r.checkMixpanelTrackPermission())try{return clevertap.profile.push({Site:e})}catch(o){return t=o,console.log(t)}}}(this),MIXPANEL_INCREMENT_PROPERTY:function(e){return function(e){i.checkFromUpgrad()||!r.checkMixpanelTrackPermission()}}(this),MIXPANEL_APPEND_TO_LIST:function(e){return function(e,t){var o;if(!i.checkFromUpgrad()&&r.checkMixpanelTrackPermission())try{return mixpanel.identify(a.get("email")),mixpanel.people.union(e,t)}catch(n){return o=n,console.log(o)}}}(this),MIXPANEL_IDENTIFY:function(e){return function(){var e;if(!i.checkFromUpgrad()&&r.checkMixpanelTrackPermission())try{return clevertap.profile.push({Site:{Identity:a.get("email"),Email:a.get("email"),"First name":a.get("firstname"),"Last name":a.get("lastname"),Phone:a.get("phoneNumber"),"Referral code":a.get("referralCode")}})}catch(t){return e=t,console.log(e)}}}(this),MIXPANEL_REGISTER:function(e){return function(e,t){var o,n,u,l;if(!i.checkFromUpgrad()&&r.checkMixpanelTrackPermission())try{if(n=a.get("email"),e=e,u=s.get("courseName")?s.get("courseName"):null,l={Email:n,Course:u},e&&(l["User Session ID"]=e),t)return l["Course Type"]=t}catch(c){return o=c,console.log(o)}}}(this),IDENTIFY_SESSION:function(e){var t;if(!s.get("startupIndia"))try{return __insp.push(["identify",e])}catch(o){return t=o,console.log(t)}},TAG_SESSION:function(e){return function(e){var t;if(!s.get("startupIndia"))try{return __insp.push(["tagSession",e])}catch(o){return t=o,console.log(t)}}}(this),TRACK_PERFORMANCE:function(e){var t,o,r,i;return e||(e={}),i=n.C.PERFORMANCE_PATH()+"/performance/event",o="POST",r=function(){},t=function(){return console.log("error in logging event")},n.F.AJAX(o,i,r,t,e)}}},{"../../models/config-model":54,"../../models/shared-model":85,"../../models/user-model":87,"./helper-methods":104,backbone:318,underscore:445}],111:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;r=e("../../models/shared-model"),i=e("../../models/user-model"),n=e("backbone"),a=e("underscore"),n.$=$,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.initialize=function(){if(a.bindAll(this,"addListeners","initializeOneSignal","tagUser"),r.get("startupIndia"))return this.listenTo(n,n.E.TAG_USER_FOR_WEB_PUSH,this.tagUser),this.initializeOneSignal(),this.addListeners()},t.prototype.initializeOneSignal=function(){var e,t;try{return e=window.OneSignal||[],e.push(["init",{appId:LOCAL_DATA.oneSignalKey,autoRegister:!0}]),Notification&&"denied"!==Notification.permission&&e.registerForPushNotifications(),t={email:i.get("email")},this.tagUser(t)}catch(o){}},t.prototype.tagUser=function(e){try{return OneSignal.push(function(t){return function(){return OneSignal.sendTags(e)}}(this))}catch(t){}},t.prototype.addListeners=function(){try{return OneSignal.push(["addListenerForNotificationOpened",function(e){return function(e){return console.log(e)}}(this)])}catch(e){}},t}(n.View),t.exports=new s},{"../../models/shared-model":85,"../../models/user-model":87,backbone:318,underscore:445}],112:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,s=e("../models/shared-model"),r=e("./helpers/base-view"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.viewIdentifier="not-found",t.prototype.el="#not-found",t.prototype.initialize=function(){return n.E.SHOW_NOT_FOUND_TEACHER?this.listenTo(n,n.E.SHOW_NOT_FOUND_TEACHER,this.show):this.listenTo(n,n.E.SHOW_NOT_FOUND_STUDENT,this.show),t.__super__.initialize.call(this)},t.prototype.show=function(e){return n.F.HIDE_LOADER(),e?this.$(".message").text(e):this.$(".message").text("The page you are looking for does not exist."),s.resetCurrentView(this.viewIdentifier),this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$el.addClass("hide")},t}(r),t.exports=new i},{"../models/shared-model":85,"./helpers/base-view":99,backbone:318,underscore:445}],113:[function(e,t,o){var n,r,i;n=e("backbone"),i=e("underscore"),n.$=$,r=e("../../models/shared-model"),n.P={mark:function(e){if(r.get("measurePerformance"))return window.myLoadMetrics||(window.myLoadMetrics={}),window.myLoadMetrics[e]=new Date},measure:function(e,t){var o,n;if(r.get("measurePerformance"))return window.myLoadMetrics||(window.myLoadMetrics={}),n=window.myLoadMetrics[t],n?(o=new Date,window.myLoadMetrics[e]=o-n):void 0}}},{"../../models/shared-model":85,backbone:318,underscore:445}],114:[function(e,t,o){var n,r,i;n=e("backbone"),i=e("underscore"),n.$=$,r=[function(){return setTimeout(function(){return $("#course").click()},2e3)},function(){return setTimeout(function(){return $($(".module.item .module-body")[0]).click()},2e3)},function(){return setTimeout(function(){return $(".segments-list-item")[0].click()},4e3)},function(){return setTimeout(function(){return $("#discussions").click()},2e3)},function(){return setTimeout(function(){return $("#student-calendar").click()},2e3)}],t.exports=r},{backbone:318,underscore:445}],115:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,u=e("../models/shared-model"),r=e("./helpers/base-view"),i=e("../collections/enrollments"),s=e("./helpers/platform-access-helper"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.viewIdentifier="platform-access",t.prototype.el="#platform-access",t.prototype.template=function(){return l.template($("#enroll-state-template").html())},t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_PLATFORM_ACCESS_ERROR,this.show),t.__super__.initialize.call(this)},t.prototype.initUrl=function(e){return s.enrollmentStates.PAYMENT_PENDING.actionUrl=s.generatePaymentUrl(e)},t.prototype.show=function(e){if(this.initUrl(u.get("programKey")),$(".menu-items").addClass("hide"),e)return this.$el.html(this.template()(s.enrollmentStates[e])),u.resetCurrentView(this.viewIdentifier),this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$el.addClass("hide")},t}(r),t.exports=new a},{"../collections/enrollments":23,"../models/shared-model":85,"./helpers/base-view":99,"./helpers/platform-access-helper":107,backbone:318,underscore:445}],116:[function(e,t,o){var n,r,i;n=e("backbone"),i=e("underscore"),n.$=$,r={bindCkEditorEvents:function(){return i.bindAll(this,"addCkeditorEvents","removeCkeditorEvents")},addCkeditorEvents:function(){return $(this.editor).on("imageUploading",function(e){return function(){return e.preventFormSubmit()}}(this)),$(this.editor).on("imageUploaded",function(e){return function(){return e.enableFormSubmit()}}(this))},removeCkeditorEvents:function(){return $(this.editor).off("imageUploading"),$(this.editor).off("imageUploaded")},preventFormSubmit:function(){return this.$(".disable-submit-for-image-upload").addClass("disabled")},enableFormSubmit:function(){return this.$(".disable-submit-for-image-upload").removeClass("disabled")}},t.exports=r},{backbone:318,underscore:445}],117:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y=function(e,t){function o(){this.constructor=e}for(var n in t)v.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},v={}.hasOwnProperty;n=e("backbone"),m=e("underscore"),n.$=$,f=e("../models/user-model"),p=e("../models/shared-model"),c=e("../collections/modules"),s=e("../collections/courses"),r=e("./base-router"),u=e("../collections/enrollments"),i=e("../models/config-model"),a=e("./viewer/discussions/discussions-collection-handler"),l=e("./helpers/helper-methods"),g=e("../assistant-listeners"),e("../../../public/javascripts/assistant-initializer"),d=e("../models/nps-rating-model"),h=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.isStudentRouter=!0,t.prototype.routes={"v/course/:id/dashboard":"showDashboard","v/course/:id/dashboard/":"showDashboard","v/course/:id/module/:id":"showSessions","v/if/course/:id/module/:id":"showSessionsInIframe","v/course/:id/session/:id/segment/:id":"setCourseAndShowSegments","v/if/course/:id/session/:id/segment/:id":"setCourseAndShowSegmentsInIframe","v/course/:id/session/:id":"setCourseAndShowSegments","v/if/course/:id/session/:id":"setCourseAndShowSegmentsInIframe","v/course/:id/student-directory":"showStudentDirectory","v/course/:id/profile/:id/about":"setCourseAndShowProfile","v/course/:id/profile/:id/discussions":"setCourseAndShowDiscussions","v/course/:id/discussions":"showDiscussionForum","v/course/:id/discussions#:id":"showDiscussionForum","v/course/:id/discussions/search":"showSearchResults","v/course/:id/discussions/search?*queryString":"showSearchResults","v/course/:id/calendar":"showCalendar","v/course/:id/question/:id":"setCourseAndShowDiscussionQuestionDetails","v/course/:id/question/:id/answer/:id":"setCourseAndShowSingleAnswerView","v/course/:id/question/:id/answer/:id/comment/:id":"setCourseAndShowSingleAnswerView","v/course/:id/leaderboard":"showLeaderboard","v/course/:id/bookmarks":"showBookmarks","v/course/:id/followed-questions":"showBookmarks","v/courses":"showCourses","v/course/:id/refer":"showReferralPage","v/dashboard":"showDashboard","v/dashboard/":"showDashboard","v/course/:id":"showModules","v/if/course/:id":"showModulesInIframe","v/session/:id":"showSegments","v/student-directory":"showStudentDirectory","v/profile/:id/about":"showProfile","v/profile/:id/discussions":"showDiscussions","v/discussions":"showDiscussionForum","v/discussions/search":"showSearchResults","v/discussions/search?*queryString":"showSearchResults","v/calendar":"showCalendar","v/question/:id":"showDiscussionQuestionDetails","v/leaderboard":"showLeaderboard","v/bookmarks":"showBookmarks","v/settings":"showAccountSettings","*path":"showNotFound"},t.prototype.allViews={},t.prototype.initialize=function(){if(t.__super__.initialize.call(this),this.listenTo(n,n.E.FETCH_CONFIG_AND_BUILD_APP,this.fetchConfigModel),this.listenTo(n,n.E.ROUTE_TO_PATH,this.routeToPath),n.T.IDENTIFY_SESSION(f.get("email")),$(".mini-navbar-startup-india").removeClass("hide"),n.F.INIT_NETWORK_EVENT_LISTENERS(),p.get("startupIndia"))return n.T.MIXPANEL_TRACK("Student Router Initialize",{})},t.prototype.routeToPath=function(e){return this.navigate(e.path,{trigger:e.trigger||!1})},t.prototype.fetchEnrollments=function(e){var t,o;return u.length?p.get("courseId")&&e?e():void 0:(n.F.SHOW_LOADER(),t={batch:LOCAL_DATA.batch,programKey:null!=(o=n.F.PARSE_QUERY_STRING())?o.programKey:void 0},LOCAL_DATA.isDemo&&(t.isDemo=!0),LOCAL_DATA.lang&&"hin"===LOCAL_DATA.lang?t.isEnglish=!1:t.isEnglish=!0,u.fetch({data:$.param(t),success:function(t){return function(o,r,i){var s,a;if(u.length<=1&&!n.F.isDemoPlatform()&&$(".view-courses").addClass("hide"),s=t.checkEnrolledCourse(),a=t.isLocked(s,i),a||0!==u.length?e&&parseInt(Cookies.get("upgrad-last-active-course-id"))&&!a&&e():n.trigger(n.E.SHOW_PLATFORM_ACCESS_ERROR,"ZERO_ENROLLED"),0===u.length&&"LEARNING_WEEK"===i.xhr.getResponseHeader("ENROLLMENT-STATE"))return n.trigger(n.E.SHOW_PLATFORM_ACCESS_ERROR,"LEARNING_WEEK")}}(this),error:function(e,t){return n.ERR.SHOW(t)},complete:function(){return n.F.HIDE_LOADER()}}))},t.prototype.isLocked=function(e,t){var o,r;return o=t.xhr.getResponseHeader("ENROLLMENT-STATE"),o||e&&(o=e.get("status")),o&&"ACTIVE"!==o?(n.trigger(n.E.SHOW_PLATFORM_ACCESS_ERROR,o),p.set("courseIsLocked",!0),!0):e&&0===(null!=(r=e.get("course"))?r.modulesLength:void 0)?(n.trigger(n.E.SHOW_PLATFORM_ACCESS_ERROR,"COURSE_UNAVAILABLE"),p.set("courseIsLocked",!0),!0):(p.set("courseIsLocked",!1),!1)},t.prototype.checkEnrolledCourse=function(){var e;return!!u.length&&(e=m.find(u.models,function(e){var t,o;return LOCAL_DATA.programKey?(o=LOCAL_DATA.programKey,e.get("course").programKey===o):(t=p.get("courseId")||Cookies.get("upgrad-last-active-course-id"),e.get("course").id===parseInt(t))}),e||1!==u.length||n.F.isDemoPlatform()||(e=u.models[0]),e?(n.F.SET_COURSE_DATA(e.get("course")),n.F.SHOW_MAINTENANCE_MESSAGE(),a.initAlgoliaClient(),e):(Cookies.set("upgrad-last-active-course-id",""),n.trigger(n.E.VIEW_COURSES),!1))},t.prototype.fetchConfigModel=function(e,t,o){return null==o&&(o=!1),o&&(this.appBuilt=!1),this.appBuilt?this.showRequiredPage(e,t):i.fetch({success:function(o){return function(){return n.trigger(n.E.BUILD_APP_BY_CONFIG),o.appBuilt=!0,o.showRequiredPage(e,t)}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},t.prototype.showRequiredPage=function(e,t){var o;return t&&["dashboard","courseSelection"].indexOf(t)===-1&&!(null!=(o=i.get(t))?o.read:void 0)?(this.navigate("/v/not-found"),n.trigger(n.E.VIEW_NOT_FOUND)):e?e():void 0},t.prototype.fetchEnrollmentAndConfig=function(e,t){return this.fetchEnrollments(function(o){return function(){return o.fetchConfigModel(function(){if(e&&e(),o.fetchNpsModel(),p.get("courseConfiguration").assistant&&!window.assistantInitialized)return botHandle.initialize("#assistant-container",p,f),g.startListening()},t)}}(this)),n.trigger(n.E.EXIT_FULL_SCREEN_MODE)},t.prototype.fetchNpsModel=function(){if(!d.get("id"))return d.set("id",p.get("courseId")),d.fetch({success:function(e){return function(e){if(e.get("npsActive"))return n.trigger(n.E.NPS_NOTIFICATION_SHOW),d.trigger("nps:showNpsDashboard")}}(this)})},t.prototype.showDashboard=function(e){return e&&p.set("courseId",parseInt(e)),this.fetchEnrollmentAndConfig(function(e){return function(){return $(".navbar").removeClass("hide"),n.trigger(n.E.SHOW_DASHBOARD)}}(this),"dashboard"),n.P.mark("route:student-dashboard")},t.prototype.showModules=function(e){return e&&p.set("courseId",parseInt(e)),this.fetchEnrollmentAndConfig(function(t){return function(){return p.set("courseId",parseInt(e)),Cookies.set("upgrad-last-active-course-id",e),n.trigger(n.E.SHOW_MODULES)}}(this),"course"),n.P.mark("route:courseView"),this.checkForQueryParams()},t.prototype.showModulesInIframe=function(e){return this.showModules(e),n.trigger(n.E.PREPARE_PLATFORM_FOR_IFRAME),this.checkForQueryParams()},t.prototype.checkForQueryParams=function(){var e;if(e=n.F.PARSE_QUERY_STRING(),(null!=e?e.moduleType:void 0)&&this.moduleTypeExists(e.moduleType)&&(p.set("filterWithModuleType",!0),p.set("filterModuleType",e.moduleType)),null!=e?e.platform:void 0)return p.set("platformConsumer",e.platform)},t.prototype.showSessions=function(e,t){return e&&p.set("courseId",parseInt(e)),this.fetchEnrollmentAndConfig(function(o){return function(){return p.set("courseId",parseInt(e)),p.set("moduleId",parseInt(t)),n.trigger(n.E.SHOW_SESSIONS)}}(this),"course"),n.P.mark("route:sessionsView")},t.prototype.showSessionsInIframe=function(e,t){return this.showSessions(e,t),n.trigger(n.E.PREPARE_PLATFORM_FOR_IFRAME)},t.prototype.setCourseAndShowSegments=function(e,t,o){return p.set("courseId",parseInt(e)),this.showSegments(t,o)},t.prototype.setCourseAndShowSegmentsInIframe=function(e,t,o){return this.setCourseAndShowSegments(e,t,o),n.trigger(n.E.PREPARE_PLATFORM_FOR_IFRAME)},t.prototype.showSegments=function(e,t){return n.P.mark("route:segmentView"),this.fetchEnrollmentAndConfig(function(o){return function(){return p.set("sessionId",parseInt(e)),p.set("segmentId",parseInt(t)),n.trigger(n.E.SHOW_SEGMENTS)}}(this),"course")},t.prototype.showStudentDirectory=function(e){return e&&p.set("courseId",parseInt(e)),this.fetchEnrollmentAndConfig(function(e){return function(){return n.trigger(n.E.VIEW_STUDENT_DIRECTORY)}}(this),"studentDirectory")},t.prototype.setCourseAndShowProfile=function(e,t){return p.set("courseId",parseInt(e)),this.showProfile(t)},t.prototype.showProfile=function(e){return this.fetchEnrollmentAndConfig(function(t){return function(){return p.set("profileId",parseInt(e)),n.trigger(n.E.DISPLAY_PROFILE)}}(this),"userProfile")},t.prototype.setCourseAndShowDiscussions=function(e,t){return p.set("courseId",parseInt(e)),this.showDiscussions(t)},t.prototype.showDiscussions=function(e){return this.fetchEnrollmentAndConfig(function(t){return function(){return p.set("profileId",parseInt(e)),n.trigger(n.E.DISPLAY_DISCUSSIONS)}}(this),"userDiscussions")},t.prototype.showDiscussionForum=function(e,t){return e&&p.set("courseId",parseInt(e)),t&&p.set("contextPk",parseInt(t)),this.fetchEnrollmentAndConfig(function(e){return function(){return n.trigger(n.E.SHOW_DISCUSSION_FORUM)}}(this),"discussions")},t.prototype.showSearchResults=function(e){var t;return e&&p.set("courseId",parseInt(e)),t=n.F.PARSE_QUERY_STRING(),this.fetchEnrollmentAndConfig(function(e){return function(){return n.trigger(n.E.SHOW_SEARCH_RESULTS,t)}}(this),"discussions")},t.prototype.showBookmarks=function(e){var t;return e&&(p.set("courseId",parseInt(e)),t=p.get("courseId")+"/followed-questions",n.trigger(n.E.NAVIGATE_BASED_ON_IFRAME,t,!1)),this.fetchEnrollmentAndConfig(function(e){return function(){return n.trigger(n.E.SHOW_MY_BOOKMARK_VIEW)}}(this),"discussions")},t.prototype.setCourseAndShowDiscussionQuestionDetails=function(e,t){return e&&p.set("courseId",parseInt(e)),this.showDiscussionQuestionDetails(t)},t.prototype.setCourseAndShowSingleAnswerView=function(e,t,o,n){return e&&p.set("courseId",parseInt(e)),this.showSingleAnswerView(t,o,n)},t.prototype.showDiscussionQuestionDetails=function(e){return this.fetchEnrollmentAndConfig(function(t){return function(){var t,o;p.set("discussionQuestionId",parseInt(e)),t={};try{o=window.location.pathname.split("question"),o="question"+o[1],t.scrollTo=o}catch(r){}return n.trigger(n.E.SHOW_QUESTION_DETAILS,t)}}(this),"discussions")},t.prototype.showSingleAnswerView=function(e,t,o){return this.fetchEnrollmentAndConfig(function(r){return function(){var r,i;p.set("discussionQuestionId",parseInt(e)),p.set("answerId",parseInt(t)),o&&p.set("commentId",parseInt(o)),r={};try{i=window.location.pathname.split("question"),i="question"+i[1],r.scrollTo=i}catch(s){}return n.trigger(n.E.SHOW_SINGLE_ANSWER,r)}}(this),"discussions")},t.prototype.showCalendar=function(e){return e&&p.set("courseId",parseInt(e)),this.fetchEnrollmentAndConfig(function(e){return function(){return n.trigger(n.E.SHOW_CALENDAR_VIEW)}}(this),"calendar")},t.prototype.showCourses=function(){return this.fetchEnrollmentAndConfig(function(e){return function(){return $(".navbar").removeClass("hide"),n.trigger(n.E.VIEW_COURSES)}}(this),"courseSelection")},t.prototype.showLeaderboard=function(e){return e&&p.set("courseId",parseInt(e)),this.fetchEnrollmentAndConfig(function(e){return function(){return n.trigger(n.E.SHOW_LEADERBOARD_VIEW)}}(this),"leaderboard")},t.prototype.showNotFound=function(){return this.fetchEnrollmentAndConfig(function(e){return function(){return n.trigger(n.E.VIEW_NOT_FOUND)}}(this))},t.prototype.showAccountSettings=function(){return n.P.mark("route:accountSettingsView"),n.trigger(n.E.SHOW_ACCOUNT_SETTINGS)},t.prototype.showReferralPage=function(e){return p.set("courseId",e),this.fetchEnrollmentAndConfig(function(e){return function(){return n.trigger(n.E.VIEW_REFERRAL_PAGE)}}(this))},t.prototype.moduleTypeExists=function(e){var t;return t=["CONCEPT","CASE_STUDY","LIVE_LECTURE","PROJECT","RESOURCE","INTRODUCTION","CASE_STUDY_GROUP","REMEDIAL_CONTENT","CAREER_SERVICES","SOLUTIONS"],t.indexOf(e)!==-1},t}(r),t.exports=new h},{"../../../public/javascripts/assistant-initializer":450,"../assistant-listeners":2,"../collections/courses":10,"../collections/enrollments":23,"../collections/modules":26,"../models/config-model":54,"../models/nps-rating-model":74,"../models/shared-model":85,"../models/user-model":87,"./base-router":96,"./helpers/helper-methods":104,"./viewer/discussions/discussions-collection-handler":185,backbone:318,underscore:445}],118:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,a=e("../models/shared-model"),r=e("./helpers/base-view"),i=e("./helpers/helper-methods"),s=e("../collections/quizzes"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.events={"click .single-view-tab":"showSingleView","click .compare-view-tab":"showCompareView","click .copy-solution":"copyToClipboard"},t.prototype.initialize=function(){return this.listenTo(n,"text-feedback:show",this.setInformation),this.$el.on("hide.bs.modal",function(e){return function(){return n.F.ENABLE_BODY_SCROLL(),e.trackEvent("close_sample_solution")}}(this)),this.$el.on("shown.bs.modal",function(e){return function(t){return e.$("#text-feedback").focus()}}(this))},t.prototype.template=function(){return l.template($("#text-feedback-view").html())},t.prototype.setInformation=function(e,t,o,n){return e.stopPropagation(),this.currentPage=o,this.questionId=n.get("questionId"),this.quizId=n.get("quiz").get("quizId"),n.get("hasTextSolution")?this.fetchQuizDetails(n,function(e){return function(){return e.isCorrect=n.get("isCorrect"),e.render(t,n.get("code"),n.get("codeAnswer"))}}(this)):(this.isCorrect=n.get("isCorrect"),this.render(t,n.get("code"),n.get("codeAnswer")))},t.prototype.fetchQuizDetails=function(e,t){return n.F.SHOW_LOADER(),this.quizzes=new s,this.quizzes.fetch({data:$.param({ids:this.quizId,get_definition:!0}),success:function(o){var r;if(r=o.models[0].get("questionSessions")[0],e.set(r),e.unset("hasTextSolution"),n.F.HIDE_LOADER(),t)return t()},error:function(e,t){return n.F.HIDE_LOADER(),n.ERR.SHOW(t)}})},t.prototype.render=function(e,t,o){return this.$el.html(this.template()()),this.$('[data-toggle="tooltip"]').tooltip(),this.sampleSolutionEditor=ace.edit(this.$(".sample-solution-editor")[0]),this.yourSolutionEditor=ace.edit(this.$(".your-solution-editor")[0]),i.setEditor(this.sampleSolutionEditor,t.language,t.solutionCode),i.setEditor(this.yourSolutionEditor,t.language,o.answer||""),e.prepend(this.$el),n.F.DISABLE_BODY_SCROLL(),this.$el.modal("show"),this.trackEvent("click_sample_solution")},t.prototype.showCompareView=function(){return this.$(".single-view-tab").removeClass("selected"),this.$(".compare-view-tab").addClass("selected"),this.$(".text-placeholder").addClass("compare-view"),this.$(".your-solution-editor").removeClass("hide"),this.$(".title-your-solution").removeClass("hide"),this.sampleSolutionEditor.resize(),this.trackEvent("click_compare_view")},t.prototype.showSingleView=function(){return this.$(".single-view-tab").addClass("selected"),this.$(".compare-view-tab").removeClass("selected"),this.$(".text-placeholder").removeClass("compare-view"),this.$(".your-solution-editor").addClass("hide"),this.$(".title-your-solution").addClass("hide"),this.sampleSolutionEditor.resize(),this.trackEvent("click_single_view")},t.prototype.copyToClipboard=function(){return this.sampleSolutionEditor.selectAll(),this.sampleSolutionEditor.focus(),document.execCommand("copy"),this.trackEvent("click_copy_sample_solution")},t.prototype.trackEvent=function(e,t){var o,r,i;return t=t||{},t.category="sample_solution",t.current_page=this.currentPage,t.question_correct=this.isCorrect,t.question_id=null!=(o=this.questionId)?o.toString():void 0,t.quiz_id=null!=(r=this.quizId)?r.toString():void 0,t.segment_id=null!=(i=a.get("segmentId"))?i.toString():void 0,n.T.MIXPANEL_TRACK(e,t)},t}(r),t.exports=new u},{"../collections/quizzes":30,"../models/shared-model":85,"./helpers/base-view":99,"./helpers/helper-methods":104,backbone:318,underscore:445}],119:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),u=e("underscore"),n.$=$,i=e("../models/shared-model"),s=e("../views/viewer/component-viewers/video-component-mixin"),r=e("./helpers/base-view"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.initialize=function(){return u.bindAll(this,"playerAdded","playFeedbackVideo","trackEvent","trackPlayerEvent"),this.listenTo(n,"video-feedback:show",this.openVideo)},t.prototype.template=function(){return u.template($("#video-feedback-view").html())},t.prototype.openVideo=function(e,t,o,r){return this.currentPage=o,this.questionId=r.get("questionId"),this.quizId=r.get("quiz").get("quizId"),this.isCorrect=r.get("isCorrect"),e.stopPropagation(),this.$(e.currentTarget).blur(),this.$el.removeClass("hide"),n.F.DISABLE_BODY_SCROLL(),this.render(t,r.get("videoFeedbackId")),this.trackEvent("click_view_video_solution_action")},t.prototype.showPlaceholder=function(e){var t;return t=this.setVideoId()+"-placeholder",this.playerHtml=this.playerHtml||this.getPlayerHtml(t),this.$(".video-placeholder").empty().prepend(this.playerHtml),this.$(".modal-body").attr("id",e),this.addPlayer(t)},t.prototype.playerAdded=function(){var e;return e=this.videoAreaId+"-placeholder",this.videoSetup(e,null,function(e){return function(){return e.playFeedbackVideo(),e.trackEvent("load_video_solution")}}(this)),this.videoPlayPauseListeners()},t.prototype.videoPlayPauseListeners=function(){return this.player.on("play",function(e){return function(t){return e.trackPlayerEvent("click_play_video_action")}}(this)),this.player.on("pause",function(e){return function(t){return e.trackPlayerEvent("click_pause_video_action")}}(this))},t.prototype.trackEvent=function(e){var t;return t=this.getTrackinObject(),n.T.MIXPANEL_TRACK(e,t)},t.prototype.trackPlayerEvent=function(e){var t,o,r;return r=this.getTrackinObject(),r.video_total_time=null!=(t=this.player)?t.duration().toString():void 0,
r.current_time=Math.floor(null!=(o=this.player)?o.currentTime():void 0).toString(),n.T.MIXPANEL_TRACK(e,r)},t.prototype.getTrackinObject=function(){var e,t,o,n;return e={category:"video_solution",current_page:this.currentPage,question_correct:this.isCorrect,question_id:this.questionId.toString(),"Video Id":null!=(t=this.model)&&null!=(o=t.get("video"))?o.URL.toString():void 0,quiz_id:this.quizId.toString(),segment_id:null!=(n=i.get("segmentId"))?n.toString():void 0}},t.prototype.render=function(e,t){return e.find("#video-feedback").length?void(this.$(".modal-body").attr("id")!==t?(this.model.set("name","videoFeedback"),this.model.set("video",{URL:t}),this.changeVideo(t,function(e){return function(){return e.$(".modal-body").attr("id",t),e.$el.modal({backdrop:!0}),e.trackEvent("load_video_solution")}}(this))):this.$el.modal({backdrop:!0})):(this.$el.html(this.template()()),this.model=new n.Model,this.model.set("name","videoFeedback"),this.model.set("video",{URL:t}),this.showPlaceholder(t),this.$el.on("hide.bs.modal",function(e){return function(){return n.F.ENABLE_BODY_SCROLL(),e.pauseVideo(),e.trackEvent("click_close_video_solution_action")}}(this)),this.$el.on("shown.bs.modal",function(e){return function(t){return e.$("#video-feedback").focus(),e.playFeedbackVideo()}}(this)),e.prepend(this.$el),this.$el.modal({backdrop:!0}))},t}(r),u.extend(a.prototype,s),t.exports=new a},{"../models/shared-model":85,"../views/viewer/component-viewers/video-component-mixin":142,"./helpers/base-view":99,backbone:318,"backbone.stickit":317,underscore:445}],120:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.el="#badge-modal",t.prototype.events={"click .ok":"hide"},t.prototype.initialize=function(){return i.bindAll(this,"hide"),this.listenTo(n,n.E.SHOW_BADGE_POPUP,this.show),t.__super__.initialize.call(this)},t.prototype.show=function(e){return this.$(".badge-image").attr("src",e.get("url")),this.$(".description").text(e.get("text")),this.$(".name").text(e.get("badgeName")),this.$el.modal("show")},t.prototype.hide=function(){return this.$el.modal("hide")},t}(n.View),t.exports=new r},{backbone:318,"backbone.stickit":317,underscore:445}],121:[function(e,t,o){var n,r,i,s,a,u=function(e,t){return function(){return e.apply(t,arguments)}},l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,s=e("../../../models/shared-model"),i=e("../../../collections/components"),r=function(e){function t(){return this.deleteFromCache=u(this.deleteFromCache,this),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.initialize=function(){return a.bindAll(this,"startRetryMechanism","retryExistingCacheOnload","addToCache","onSuccess","onError"),this.listenTo(n,n.E.ADD_API_TO_CACHE,this.addToCache),this.listenTo(n,n.E.START_RETRY_MECHANISM,this.startRetryMechanism),this.listenTo(n,n.E.INITIAL_PROGRESS_CHECK_ON_LOAD,this.retryExistingCacheOnload),window.addEventListener("online",this.startRetryMechanism)},t.prototype.retryExistingCacheOnload=function(){return this.startRetryMechanism()},t.prototype.addToCache=function(e,t,o){var n,r;return n=Cookies.getJSON("failedApiCache")||[],r=(new Date).getTime(),Cookies.set("failedApi-"+r,Object.assign({url:t},{timestamp:r,data:e,method:o})),n.push(r),Cookies.set("failedApiCache",n)},t.prototype.startRetryMechanism=function(){var e,t,o,n,r;if(e=this.getFromCache(),e&&e.length>0){for(this.removeExpiredCache(),n=[],t=0,o=e.length;t<o;t++)r=e[t],n.push(this.makeAjaxCall(r));return n}},t.prototype.makeAjaxCall=function(e){var t;if(t=Cookies.getJSON("failedApi-"+e),t&&!t.inProgress)return t.inProgress=!0,t.retry=(t.retry||0)+1,n.F.AJAX(t.method,t.url,function(e){return function(o){return e.onSuccess(t,o)}}(this),function(t){return function(o){return t.onError(e,o)}}(this),JSON.stringify(t.data)),this.updateCacheItem(t)},t.prototype.removeExpiredCache=function(){var e;return e=this.getFromCache().filter(function(e){return function(t){var o,r;return o=e.isValid(t),o||(r=Cookies.getJSON("failedApi-"+t),r&&(Cookies.remove("failedApi-"+t),r.data&&r.data.componentId&&n.T.MIXPANEL_TRACK("Video Cached Progress Fail",e.getMixedPanelData(r)))),o}}(this)),Cookies.set("failedApiCache",e)},t.prototype.getMixedPanelData=function(e){return{componentId:e.data.componentId,addedOn:e.timestamp,retries:e.retry}},t.prototype.isValid=function(e){var t,o;return o=(new Date).getTime()-e,t=Math.floor(o/1e3/60/60/24),t<1},t.prototype.onSuccess=function(e,t){var o;if(this.deleteFromCache(e.timestamp,t),o=i.get(e.data.componentId))return n.trigger(n.E.PROGRESS_CALL_SUCCESS,new n.Model(t),o)},t.prototype.onError=function(e,t){var o;if(o=Cookies.getJSON("failedApi-"+e))return o.inProgress=!1,this.isValid(e)?(navigator.onLine&&setTimeout(function(t){return function(){return t.makeAjaxCall(e)}}(this),1e3*(1<<o.retry)),this.updateCacheItem(o)):this.removeAndLogCache(e)},t.prototype.removeAndLogCache=function(e){var t;if(t=Cookies.getJSON("failedApi-"+e),this.deleteFromCache(e),t)return Cookies.remove("failedApi-"+e),n.T.MIXPANEL_TRACK("Video Cached Progress Fail",this.getMixedPanelData(t))},t.prototype.getFromCache=function(){var e;return e=Cookies.getJSON("failedApiCache")},t.prototype.updateCacheItem=function(e){return Cookies.set("failedApi-"+e.timestamp,e)},t.prototype.deleteFromCache=function(e,t){var o;return o=Cookies.getJSON("failedApiCache").filter(function(t){return function(t){return t!==e}}(this)),Cookies.getJSON("failedApi-"+e)&&Cookies.remove("failedApi-"+e),Cookies.set("failedApiCache",o)},t}(n.View),t.exports=new r},{"../../../collections/components":8,"../../../models/shared-model":85,backbone:318,underscore:445}],122:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),a=e("underscore"),n.$=$,s=e("../../../models/shared-model"),i=e("../../student-router"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.className="calendar-event-details-modal-classname",t.prototype.template=function(){return a.template($("#calendar-event-details-template").html())},t.prototype.initialize=function(e){return a.bindAll(this,"render","showModal","appendSpeakers","destroyModal"),this.listenTo(this.model,"showModal",this.showModal),this.listenTo(this.model,"destroyModal",this.destroyModal)},t.prototype.bindings={".calendar-event-detail-modal-heading ":{observe:"message",onGet:function(){return this.model.get("message")}},".event-details-day":{observe:"eventDateIso",onGet:function(e){return n.F.formattedDateWithTimezone(e,{format:"dddd,  ",removeTimeZoneAbbr:!0})}},".event-details-date":{observe:"eventDateIso",onGet:function(e){return n.F.formattedDateWithTimezone(e,{format:"  Do MMMM",removeTimeZoneAbbr:!0})}},".event-venue":{observe:"venue",onGet:function(){return this.model.get("venue")&&"ONLINE"!==this.model.get("eventMode")&&null!==this.model.get("venue")?(this.$(".event-venue").removeClass("hide"),"VENUE : "+this.model.get("venue")):this.$(".event-venue").addClass("hide")}},".event-details-time":{observe:"eventDateIso",onGet:function(e){return n.F.formattedDateWithTimezone(e,{format:"LT"})}},".calendar-event-detail-url":{observe:"url",onGet:function(){var e;return this.model.get("url")?(this.$(".modal-footer").removeClass("hide"),e=this.model.get("url").indexOf("http")!==-1?this.model.get("url"):"http://"+this.model.get("url"),this.$(".submit-calendar-event-details-modal").prop("href",e)):this.$(".modal-footer").addClass("hide")}}},t.prototype.appendSpeakers=function(){if(this.$(".event-speaker-item").remove(),this.model.get("speakers").length>0?this.$(".meet-the-speakers-text").removeClass("hide"):this.$(".meet-the-speakers-text").addClass("hide"),a.each(this.model.get("speakers"),function(e){return function(t){var o,n,r;return o='<div class="event-speaker-item"><div class="event-speaker-single-block clearfix">',t.get("profilePic")&&t.get("profilePic").url&&(o=o+'<img src="'+t.get("profilePic").url+'" alt="" class="event-speaker-image">'),o=o+'<div class="event-speaker-text"><div class="event-speaker-name light-font medium-font">'+t.get("firstname")+" "+t.get("lastname")+"</div>",t.get("currentPosition")&&(o=o+'<div class="event-speaker-position bold-font medium-font">'+t.get("currentPosition")+", "+t.get("currentUniversity")+"</div>"),n=t.get("linkedInURL"),n&&(n.indexOf("http")===-1&&(n="https://"+n),o=o+'<div class="event-speaker-icon-block"><a href="'+n+'" class="icomoon icon-linkedin" target="_blank"></a>'),r=t.get("twitterURL"),r&&(r.indexOf("http")===-1&&(r="https://"+r),o=o+'<a href="'+r+'" class="icomoon icon-twitter" target="_blank"></a></div></div></div></div>'),e.$(".event-append-here").append(o),o=""}}(this)),this.$(".event-speaker-item").length%2!==0)return $(this.$(".event-speaker-item")[this.$(".event-speaker-item").length-1]).addClass("event-speaker-item-last")},t.prototype.render=function(){return this.$el.html(this.template()()),this.stickit(),$("#calendar").append(this.$el),this.appendSpeakers(),this.showQuestionUrl(),this.showModal()},t.prototype.destroyModal=function(){return this.stopListening(),this.$el.remove()},t.prototype.showQuestionUrl=function(){return"ONLINE"===this.model.get("eventMode")&&this.model.get("questionUrl")?this.$(".event-questions-url").removeClass("hide").attr({href:this.model.get("questionUrl")}):this.$(".event-questions-url").addClass("hide")},t.prototype.showModal=function(){return this.model.get("description")?(this.$(".event-description-block").removeClass("hide"),this.$(".event-description").text(this.model.get("description"))):this.$(".event-description-block").addClass("hide"),this.$(".calendar-event-details-modal").modal("show")},t}(n.View),t.exports=r},{"../../../models/shared-model":85,"../../student-router":117,backbone:318,"backbone.stickit":317,underscore:445}],123:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),d=e("underscore"),n.$=$,c=e("../../../models/shared-model"),r=e("../../calendar-base-item-view"),l=e("../../student-router"),i=e("./calendar-event-details-modal-view"),s=e("../../../collections/calendar-events"),u=e("./calendar-submission-details-modal-view"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.className="calendar-event-item item",t.prototype.tagName="div",t.prototype.template=function(){var e;return e="noevent"===this.model.get("type")?"#calendar-no-events-template":"#calendar-events-template",d.template($(e).html())},t.prototype.events={click:"showItem"},t.prototype.bindings={".event-name":"message",".event-day-time":{observe:["eventDateIso","endDateIso"],onGet:function(e){var t,o;return"event"===this.model.get("type")?(o=n.F.formattedDateWithTimezone(e[0],{format:"LT",removeTimeZoneAbbr:!0}),t=n.F.formattedDateWithTimezone(e[1],{format:"LT"}),o+" - "+t):""}},".content":{attributes:[{name:"href",observe:"url",onGet:function(){return this.model.get("url")?this.model.get("url"):"javascript:;"}},{name:"target",observe:"url",onGet:function(){if(this.model.get("url"))return"_blank"}}]}},t.prototype.initialize=function(e){return d.bindAll(this,"render","destroy","highlightEvent","removeHighlightedEvent","setEventType","toggleVisibility"),this.listenTo(this.model,"showItem",this.showItem),t.__super__.initialize.call(this)},t.prototype.render=function(){return this.$el.html(this.template()(this.model.toJSON())),this.stickit(),this.setEventType(),this.model.get("isDemoEvent")&&this.$el.addClass("calendar-event-item-dummy"),this.$el},t.prototype.showItem=function(){var e,t,o;if(this.model.get("isDemoEvent"))return void $("#sample-event-modal .modal").modal("show");if(this.model.get("modalDetails"))return this.model.trigger("showModal");switch(this.model.get("type")){case"submission":case"overdue":o={Type:"submission"},e=u;break;case"event":o={Type:"event"},e=i}return t=new e({model:this.model}),t.render(),this.model.set("modalDetails",!0),n.T.MIXPANEL_TRACK("Calendar View Details",o)},t.prototype.setEventType=function(){switch(this.model.get("type")){case"submission":return this.$(".submission-type").removeClass("hide");case"overdue":return this.$(".overdue-type").removeClass("hide");case"event":return this.$(".event-item-type").removeClass("hide");case"noevent":return this.$el.addClass("noevent");default:return this.$(".event-item-type").removeClass("hide")}},t.prototype.highlightEvent=function(){return this.$el.addClass("highlight-event"),this.$el.focus()},t.prototype.toggleVisibility=function(){return this.model.get("visibility")?this.$el.removeClass("hide"):this.$el.addClass("hide")},t.prototype.removeHighlightedEvent=function(){return this.$el.removeClass("highlight-event")},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t.prototype.destroy=function(){return this.model.trigger("destroyModal"),this.stopListening(),this.$el.remove()},t}(r),t.exports=a},{"../../../collections/calendar-events":7,"../../../models/shared-model":85,"../../calendar-base-item-view":97,"../../student-router":117,"./calendar-event-details-modal-view":122,"./calendar-submission-details-modal-view":124,backbone:318,"backbone.stickit":317,underscore:445}],124:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),a=e("underscore"),n.$=$,s=e("../../../models/shared-model"),i=e("../../student-router"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.className="calendar-submission-details-modal-classname",t.prototype.template=function(){return a.template($("#calendar-submission-details-template").html())},t.prototype.initialize=function(e){return a.bindAll(this,"render","showModal","redirectToModules","destroyModal"),this.listenTo(this.model,"showModal",this.showModal),this.listenTo(this.model,"destroyModal",this.destroyModal)},t.prototype.bindings={".event-description":{observe:"description",onGet:function(){return this.model.get("description")}},".calendar-event-detail-modal-heading ":{observe:"component",onGet:function(){return this.model.get("component").moduleName}},".event-details-day":{observe:"eventDateIso",onGet:function(e){return n.F.formattedDateWithTimezone(e,{format:"dddd,  ",removeTimeZoneAbbr:!0})}},".event-details-date":{observe:"eventDateIso",onGet:function(e){return n.F.formattedDateWithTimezone(e,{format:"Do MMMM",removeTimeZoneAbbr:!0})}},".event-details-time":{observe:"eventDateIso",onGet:function(e){return n.F.formattedDateWithTimezone(e,{format:"LT"})}},".event-detail-type":{observe:"component",onGet:function(){var e;return e=n.F.getModuleText(this.model,this.model.get("component")),e+this.model.get("component").moduleNumber+" > Session "+this.model.get("component").sessionNumber}},".event-details-heading-title":{observe:"component",onGet:function(){return this.model.get("component").name}}},t.prototype.events={"click .submit-calendar-submission-details-modal":"redirectToModules"},t.prototype.redirectToModules=function(e){return e.preventDefault(),this.$(".calendar-submission-details-modal").modal("hide"),s.set("sessionId",this.model.get("component").sessionId),s.set("componentId",this.model.get("component").id),s.set("moduleId",this.model.get("component").moduleId),s.set("moduleGroupId",this.model.get("component").moduleGroupId),this.model.get("isSegmentLocked")?i.navigate("/v/course/"+this.model.get("component").courseId+"/module/"+s.get("moduleId"),!0):(s.set("segmentId",this.model.get("component").segmentId),i.navigate("/v/course/"+s.get("courseId")+"/session/"+s.get("sessionId")+"/segment/"+s.get("segmentId"),!0))},t.prototype.showModal=function(){return this.$(".submission-type-indicator").removeClass("red-color locked"),this.model.get("isSegmentLocked")?(this.$(".submission-type-indicator").text(""),this.$(".view-modules-text").text("View Module"),this.$(".submission-type-indicator").addClass("locked"),this.$(".event-details-heading-title").text("Progress through the module to unlock this assignment")):"overdue"===this.model.get("type")?(this.$(".submission-type-indicator").text("overdue"),this.$(".view-modules-text").text("View Details"),this.$(".submission-type-indicator").addClass("red-color")):(this.$(".submission-type-indicator").text(""),this.$(".submission-type-indicator").removeClass("red-color overdue locked")),this.$(".calendar-submission-details-modal").modal("show")},t.prototype.destroyModal=function(){return this.stopListening(),this.$el.remove()},t.prototype.render=function(){return this.$el.html(this.template()()),this.stickit(),$("#calendar").append(this.$el),this.showModal()},t}(n.View),t.exports=r},{"../../../models/shared-model":85,"../../student-router":117,backbone:318,"backbone.stickit":317,underscore:445}],125:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h=function(e,t){function o(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},f={}.hasOwnProperty;p=e("underscore"),e("backbone.stickit"),n=e("backbone"),window._=p,a=e("../../../collections/calendar-events"),i=e("./calendar-item-view"),c=e("./overdue-submission-item-view"),l=e("../../helpers/collection-view-support"),d=e("../../../models/shared-model"),r=e("../../calendar-builder-base-view"),s=e("../../../models/calendar-event-model"),n.$=$,u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.el="#calendar",t.prototype.viewIdentifier="calendarView",t.prototype.overdueCount=0,t.prototype.initialize=function(){return p.bindAll(this,"customAddOne","emptyOverdueList","appendToAnotherList"),this.listenTo(n,n.E.SHOW_CALENDAR,this.showView),this.listenTo(n,n.E.SHOW_CALENDAR_NOTIFICATION_ITEM,this.showCalendarItemModal),this.itemViewClass=i,t.__super__.initialize.call(this)},t.prototype.events=function(){return p.extend({},r.prototype.events,{"click .calendar-selected-date-header":"toggleExpandIcon"})},t.prototype.toggleExpandIcon=function(e){var t,o;return o=$(e.currentTarget),t=o.find(".schedule-exapnd"),"keyboard_arrow_up"===t.text()?t.text("keyboard_arrow_down"):t.text("keyboard_arrow_up"),o.hasClass("overdue")?this.$("#schedule").collapse("toggle"):this.$("#overdue").collapse("toggle"),this.$(".schedule-title").toggleClass("expanded")},t.prototype.customAddOne=function(e){if("overdue"===e.get("type"))return this.appendToAnotherList(e)},t.prototype.showView=function(){return this.addDemoEvents(),t.__super__.showView.call(this),n.Demo.show("calendarMenuItem"),n.trigger("pageShown:"+this.viewIdentifier)},t.prototype.addDemoEvents=function(){var e,t,o,r;if(n.F.isDemoPlatform()&&!this.addedDemoEvents)return r=d.get("programKey"),"product-management"===r?(e="Mentorship session with Anshumani Rudra, VP Practo",t="TA session on User Research",o="Live session on building personas - Anish, AVP, Bookmyshow"):"data-analytics"===r?(e="Live faculty session - Linear Regression",t="Industry Session S Anand, CEO Gramener",o="Offline Meetup - Resume Review and Placement Support"):"digital-marketing"===r&&(e="Career mentorship session with Anshul Khandelwal",t="TA session on Search Engine Marketing",o="Live Project 2 - Implementing Social Media Campaign"),a.add([{isDemoEvent:!0,message:e||"This is a sample event",eventDate:"01/01/1947 00:00:00"},{isDemoEvent:!0,message:t||"This is a sample event",eventDate:"01/01/1947 00:00:00"},{isDemoEvent:!0,message:o||"This is a sample event",eventDate:"01/01/1947 00:00:00"}]),this.addedDemoEvents=!0},t.prototype.showCalendarItemModal=function(e){var t;if(e&&e.notificationModel&&e.notificationModel.get("metadata"))return t=e.notificationModel.get("metadata").eventId,a.where({id:t})[0].trigger("showItem")},t.prototype.emptyOverdueList=function(){var e;return null!=(e=this.calendar)&&e.destroy(),this.$(".student-calendar").empty(),this.$(".overdue-submissions-list").empty()},t.prototype.performAfterAddingItems=function(e){if(t.__super__.performAfterAddingItems.call(this,e),0===this.overdueCount)return this.appendToAnotherList(new s({message:"",type:"nooverdue",component:{},eventDate:moment().format("DD/MM/YYYY")}))},t.prototype.appendToAnotherList=function(e){var t,o;return o=new c({model:e}),t=o.render(),this.$(".overdue-submissions-list").append(t),o.prependDatePannel(),this.$(".calendar-overdue-section-empty-state").addClass("hide"),this.overdueCount++},t}(r),p.extend(u.prototype,l),t.exports=new u},{"../../../collections/calendar-events":7,"../../../models/calendar-event-model":50,"../../../models/shared-model":85,"../../calendar-builder-base-view":98,"../../helpers/collection-view-support":100,"./calendar-item-view":123,"./overdue-submission-item-view":126,backbone:318,"backbone.stickit":317,underscore:445}],126:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),s=e("underscore"),n.$=$,i=e("../../../models/shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.className="calendar-event-item overdue-submission-item item",t.prototype.tagName="div",t.prototype.template=function(){var e;return e="nooverdue"===this.model.get("type")?"#calendar-no-overdue-template":"#calendar-events-template",s.template($(e).html())},t.prototype.bindings={".event-date":{observe:"eventDateIso",onGet:function(e){return n.F.formattedDateWithTimezone(e,{format:"Do"})}},".event-day":{observe:"eventDateIso",onGet:function(e){return n.F.formattedDateWithTimezone(e,{format:"MMM"})}},".event-name":"message"},t.prototype.events={click:"showOverdueSubmissionModal"},t.currentIterationDate=null,t.prevIterationDate=null,t.prototype.initialize=function(e){return s.bindAll(this,"render","destroy","highlightEvent","removeHighlightedEvent","setEventType"),this.listenTo(this.model,"destroy",this.destroy),this.listenTo(this.model,"highlightEvent",this.highlightEvent),this.listenTo(this.model,"removeHighlightedEvent",this.removeHighlightedEvent)},t.prototype.render=function(){return this.$el.html(this.template()(this.model.toJSON())),this.stickit(),this.setEventType(),this.$el},t.prototype.prependDatePannel=function(){var e;if("nooverdue"!==this.model.get("type")&&(e=n.F.formattedDateWithTimezone(this.model.get("eventDateIso"),{format:"DD MMM YYYY"}),this.constructor.currentIterationDate=e,this.constructor.prevIterationDate!==this.constructor.currentIterationDate))return this.$el.before(s.template($("#calendar-events-container-template").html())({currentDate:e})),this.constructor.prevIterationDate=this.constructor.currentIterationDate},t.prototype.setEventType=function(){switch(this.model.get("type")){case"submission":return this.$(".submission-type").removeClass("hide");case"overdue":return this.$(".overdue-type").removeClass("hide");case"nooverdue":return this.$el.addClass("nooverdue")}},t.prototype.highlightEvent=function(){return this.$el.addClass("highlight-event")},t.prototype.removeHighlightedEvent=function(){return this.$el.removeClass("highlight-event")},t.prototype.showOverdueSubmissionModal=function(){return this.model.trigger("showItem")},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=r},{"../../../models/shared-model":85,backbone:318,"backbone.stickit":317,underscore:445}],127:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,s=e("../../models/user-model"),i=e("../../models/shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.el="#eligibility-careers",t.prototype.template=function(){return a.template($("#blocker-message-template").html())},t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_CAREER_BLOCKER,this.checkEligibility),window.addEventListener("message",this.typeformSubmitHandler,!1),this.render()},t.prototype.render=function(){return this.$el.html(this.template()()),this.$el},t.prototype.typeformSubmitHandler=function(e){if("form-submit"===e.data.type)return this.$(".non-eligibility-container").addClass("hide"),window.location.href.indexOf("/v/settings")>=0?n.trigger(n.E.ACCOUNT_SETTINGS_SHOW):$(".student-container").removeClass("hide")},t.prototype.validation=function(){var e,t;return this.$(".non-eligibility-container").removeClass("hide"),n.trigger(n.E.ACCOUNT_SETTINGS_HIDE),$(".student-container").addClass("hide"),t=n.C.CAREER_TYPEFORM_PATH()+"?email="+s.get("email")+"&java_id="+s.get("id"),$("#typeform-widget").attr("src",t),e={category:"blocker",pageUrl:window.location.href},n.T.MIXPANEL_TRACK("view_blocker",e)},t.prototype.checkEligibility=function(){var e,t,o;return o=n.C.CAREER_PATH()+"/v1/user/profile?display_type=ELIGIBILITY",t=function(e){return function(t,o,n){if(t&&(s.set("career_eligible","false"!==t.career_eligible),"false"===t.career_eligible))return e.checkTypeFormResults()}}(this),e=function(e){var t;if(401!==(t=e.status)&&404!==t&&500!==t)return n.ERR.SHOW(e)},n.F.AJAX("GET",o,t,e)},t.prototype.checkTypeFormResults=function(){var e,t;return t=n.C.NPS_FORM_PATH()+"/v1/form/"+n.C.TYPEFORM_ID()+"/response/user/"+s.get("id"),e=function(e){return function(t,o,r){var i;return i=t.formFilled,i?(e.$(".non-eligibility-container").addClass("hide"),window.location.href.indexOf("/v/settings")>=0?n.trigger(n.E.ACCOUNT_SETTINGS_SHOW):$(".student-container").removeClass("hide")):e.validation()}}(this),n.F.AJAX("GET",t,e)},t}(n.View),t.exports=new r},{"../../models/shared-model":85,"../../models/user-model":87,backbone:318,underscore:445}],128:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g=function(e,t){function o(){this.constructor=e}for(var n in t)y.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},y={}.hasOwnProperty;n=e("backbone"),m=e("underscore"),n.$=$,f=e("./component-viewers/video-component-view"),a=e("./component-viewers/content-component-view"),h=e("./component-viewers/text-component-view"),c=e("./component-viewers/file-component-view"),d=e("./component-viewers/image-component-view"),p=e("./component-viewers/submission-component-view"),r=e("./component-viewers/breakpoint-component-view"),i=e("./component-viewers/code-component-view"),u=e("./component-viewers/external-component-view"),l=e("../helpers/feature-flags-helper"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.initialize=function(){return m.bindAll(this,"createComponentView"),this.listenTo(n,n.E.MAKE_COMPONENT,this.createComponentView)},t.prototype.getComponentTypeView=function(e){var t;switch(e.get("type")){case"video":t=f;break;case"quiz":t=e.get("subType")?i:a;break;case"text":l.isExternalComponentEnabled()&&("text"!==e.get("type")||"TAPCHIEF"!==e.get("subType")&&"TYPEFORM"!==e.get("subType")&&"CHART"!==e.get("subType")||(t=u)),"text"!==e.get("type")||e.get("subType")||(t=h);break;case"breakpoint":t=r;break;case"file":t=c;break;case"image":t=d;break;case"submission":t=p}return t},t.prototype.createComponentView=function(e){var t;if(t=this.getComponentTypeView(e))return new t({model:e}),e.trigger("show")},t}(n.View),t.exports=new s},{"../helpers/feature-flags-helper":103,"./component-viewers/breakpoint-component-view":132,"./component-viewers/code-component-view":133,"./component-viewers/content-component-view":135,"./component-viewers/external-component-view":136,"./component-viewers/file-component-view":137,"./component-viewers/image-component-view":138,"./component-viewers/submission-component-view":140,"./component-viewers/text-component-view":141,"./component-viewers/video-component-view":143,backbone:318,underscore:445}],129:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),u=e("underscore"),n.$=$,i=e("../../models/shared-model"),s=e("../helpers/snackbar"),a=e("../../models/user-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.template=function(){return u.template($("#component-feedback-item-view-template").html())},t.prototype.itemTemplate=function(){return u.template($("#component-child-template").html())},t.prototype.expandedListItem=function(){return u.template($("#component-expanded-list-item-template").html())},t.prototype.events={"keyup .write-feedback":"styleSendButton","click .send-feedback-button":"sendUserFeedback","click .first-child-container":"selectAndContractList","click .selected-component":"showComponentList","click .toggle-button":"toggleList","change .img-input":"showLoadedSnapshot","click .remove-upload":"removeLoadedSnapshot"},t.prototype.initialize=function(e){return this.title=e.title,this.list=e.list},t.prototype.render=function(e){return this.num=e,this.$el.html(this.template()()),this.setNameForComponents(),this.updateSelectedComponent(),this.createComponentsList(),this.list&&this.setCursorPointer(),this.styleSendButton(),this.$el},t.prototype.removeLoadedSnapshot=function(){return this.$(".img-input").val(""),this.$(".uploaded-image").text(""),this.$(".show-upload").addClass("hide"),this.$(".upload-reference").removeClass("hide")},t.prototype.isNotValidImage=function(e){var t,o;return t=["jpeg","jpg","png"].indexOf(e.type.split("/")[1])===-1,o=e.size>5e6,o||t},t.prototype.showLoadedSnapshot=function(e){if(e.currentTarget.files.length){if(!this.isNotValidImage(e.currentTarget.files[0]))return this.$(".uploaded-image").text(e.currentTarget.files[0].name),this.$(".show-upload").removeClass("hide"),this.$(".upload-reference").addClass("hide"),this.$(".snapshot-error-div").removeClass("errorTxt");this.$(".snapshot-error-div").addClass("errorTxt")}else;},t.prototype.updateSelectedComponent=function(){if(!this.list)return this.$(".selected-component").addClass("hide");if(this.list.length>1){if(this.$(".selected-component .component-title").text("Please Select"),this.num>=0)return this.$(".selected-component .component-title").text(this.list[this.num].get("feedbackName"))}else if(1===this.list.length)return this.$(".selected-component .component-title").text(this.list[0].get("feedbackName"))},t.prototype.createComponentsList=function(){if(this.list&&this.list.length>1)return u.each(this.list,function(e){return function(t){var o,n;return o=e.expandedListItem()({title:t.get("feedbackName")}),n=$(o).attr("id","component-feedback-"+t.get("id")),e.$(".component-feedback-item-list").append(n)}}(this))},t.prototype.showComponentList=function(){if(this.list&&this.list.length>1)return this.$(".component-feedback-item-list").removeClass("hide"),this.arrowUp()},t.prototype.toggleList=function(e){return e.preventDefault(),
e.stopPropagation(),this.$(".toggle-button").hasClass("expanded-list hide")?(this.arrowUp(),this.showComponentList()):(this.$(".contracted-list").removeClass("hide"),this.$(".expanded-list").addClass("hide"),this.hideComponentList())},t.prototype.arrowUp=function(){return this.$(".contracted-list").addClass("hide"),this.$(".expanded-list").removeClass("hide")},t.prototype.hideComponentList=function(){return this.$(".component-feedback-item-list").addClass("hide")},t.prototype.selectAndContractList=function(e){var t,o;return this.toggleList(e),t=e.currentTarget.id,o=t.match(/\d/g),o=o.join(""),this.currentComponent=u.find(this.list,function(e){return e.get("id")===Number(o)}),this.$(".selected-component .component-title").text(this.currentComponent.get("feedbackName")),this.hideComponentList(),this.styleSendButton()},t.prototype.setCursorPointer=function(){return this.list.length>1?(this.$(".selected-component").css("cursor","pointer"),this.$(".contracted-list").removeClass("hide")):(this.$(".selected-component").css("cursor","default"),this.$(".contracted-list").addClass("hide"))},t.prototype.setNameForComponents=function(){var e;if(this.list)return e=this.list[0].get("type"),u.each(this.list,function(t,o){var n;return"video"===e||"quiz"===e?(n=e.charAt(0).toUpperCase()+e.slice(1),t.set("feedbackName",n+"-"+(o+1))):"radio"===e||"checkbox"===e||"numeric"===e||"code"===e?t.set("feedbackName","Question-"+(o+1)):(n=t.get("name"),t.set("feedbackName",n))})},t.prototype.styleSendButton=function(){var e;return e=this.$(".write-feedback").val().trim(),"Please Select"!==this.$(".selected-component .component-title").html()&&e.length?this.$(".send-feedback-button").prop("disabled",!1):this.$(".send-feedback-button").prop("disabled",!0)},t.prototype.getTeacherPlatformUrl=function(){var e;return e=window.location.origin+"/course/"+i.get("courseId")+"/module/"+i.get("moduleId")+"/session/"+i.get("sessionId")+"/segment/"+i.get("segmentId")},t.prototype.getStudentPlatformUrl=function(){var e;return e=window.location.origin+"/v/course/"+i.get("courseId")+"/session/"+i.get("sessionId")+"/segment/"+i.get("segmentId")},t.prototype.sendUserFeedback=function(){var e,t,o,r,i;if(i=this.$(".write-feedback").val().trim(),i.length)return this.$(".send-feedback-button").addClass("loading"),r=function(e){return function(t){return e.$(".send-feedback-button").removeClass("loading"),e.$(".write-feedback").val(""),e.destroy(),n.trigger("component_feedback_view:hide"),s.showToast({message:t.message,dismiss:"x",success:!0})}}(this),e=function(e){return function(t){return e.$(".send-feedback-button").removeClass("loading"),s.showToast({message:"Could not report the error. Please try again!",dismiss:"x"})}}(this),o={uploaddata:this.getData(i),url:n.C.FORUM_PATH()+"/v1/content/feedback/",contentType:"application/json",dataType:"json",success:r,error:e},t=new FormData,t.append("file",this.$(".img-input")[0].files[0]),this.$(".img-input")[0].files.length>0?this.trackEvent("Submit","true"):this.trackEvent("Submit","false"),this.uploadFeedback(this.$(".img-input")[0].files.length,o,t)},t.prototype.uploadFeedback=function(e,t,o){return e>0?this.imageUpload(t,o):n.F.AJAX("POST",t.url,t.success,t.error,JSON.stringify(t.uploaddata),t.dataType,t.contentType)},t.prototype.imageUpload=function(e,t){var o,r,i;return r=function(t){var o;if(o=JSON.parse(t),o.success)return e.uploaddata.pictures=[o.data.url],n.F.AJAX("POST",e.url,e.success,e.error,JSON.stringify(e.uploaddata),e.dataType,e.contentType)},o=function(e){return n.ERR.SHOW(e)},i=n.C.MEDIA_PATH()+"/file/upload",n.F.UPLOAD_AJAX("POST",i,r,o,t)},t.prototype.getData=function(e){var t,o,r,s;return s={},this.$(".selected-component .component-title").text().length?(r=this.$(".selected-component .component-title").text(),o=this.list[0].get("quiz"),o instanceof n.Model&&"timed"===o.get("quizType")&&(r=o.get("title")+": "+r),s.title=r):s.title=this.title,s.description=e,t={session_id:i.get("sessionId"),segment_id:i.get("segmentId"),module_id:i.get("moduleId"),platform:navigator.platform},s.meta=t,s.student_url=this.getStudentPlatformUrl(),s.teacher_url=this.getTeacherPlatformUrl(),s},t.prototype.trackEvent=function(e,t){var o;return n.T.MIXPANEL_TRACK("Segment Feedback Submitted",{"Segment Id":null!=(o=i.get("segmentId"))?o.toString():void 0,Text:this.$(".write-feedback").val(),Id:this.currentComponent?this.currentComponent.get("id"):null,Type:this.title,Event:e,"Has Description":!(a.get("id")%2),"Report Mistake Image":t})},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=r},{"../../models/shared-model":85,"../../models/user-model":87,"../helpers/snackbar":109,backbone:318,underscore:445}],130:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,a=e("../../models/shared-model"),u=e("../../models/user-model"),s=e("../../collections/components"),r=e("./component-feedback-item"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.reportErrorTypes={technicalError:["Technical Error","Let us know if some feature isnt working on platform Eg: Video player not loading, cant proceed further, etc."],overallContentError:["Overall Content Error","If any part of content on this page is incorrect (Ex. Spelling mistake, concept explained wrongly etc)"],submissionContentError:["Submission Content Error","Any error related to submission Eg. Any mistake or confusion related to submission project"],quizContentError:["Quiz Content Error","Quiz conceptual mistakes, Incorrectly marked answers, Insufficient information etc."],videoContentError:["Video Content Error","Video Spelling mistakes, Verbal errors, Therotically incorrect concepts etc."]},t.prototype.el="#component-feedback",t.prototype.events={"click .component-list-item-container":"initializeItemView","click .feedback-back":"back","click .close-list":"hide"},t.prototype.itemTemplate=function(){return l.template($("#component-feedback-item-template").html())},t.prototype.initialize=function(){return this.listenTo(n,"component_feedback_view:show",this.show),this.listenTo(n,"component_feedback_view:hide",this.hide)},t.prototype.show=function(e,t,o){return"timedSummaryView"===e?(this.questionModels=t,this.selectedNum=o,this.changeHeaderText("Timed Quiz Error"),this.showComponentListBody(),this.$el.removeClass("hide"),this.initializeItemView(null,e)):(this.storeComponents(),this.addListItems(),this.changeHeaderText("Report error on this page"),this.$el.removeClass("hide"),u.get("id")%2?void 0:this.$(".component-title-details").removeClass("hide"))},t.prototype.showComponentListBody=function(){return this.$(".component-list-body").removeClass("hide"),this.$(".feedback-back").addClass("hide")},t.prototype.hideComponentListBody=function(e){if(this.$(".component-list-body").addClass("hide"),"timedSummaryView"!==e)return this.$(".feedback-back").removeClass("hide")},t.prototype.storeComponents=function(){return this.submissionComponent=[],this.quizComponent=[],this.videoComponent=[],this.titles=[],this.titleInShort=[],this.titles.push(this.reportErrorTypes.technicalError),this.ids=["overall","submission","quiz","video","technical"],l.each(s.models,function(e){return function(t){return e.separateComponents(t)}}(this))},t.prototype.addListItems=function(){return this.showComponentListBody(),this.$(".component-list-body").empty(),this.index=l.each(this.titles,function(e){return function(t){var o,n,r;return o=l.find(e.ids,function(e){return t[0].toLowerCase().indexOf(e)>-1}),r=e.itemTemplate()({title:t[0],titleDescription:t[1]}),n=$(r).attr("id",o+"-comp"),e.$(".component-list-body").append(n)}}(this))},t.prototype.separateComponents=function(e){var t,o;switch(t=[],e.get("type")){case"text":o=this.reportErrorTypes.overallContentError;break;case"submission":t=this.submissionComponent,o=this.reportErrorTypes.submissionContentError;break;case"quiz":t=this.quizComponent,o=this.reportErrorTypes.quizContentError;break;case"video":t=this.videoComponent,o=this.reportErrorTypes.videoContentError;break;default:return}if(null!=t&&t.push(e),this.titleInShort=this.titles.map(function(e){return e[0]}),this.titleInShort.indexOf(o[0])===-1)return this.titles.push(o)},t.prototype.getTypeOfComponentView=function(e){var t;switch(t={},e){case"overall-comp":t.title=this.reportErrorTypes.overallContentError[0];break;case"submission-comp":t.title=this.reportErrorTypes.submissionContentError[0],t.list=this.submissionComponent;break;case"quiz-comp":t.title=this.reportErrorTypes.quizContentError[0],t.list=this.quizComponent;break;case"video-comp":t.title=this.reportErrorTypes.videoContentError[0],t.list=this.videoComponent;break;case"technical-comp":t.title=this.reportErrorTypes.technicalError[0]}return t},t.prototype.changeHeaderText=function(e){return this.$(".title").text(e)},t.prototype.initializeItemView=function(e,t){var o,n;return"timedSummaryView"===t?o={title:"Timed Quiz Error",list:this.questionModels}:(n=$(e.currentTarget).attr("id"),o=this.getTypeOfComponentView(n)),this.trackEvent("option",o.title),this.componentFeedbackItemView=new r({title:o.title,list:o.list}),this.changeHeaderText(o.title),this.hideComponentListBody(t),this.$("#component-feedback-item").append(this.componentFeedbackItemView.render(this.selectedNum))},t.prototype.back=function(){var e;return this.componentFeedbackItemView.destroy(),e="Report error on this page",this.changeHeaderText(e),this.showComponentListBody()},t.prototype.hide=function(){var e;return null!=(e=this.componentFeedbackItemView)&&e.destroy(),this.$el.addClass("hide")},t.prototype.trackEvent=function(e,t){var o;return n.T.MIXPANEL_TRACK("Segment Feedback Option",{"Segment Id":null!=(o=a.get("sessionId"))?o.toString():void 0,Type:t,"Has Description":!(u.get("id")%2)})},t}(n.View),t.exports=new i},{"../../collections/components":8,"../../models/shared-model":85,"../../models/user-model":87,"./component-feedback-item":129,backbone:318,underscore:445}],131:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f=function(e,t){function o(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},m={}.hasOwnProperty;r=e("backbone"),h=e("underscore"),r.$=$,s=e("../../collections/components"),p=e("../../models/shared-model"),u=e("../helpers/helper-methods"),d=e("../student-router"),l=e("../../collections/modules"),a=e("../../models/feedback-model"),c=e("../../models/nps-rating-model"),e("./component-feedback-list"),e("./component-factory"),n=e("../../assistant-constants"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.el="#components-viewer",t.prototype.events={"click .back":"showSegmentsPage","click .module-number":"showSessionsPage","click .session-number":"showSegmentsPage","click .next-div":"showNextSegment","click .previous":"showPreviousSegment","click .report-a-problem":"showFeedbackComponents"},t.prototype.initialize=function(){return h.bindAll(this,"addAll","addOne","showView","hide","showSessionsPage","activateLockedComponents","makeProgressCallsUntilNextStop","determineLockedComponents","trackSessionCompletion"),this.listenTo(r,r.E.SHOW_COMPONENTS_VIEW,this.showView),this.listenTo(r,r.E.HIDE_COMPONENTS_VIEW,this.hide),this.listenTo(r,r.E.ENABLE_SEGMENT_NEXT,this.enableNext),this.listenTo(r,r.E.TRACK_SESSION_COMPLETION,this.trackSessionCompletion),this.listenTo(r,r.E.ACTIVATE_LOCKED_COMPONENTS,this.determineLockedComponents),this.listenTo(s,"reset",this.addAll),this.listenTo(s,"add",this.addOne),this.progressCallsComponents=["video","quiz","submission"],this.slowInternetReported=!1,t.__super__.initialize.call(this)},t.prototype.showView=function(e){var t,o;return this.enabledInThisSession=!1,this.$(".next").tooltip({html:!0,title:'Finish this page to move ahead. Check for  <span class="component-incomplete upgrad-icon-segment_pending"></span>',placement:"top"}),this.toggleNextPrevious(e),t=s.models[0],p.get("sessionId")||p.set("sessionId",t.get("sessionId")),p.get("moduleId")||p.set("moduleId",t.get("moduleId")),p.get("courseId")||p.set("courseId",t.get("courseId")),this.subViews={},this.$(".next,.previous").removeClass("loading"),this.checkForFirstSessionView(e,t),p.get("componentId")?p.set("componentId",null):window.scrollTo(0,0),o=new Date,r.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Segment Viewed":o.toISOString()}),this.toggleReportProblemVisibility(),this.$el.removeClass("hide")},t.prototype.checkForFirstSessionView=function(e,t){var o;return o=e.currentSegment.get("progress").userProgress?0:1,r.T.MIXPANEL_TRACK("Segment Viewed",{type:o,"Segment Id":t.get("segmentId").toString()})},t.prototype.hideReportError=function(){return this.$(".report-a-problem").addClass("hide")},t.prototype.unhideReportError=function(){return this.$(".report-a-problem").removeClass("hide")},t.prototype.toggleReportProblemVisibility=function(){return u.shouldShowReportProblem()?this.unhideReportError():this.hideReportError()},t.prototype.toggleNextPrevious=function(e){var t,o;return this.segments=e.segments,this.segment=e.currentSegment,o=this.segments.indexOf(this.segment),0===o?(t=this.segments.models[o+1],t&&this.$(".next-segment-name").text(t.get("name"))):o>0&&this.segments.last()!==this.segment&&(this.$(".previous-segment-name").text(this.segments.models[o-1].get("name")),t=this.segments.models[o+1],t&&this.$(".next-segment-name").text(t.get("name"))),this.segments.last()===this.segment?(t=null,this.$(".next-text").text("Finish Session"),this.$(".next-segment-name").text(this.segments.last().get("name")),this.segments.models[o-1]&&this.$(".previous-segment-name").text(this.segments.models[o-1].get("name"))):this.$(".next-text").html("Next"),this.segments.first()===this.segment?this.$(".previous").addClass("hide"):this.$(".previous").removeClass("hide"),e.activateNextButton||100===e.currentSegment.get("progress").userProgress?(this.$(".next-div").removeClass("disabled"),$(".next").tooltip("destroy")):t&&!t.get("progress").isLocked?(this.$(".next-div").removeClass("disabled"),$(".next").tooltip("destroy")):this.$(".next-div").addClass("disabled")},t.prototype.disableNext=function(){return this.$(".next-div").addClass("disabled")},t.prototype.enableNext=function(){var e,t;if(this.segment&&(this.enabledInThisSession=this.$(".next-div").hasClass("disabled"),this.$(".next-div").removeClass("disabled"),$(".next").tooltip("destroy"),this.segments&&(e=this.segments.models[this.segments.indexOf(this.segment)+1]),t=h.all(h.map(s.pluck("isLocked"),function(e){return!e})),t&&this.segment.trigger("completed"),e?e.trigger("activate"):this.$(".next-text").html("Finish Session"),this.enabledInThisSession))return r.T.MIXPANEL_TRACK("Segment Finished",{type:1,"Segment Id":this.segment.get("id").toString(),"Segment Name":this.segment.get("name")})},t.prototype.trackSessionCompletion=function(){if(this.segments.last()===this.segment)return r.T.MIXPANEL_TRACK("Session Finished",{"Session Id":this.segment.get("sessionId").toString(),"Session Name":this.segment.get("sessionName")})},t.prototype.showSegment=function(e){return p.set("segmentId",e.id),r.trigger(r.E.SHOW_SEGMENTS_VIEW)},t.prototype.showNextSegment=function(){var e,t,o;return this.$(".next-div").hasClass("disabled")?void(p.get("courseConfiguration").assistant&&(e=[{key:"scroll-to-element"}],bot.send(n.strings.COMPONENT_NOT_COMPLETE,e))):(this.enabledInThisSession||r.T.MIXPANEL_TRACK("Segment Finished",{type:0,"Segment Id":this.segment.get("id").toString(),"Segment Name":this.segment.get("name")}),r.trigger("component_feedback_view:hide"),"Next"===this.$(".next-text").text()?(o=this.segments.models[this.segments.indexOf(this.segment)+1],this.showSegment(o)):(t=new a,t.fetch({url:r.C.MEDIA_PATH()+("/v2/sessions/feedback/"+p.get("sessionId")),success:function(e){return function(e,t,o){return r.trigger(r.E.SHOW_FEEDBACK,e.get("feedbackComplete"))}}(this),error:function(e,t){return r.ERR.SHOW(t),r.F.HIDE_LOADER()}})),r.T.MIXPANEL_TRACK("Next Segment Click",{"Segment Id":this.segment.get("id").toString(),"Segment Name":this.segment.get("name")}))},t.prototype.showPreviousSegment=function(){var e;return e=this.segments.models[this.segments.indexOf(this.segment)-1],this.showSegment(e),r.T.MIXPANEL_TRACK("Previous Segment Click",{"Segment Id":this.segment.get("id").toString(),"Segment Name":this.segment.get("name")})},t.prototype.addAll=function(){return this.$(".next,.previous").removeClass("loading"),s.length?(this.$(".segment-heading-text").text(s.models[0].get("segmentName")),s.each(this.addOne),this.$(".text-container strong").parent().css("margin-bottom",0),p.get("redirectedToComponentId")?this.performAfterAdd():void 0):r.trigger(r.E.VIEW_NOT_FOUND)},t.prototype.performAfterAdd=function(){var e,t,o;return t=s.get(p.get("redirectedToComponentId")),t?(e=this.$("#component-"+t.cid),this.scrollToComponent(e)):(o=h.map(s.models,function(e){return e.get("id")}),r.T.MIXPANEL_TRACK("Redirected_Component_Not_Found",{redirected_to_component_id:p.get("redirectedToComponentId"),segment_components:o.toString(),session_id:this.segment.get("sessionId").toString(),segment_name:this.segment.get("name")})),p.unset("redirectedToComponentId")},t.prototype.scrollToComponent=function(e){return r.F.SCROLL_TO_ELEMENT(e,-100,null,1e3),r.F.HIGHLIGHT_TEMPORARILY(e)},t.prototype.determineLockedComponents=function(){var e,t;if(p.set("firstBlockedModel",null),e=s.findWhere(function(e){return function(e){if(e.get("isLocked")&&"submission"!==e.get("type")&&!e.get("isOptional"))return!0}}(this)),s.each(function(e){if("video"===e.get("type"))return e.trigger("computeVideoStatus")}),e&&p.set("firstBlockedModel",e),this.makeProgressCallsUntilNextStop(),t=s.findWhere(function(e){return function(e){return"breakpoint"===e.get("type")&&s.indexOf(e)>s.indexOf(p.get("currentBlockedModel"))}}(this)))return p.set("breakPointIndex",s.indexOf(t))},t.prototype.addOne=function(e){return r.trigger(r.E.MAKE_COMPONENT,e)},t.prototype.makeProgressCallsUntilNextStop=function(){var e,t;return e=p.get("firstBlockedModel"),e?(t=s.filter(function(t){return function(t){return s.indexOf(t)>=s.indexOf(e)}}(this)),t.every(function(e){return function(t){return h.contains(e.progressCallsComponents,t.get("type"))?!("submission"!==t.get("type")&&!t.get("isOptional"))||(p.set("currentBlockedModel",t),!1):(t.set("percentComplete",100),!0)}}(this))):this.enableNext()},t.prototype.activateLockedComponents=function(e){var t;if(t=s.at(s.indexOf(e)+1))return p.set("breakPointIndex",s.indexOf(e)),s.models.every(function(e){return function(e){return!(s.indexOf(e)>p.get("breakPointIndex"))||"breakpoint"!==e.get("type")&&e.trigger("remove-locked")}}(this))},t.prototype.hide=function(){return this.disableNext(),this.destroyChildren(),r.trigger(r.E.RESET_EMBED_lOAD),this.$el.addClass("hide")},t.prototype.destroyChildren=function(){return s.remove(s.models)},t.prototype.showSessionsPage=function(){return this.hide(),d.navigate("/v/course/"+p.get("courseId")+"/module/"+p.get("moduleId"),!0)},t.prototype.showFeedbackComponents=function(){if(this.trackEvent("Click"),$("#component-feedback").is(":hidden"))return r.trigger("component_feedback_view:show")},t.prototype.trackEvent=function(e){return r.T.MIXPANEL_TRACK("Segment Feedback Clicked",{"Segment Id":p.get("sessionId").toString(),Event:e})},t}(r.View),t.exports=new i},{"../../assistant-constants":1,"../../collections/components":8,"../../collections/modules":26,"../../models/feedback-model":66,"../../models/nps-rating-model":74,"../../models/shared-model":85,"../helpers/helper-methods":104,"../student-router":117,"./component-factory":128,"./component-feedback-list":130,backbone:318,underscore:445}],132:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),s=e("underscore"),n.$=$,i=e("./component-base-view"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.renderMe=function(){if(this.model.get("makeProgressCall"))return this.makeProgressCall(!0)},t.prototype.removeMe=function(){},t.prototype.removeLocked=function(){},t.prototype.addLocked=function(){},t}(i),t.exports=r},{"./component-base-view":134,backbone:318,underscore:445}],133:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,s=e("./media-component-viewer-mixin"),i=e("./component-base-view"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.events={},t.prototype.bindings={".component-heading-name":"name"},t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.template=function(){return a.template($("#code-viewer-template").html())},t.prototype.renderMe=function(){return t.__super__.renderMe.call(this),this.initCollections(!0,function(e){return function(){if((0===e.model.get("quizzes").length||0===e.model.get("quizzes").models[0].get("questionSessions").length)&&"TIMED"!==e.model.get("subType"))return e.stopListening(),e.$el.remove()}}(this)),this.stickit()},t.prototype.removeMe=function(){return this.model.get("quizzes").each(function(e){return e.trigger("remove")}),t.__super__.removeMe.call(this)},t}(i),a.extend(r.prototype,s),t.exports=r},{"./component-base-view":134,"./media-component-viewer-mixin":139,backbone:318,underscore:445}],134:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f=function(e,t){function o(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},m={}.hasOwnProperty;n=e("backbone"),h=e("underscore"),d=e("../../../models/shared-model"),a=e("../../../collections/components"),r=e("../../helpers/base-view"),s=e("../../../models/component-progress-model"),p=e("../../../models/user-model"),c=e("../../../collections/segments"),l=e("../../../models/current-component"),u=e("../../../models/config-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.events={"click .delete":"destroy","click .cancel":"cancel","click .edit":"edit","click .placeholder-part":"selectMe"},t.prototype.className="component-item",t.prototype.retry=0,t.prototype.initialize=function(){return h.bindAll(this,"renderMe","destroy","removeMe","addLocked","removeLocked","makeProgressCall","checkSegmentStatus","onSuccessProgressCallback"),this.listenTo(this.model,"show",this.renderMe),this.listenTo(this.model,"remove",this.removeMe),this.listenTo(this.model,"destroy",this.removeMe),this.listenTo(this.model,"change:percentComplete",this.makeProgressCall),this.listenTo(this.model,"remove-locked",this.removeLocked),this.listenTo(this.model,"add-locked",this.addLocked),this.listenTo(n,n.E.REMOVE_BUILDER_DETAIL_VIEWS,this.removeMe),this.listenTo(n,n.E.CHECK_SEGMENT_STATUS,this.checkSegmentStatus),this.listenTo(n,n.E.PROGRESS_CALL_SUCCESS,this.onSuccessProgressCallback),this.subViews={},t.__super__.initialize.call(this)},t.prototype.renderMe=function(e){return this.$el.html(this.template()(this.model.toJSON())),this.$el[0].id="component-"+this.model.cid,"text"!==this.model.get("type")&&this.$el.append('<div id="component-loader"><img src="/ajax_loader_gray_64.gif"></div>'),$(".component-list-items").append(this.$el),this.model.get("lockedOnUi")?this.addLocked():this.removeLocked()},t.prototype.makeProgressCall=function(){var e,t,o,r;if(!p.isTeacher()&&this.model.get("isLocked")&&u.checkCoursePermission("progress","update")&&!this.progressInFlight)return this.progressInFlight=!0,r=new s,o=this.model.get("percentComplete"),e=100===o,t={completed:e,componentId:this.model.get("id"),percentComplete:o},r.save(t,{type:"PUT",success:function(e){return function(t){return e.retry=0,e.progressInFlight=!1,e.onSuccessProgressCallback(t,e.model)}}(this),error:function(e){return function(o,i){e.progressInFlight=!1,e.retry+=1,e.retry<=5&&navigator.onLine?(setTimeout(e.makeProgressCall,1e3*(1<<e.retry)),e.model.set("isLocked",!0)):(n.ERR.SHOW(i),e.retry=0,n.trigger(n.E.ADD_API_TO_CACHE,t,r.url(),"PUT"),navigator.onLine&&n.trigger(n.E.START_RETRY_MECHANISM))}}(this)})},t.prototype.onSuccessProgressCallback=function(e,t){var o;if(100===parseInt(e.get("percentComplete"))&&t.set("isLocked",!1),this.checkSegmentStatus(e.get("isSegmentComplete")),o=a.findWhere(function(e){return function(e){if(a.indexOf(e)>a.indexOf(t))return!0}}(this)))return d.set("firstBlockedModel",o),n.trigger(n.E.ACTIVATE_LOCKED_COMPONENTS,!0)},t.prototype.checkSegmentStatus=function(e){if(e)return n.trigger(n.E.ENABLE_SEGMENT_NEXT),n.trigger(n.E.TRACK_SESSION_COMPLETION)},t.prototype.addLocked=function(){},t.prototype.removeLocked=function(){},t.prototype.removeMe=function(){if(this.stopListening(),this.$el.remove(),this.frameInterval)return clearInterval(this.frameInterval)},t.prototype.destroy=function(e){return e.stopPropagation()},t}(r),t.exports=i},{"../../../collections/components":8,"../../../collections/segments":32,"../../../models/component-progress-model":53,"../../../models/config-model":54,"../../../models/current-component":57,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/base-view":99,backbone:318,underscore:445}],135:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,s=e("./media-component-viewer-mixin"),r=e("./component-base-view"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.events={},t.prototype.bindings={".component-heading-name":"name"},t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.template=function(){return a.template($("#content-viewer-template").html())},t.prototype.renderMe=function(){return t.__super__.renderMe.call(this),this.initCollections(!0,function(e){return function(){if(0===e.model.get("quizzes").length||0===e.model.get("quizzes").models[0].get("questionSessions").length)return e.stopListening(),e.$el.remove()}}(this)),this.stickit()},t.prototype.removeMe=function(){return this.model.get("quizzes").each(function(e){return e.trigger("remove")}),t.__super__.removeMe.call(this)},t}(r),a.extend(i.prototype,s),t.exports=i},{"./component-base-view":134,"./media-component-viewer-mixin":139,backbone:318,underscore:445}],136:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),u=e("underscore"),e("backbone.stickit"),s=e("../../../models/shared-model"),r=e("./component-base-view"),a=e("../../../models/user-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.className="external-component component-item",t.prototype.events=function(){return u.extend({},r.prototype.events,{"click .tapchief-button":"getTapchiefToken"})},t.prototype.template=function(){return u.template($("#external-component-viewer-template").html())},t.prototype.initialize=function(){return u.bindAll(this,"renderMe"),t.__super__.initialize.call(this)},t.prototype.renderMe=function(){return t.__super__.renderMe.call(this),this.appendTemplatesForExternalComponent(),this.$("#component-loader").remove(),this.$(".external-component-container").removeClass("hide")},t.prototype.appendTemplatesForExternalComponent=function(){var e;return"CHART"===this.model.get("subType")?e='<p><iframe class="upgrad-interactive-chart" src="'+this.model.get("text").html+'" frameborder="0" width="800" height="650"></iframe></p>':"TYPEFORM"===this.model.get("subType")?e='<p><iframe id="my_typeform" src="'+this.model.get("text").html+'" width="800" height="500px" frameborder="0"></iframe></p>':"TAPCHIEF"===this.model.get("subType")&&(e="<button class='main-button main-button-inline main-button-green tapchief-button'><span>Go To Mentorship Platform</span><span class=\"material-icons\">arrow_forward</span></button>"),this.$(".external-component-thumbnail").append(e)},t.prototype.getTapchiefToken=function(){var e,t,o,r,i;return e={first_name:a.get("name"),email:a.get("email"),category:s.get("courseId"),phone_number:a.get("phoneNumber")},i=window.open(""),o=function(e){return function(e){return i.location=s.get("tapchiefUrl")+("/wl/user-token-signup/?token="+e.token)}}(this),t=function(e){return function(){return n.ERR.SHOW("Mentorship platform is currently unavailable")}}(this),r="/v/get-tapchief-token",n.F.AJAX("POST",r,o,t,JSON.stringify(e),"json","application/json")},t}(r),t.exports=i},{"../../../models/shared-model":85,"../../../models/user-model":87,"./component-base-view":134,backbone:318,"backbone.stickit":317,underscore:445}],137:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),e("backbone.stickit"),s=e("../../../models/shared-model"),r=e("./component-base-view"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.className="file-component component-item",t.prototype.events=function(){return a.extend({},t.prototype.events,{click:"trackFileDownload"})},t.prototype.bindings={".component-name":"name",".file-name":{observe:"file",onGet:function(){var e;return null!=(e=this.model.get("file"))?e.fileName:void 0}},".file-thumbnail-link":{attributes:[{name:"href",observe:"file",onGet:function(){var e;return""+(null!=(e=this.model.get("file"))?e.URL:void 0)}},{name:"download",observe:"file",onGet:function(){var e;return""+(null!=(e=this.model.get("file"))?e.fileName:void 0)}},{name:"title",observe:"file",onGet:function(){var e;return""+(null!=(e=this.model.get("file"))?e.fileName:void 0)}}]}},t.prototype.template=function(){return a.template($("#file-viewer-template").html())},t.prototype.initialize=function(){return a.bindAll(this,"renderMe","identifyFileType","trackFileDownload"),t.__super__.initialize.call(this)},t.prototype.renderMe=function(){return t.__super__.renderMe.call(this),this.stickit(),this.identifyFileType(),this.$("#component-loader").remove(),this.$(".file-container").removeClass("hide")},t.prototype.trackFileDownload=function(){return n.T.MIXPANEL_TRACK("File Downloaded",{"Component Id":this.model.get("id"),"File name":this.model.get("name"),"Segment id":this.model.get("segmentId")})},t.prototype.addClassBasedOnFiletype=function(){var e,t,o;return e=null!=(o=this.model.get("file"))?o.fileName.substr(-3):void 0,t=this.identifyFileType(e),this.$el.addClass(t)},t.prototype.identifyFileType=function(e){var t;switch(e){case"pdf":t="pdf-file";break;case"ppt":t="ppt-file";break;case"doc":case"ocx":t="doc-file";break;case"png":case"jpg":case"peg":case"gif":t="image-file";break;case"mp4":case"flv":t="video-file"}return t},t}(r),t.exports=i},{"../../../models/shared-model":85,"./component-base-view":134,backbone:318,"backbone.stickit":317,underscore:445}],138:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,
e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),e("backbone.stickit"),s=e("../../../models/shared-model"),r=e("./component-base-view"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.className="image-component component-item",t.prototype.bindings={".component-heading-name":"name",".image-thumbnail":{attributes:[{name:"src",observe:"image",onGet:function(){var e;return""+(null!=(e=this.model.get("image"))?e.URL:void 0)}}]}},t.prototype.template=function(){return a.template($("#image-viewer-template").html())},t.prototype.initialize=function(){return a.bindAll(this,"renderMe"),t.__super__.initialize.call(this)},t.prototype.renderMe=function(){return t.__super__.renderMe.call(this),this.stickit(),this.$("#component-loader").remove(),this.$(".image-container").removeClass("hide")},t}(r),t.exports=i},{"../../../models/shared-model":85,"./component-base-view":134,backbone:318,"backbone.stickit":317,underscore:445}],139:[function(e,t,o){var n,r,i,s,a,u;n=e("backbone"),u=e("underscore"),i=e("../../../collections/quizzes"),s=e("../quiz-item-view"),a=e("../timed-base-screen-view"),r={initCollections:function(e,t){var o;return this.model.get("quizzes")?this.setupQuizzes(e):(o=this.getQuizIds(),this.model.set("quizzes",new i),o?(this.$(".edit-delete-block").addClass("hide"),this.model.get("quizzes").fetch({data:$.param({ids:o,get_definition:!0}),success:function(o){return function(n){if(o.$(".edit-delete-block").removeClass("hide"),o.setUpTimestamp(),o.setupQuizzes(e),t)return t()}}(this),error:function(e){return function(t,o){return e.showError(o)}}(this)})):void 0)},getQuizIds:function(){var e;return"video"===this.model.get("type")?(e=this.model.get("videoQuizPoints").map(function(e){return e.quiz.id}),u.compact(e).toString()):this.model.get("quiz")?this.model.get("quiz").id:void 0},setUpTimestamp:function(){return u.each(this.model.get("videoQuizPoints"),function(e){return function(t){var o;if(o=u.find(e.model.get("quizzes").models,function(e){return e.get("quizId")===t.quiz.id}))return o.set("timeStamp",t.timeStamp),o.set("originalTimeStamp",t.timeStamp)}}(this))},setupQuizzes:function(e){var t;if(this.addQuizViews(),e&&(t=this.model.get("quizzes").models[0]))return this.showQuiz(t)},findQuiz:function(e){var t,o,n,r,i;if(this.model)return e?(o=u.find(this.model.get("videoQuizPoints"),function(t){return t.timeStamp===e}),t=null!=(n=this.model.get("quizzes"))&&null!=(r=n.where({quizId:o.quiz.id}))?r[0]:void 0):t=null!=(i=this.model.get("quizzes"))?i.models[0]:void 0},showQuiz:function(e){if(e&&(e.trigger("show"),!e.isNew()))return e.trigger("showQuizDetails")},addQuizViews:function(){return this.model.get("quizzes").each(function(e){return function(t){var o,n;return"TIMED"===e.model.get("subType")?(n=new a({model:t,componentModel:e.model}),e.$(".quiz-viewer-part").append(n.render()),e.$("#component-loader").remove()):t.get("questionSessions").length?(o=new s({model:t,componentModel:e.model}),e.$(".quiz-viewer-part").append(o.render()),t.trigger("addViewerQuestions"),e.$("#component-loader").remove(),e.subViews["quiz-"+t.cid]=o):void 0}}(this))},showError:function(e){return $(".create-video-component").addClass("hide"),$(".create-content-component").addClass("hide"),n.ERR.SHOW(e)}},t.exports=r},{"../../../collections/quizzes":30,"../quiz-item-view":255,"../timed-base-screen-view":268,backbone:318,underscore:445}],140:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,i=e("./media-component-viewer-mixin"),r=e("./content-component-view"),a=e("../../../models/shared-model"),s=e("../../../collections/sessions"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.template=function(){return l.template($("#submission-viewer-template").html())},t.prototype.renderMe=function(){return t.__super__.renderMe.call(this)},t}(r),t.exports=u},{"../../../collections/sessions":33,"../../../models/shared-model":85,"./content-component-view":135,"./media-component-viewer-mixin":139,backbone:318,underscore:445}],141:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,r=e("./component-base-view"),s=e("../../../models/user-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.className="text-component-item",t.prototype.initialize=function(){return a.bindAll(this,"renderMe"),t.__super__.initialize.call(this)},t.prototype.events={"click .collapsible-item-heading":"toggleFaqState"},t.prototype.toggleFaqState=function(e){var t,o;return t=this.$(e.currentTarget).next(),o=t.is(":hidden"),n.T.MIXPANEL_TRACK("faq_click",this.getFaqObject(this.$(e.currentTarget),o)),t.is(":hidden")?(this.$(e.currentTarget).find(".collapsible-item-title-link-icon").addClass("rotate"),t.hasClass("hide")?t.removeClass("hide"):t.slideToggle()):(this.$(e.currentTarget).find(".collapsible-item-title-link-icon").removeClass("rotate"),t.slideToggle())},t.prototype.template=function(){return a.template($("#text-viewer-template").html())},t.prototype.getFaqObject=function(e,t){var o;return o={SegmentId:this.model.get("segmentId"),SegmentName:this.model.get("segmentName").toString(),FaqGroupID:e.parent().parent()[0].getAttribute("id"),FaqID:e.parent()[0].getAttribute("id"),FaqOpen:!t,FaqTitle:e.find(".collapsible-item-title-link")[0].innerText,FaqIndex:e.parent().parent().children().index(e.parent())}},t.prototype.renderMe=function(){return t.__super__.renderMe.call(this),this.$(".text-container").append(this.model.get("text").html),this.$(".text-container").removeClass("hide"),n.trigger(n.E.MATHJAX_TYPESET_DOM)},t}(r),t.exports=i},{"../../../models/user-model":87,"./component-base-view":134,backbone:318,underscore:445}],142:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=[].slice;r=e("backbone"),d=e("underscore"),r.$=$,l=e("../../../models/user-model"),u=e("../../../models/shared-model"),a=e("../../../collections/quizzes"),s=e("../cue-point-item-view"),i=e("../../../models/config-model"),l=e("../../../models/user-model"),n=e("../../../assistant-constants"),c={playerId:function(){return"default"},addListenersForVideoAndQuiz:function(){var e;return this.listenTo(this.model,"store_quiz_seen",this.storeQuizSeen),this.listenTo(this.model,"play",this.playVideo),this.listenTo(this.model,"removeCuePoint",this.removeCuePoint),this.listenTo(this.model,"addCuePoint",this.addCuePoint),this.listenTo(this.model,"computeVideoStatus",this.computeVideoStatus),this.listenTo(r,r.E.NETWORK_ONLINE,this.removeVideoError),this.quizSeen=[],this.subViews={},this.seeking=!1,this.progressInFlight=!1,this.getVideoStatus(),e=u.get("startupIndia")?25e3:1e4,setInterval(function(e){return function(){if(e.playerTime&&!e.seeking&&l.isStudent())return e.setMaxPlayPosition(e.playerTime)}}(this),e)},playPausePlayer:function(){return this.player.paused()?this.model.get("activatedQuiz")?void 0:this.player.play():this.player.pause()},setVideoId:function(){var e;return e=u.get("vidNum"),e=e?e+1:1,u.set("vidNum",e),this.videoAreaId="video-content-"+this.model.cid+"-vid"+u.get("vidNum")},showError:function(){return $(".create-video-component").addClass("hide"),$(".reload-message").removeClass("hide")},setMaxPlayPosition:function(e){var t,o,n;if(this.getMaxPlayPosition()<=e&&(n=r.C.MEDIA_PATH()+"/v2/progress/video/status",o=function(t){return function(o){return t.lastPlayedTime=e}}(this),this.lastPlayedTime||(this.lastPlayedTime=0),e>this.lastPlayedTime))return t={seekTime:e.toFixed(1),componentId:this.model.get("id")},r.F.AJAX("PUT",n,o,null,JSON.stringify(t))},changeVideoResolution:function(e){var t,o,n,r,i,s;switch(r=this.player.playbackRate(),n=$(e.currentTarget).text(),t=this.player.mediainfo.sources,n){case"high":s=1024;break;case"medium":s=640;break;case"low":s=480;break;case"auto":s=0;break;default:s=480}return this.$(".vjs-quality-value").text(n),i=s?d.findWhere(t,{width:s}):t[0],o=this.player.currentTime(),this.player.src(i),this.player.ready(function(e){return function(){return e.player.currentTime(o),e.player.playbackRate(r),e.player.play()}}(this))},changePlaybackRate:function(e){var t,o,n;switch(n=$(e.currentTarget).text()){case"1.5x":o=1.5;break;case"1.25x":o=1.25;break;case"0.5x":o=.5;break;default:o=1}return this.$(".vjs-playback-rate-value").text(n),this.player.tech_.ytPlayer.setPlaybackRate(o),t=this.getMixpanelObject(),t["Playback Rate"]=o,r.T.MIXPANEL_TRACK("Playback Rate Change",t)},getMaxPlayPosition:function(){return this.lastPlayedTime||this.playerTime?this.lastPlayedTime&&this.playerTime?Math.max(this.playerTime,parseFloat(this.lastPlayedTime)):this.playerTime?this.playerTime:parseFloat(this.lastPlayedTime):.1},storeQuizSeen:function(e){return this.quizSeen=[],this.quizSeen.push(e)},playVideo:function(){if(this.$(".video-locked-div").addClass("hide"),this.model.set("activatedQuiz",null),this.player&&this.player.paused())return this.player.play()},changeVideo:function(e,t){var o;return null!=(o=this.player)?o.catalog.getVideo(e,function(e){return function(o,n){return o?alert("Oops! Seems Like Video is not valid. Please contact tech support"):(e.player.catalog.load(n),e.player.play(),t&&t())}}(this)):void 0},playFeedbackVideo:function(){var e;return null!=(e=this.player)?e.ready(function(e){return function(){return e.player.play()}}(this)):void 0},pauseVideo:function(){if(this.player)return this.player.pause()},getPlayerHtml:function(e){var t,o,n;return o=this.model.get("vttFileUrl"),o||(o=""),n=this.model.get("video")?this.model.get("video").URL:"",t=u.get("startupIndia")?'<video id="'+e+'" class = \'video-js vjs-default-skin\' width="640" height="390" data-setup=\'{"techOrder" : ["youtube"],"sources" : [{"type" : "video/youtube","src" : "https://www.youtube.com/embed/'+this.model.get("video").url+'?ref=0&iv_load_policy=3"}],"youtube" : {"modestbranding":"0"}}\' preload=\'auto\' controls ></video>':"<video id='"+e+"' class = 'video-js' data-account="+r.C.VIDEOJS_ACCOUNT_ID()+" data-player='"+this.playerId()+"' data-video-id ="+n+" data-embed='default' preload='auto' controls></video>"},addPlayer:function(e){return this.addTracks(e),u.get("startupIndia")?this.playerAdded():this.bcScript=$.ajax({url:"//players.brightcove.net/"+r.C.VIDEOJS_ACCOUNT_ID()+"/"+this.playerId()+"_default/index.min.js",type:"GET",dataType:"script"}).done(function(e){return function(t){return e.playerAdded()}}(this))},addTracks:function(e){},videoSetup:function(e,t,o){var n,i,s,a;a=this.model.get("video").URL,a=4757596277001;try{videojs}catch(l){return n=l,this.$("#"+this.videoAreaId).addClass("hide"),$(".reload-message").removeClass("hide"),void r.ERR.WARN(null,"Some components may not have loaded correctly. Please reload the page.")}return s=e?e:this.videoAreaId,this.player=videojs(s),this.$(".video-js").append('<div class="video-watermark hide">'+u.get("user").id+"</div>"),null!=(i=this.player.options_.userActions)&&(i.hotkeys=!1),u.get("startupIndia")?(this.$(".vjs-big-play-button").addClass("vjs-big-play-button-youtube"),this.addPlaybackSelectorButtonYT()):(this.addQualitySelectorButton(),this.addPlaybackRateSelector()),this.player.dimension("width","100%"),t?this.player.dimension("height",t+"px"):this.player.dimension("height","100%"),this.model.set("video-player",this.player),o&&o()},addPlaybackRateSelector:function(){var e,t;return e={playbackRates:[.5,1,1.25,1.5]},this.player.controlBar.playbackRateMenuButton?(t=this.player.controlBar.playbackRateMenuButton,t.removeChild(t.menu),t.options_.playbackRates=e.playbackRates,t.addChild(t.createMenu()),t.updateLabel(),t.updateVisibility()):(this.player.controlBar.playbackRateMenuButton=this.player.controlBar.addChild("PlaybackRateMenuButton",{playbackRates:e.playbackRates}),this.player.controlBar.playbackRateMenuButton.updateVisibility())},addCuePoint:function(e){var t;return t=new s({model:e,componentModel:this.model}),this.$(".vjs-progress-holder").css("position","relative"),this.$(".vjs-progress-holder").append(t.render())},removeCuePoint:function(e){return e.trigger("removeCuePointElement")},addQualitySelectorButton:function(){return $(this.$(".vjs-playback-rate")[0]).before('<div aria-expanded="false" aria-haspopup="true" aria-live="polite" class= "vjs-quality-control vjs-menu-button vjs-menu-button-popup vjs-control vjs-button" role="menuitem" tabindex="0"> <div class="vjs-menu" role="presentation"> <ul class="vjs-menu-content" role="menu"> <li aria-live="polite" class="vjs-menu-item vjs-quality-item" role="menuitem" tabindex="-1">high<span class="vjs-control-text"></span></li> <li aria-live="polite" class="vjs-menu-item vjs-quality-item" role="menuitem" tabindex="-1">medium<span class="vjs-control-text"></span></li> <li aria-live="polite" class="vjs-menu-item vjs-quality-item" role="menuitem" tabindex="-1">low<span class="vjs-control-text"></span></li> <li aria-live="polite" class="vjs-menu-item vjs-quality-item" role="menuitem" tabindex="-1">auto<span class="vjs-control-text"></span></li> </ul> </div><span class="vjs-control-text">Playback Rate</span> <div class="vjs-playback-rate-value vjs-quality-value"> Auto </div> </div>')},addPlaybackSelectorButtonYT:function(){return this.$(".vjs-playback-rate").before('<div aria-expanded="false" aria-haspopup="true" aria-live="polite" class= "vjs-quality-control vjs-menu-button vjs-menu-button-popup vjs-control vjs-button" role="menuitem" tabindex="0"> <div class="vjs-menu" role="presentation"> <ul class="vjs-menu-content" role="menu"> <li aria-live="polite" class="vjs-menu-item vjs-quality-item-yt" role="menuitem" tabindex="-1">1.5x<span class="vjs-control-text"></span></li> <li aria-live="polite" class="vjs-menu-item vjs-quality-item-yt" role="menuitem" tabindex="-1">1.25x<span class="vjs-control-text"></span></li> <li aria-live="polite" class="vjs-menu-item vjs-quality-item-yt" role="menuitem" tabindex="-1">1x<span class="vjs-control-text"></span></li> <li aria-live="polite" class="vjs-menu-item vjs-quality-item-yt" role="menuitem" tabindex="-1">0.5x<span class="vjs-control-text"></span></li> </ul> </div><span class="vjs-control-text">Playback Rate</span> <div class="vjs-playback-rate-value vjs-quality-value"> 1x </div> </div>')},getVideoStatus:function(){var e,t,o;if(l.isStudent()&&!l.isTeacher())return o=r.C.MEDIA_PATH()+("/v2/progress/video/status/"+this.model.get("id")),t=function(e){return function(t){return t?(console.log("Ajax success, max time set to "+t.seekTime),e.lastPlayedTime=t.seekTime||0):e.lastPlayedTime=0}}(this),e=function(e){return $("#create-video-segment").addClass("hide"),r.ERR.SHOW(e)},r.F.AJAX("GET",o,t,e)},getPlayerId:function(){var e,t;return null!=(e=this.player)&&null!=(t=e.tagAttributes)?t["data-player"]:void 0},getMixpanelErrorObject:function(){var e,t,o,n;return e={"Video Id":(null!=(t=this.model.get("video"))?t.URL:void 0).toString(),"Video Title":this.model.get("name"),"Error Code":null!=(o=this.player.error())?o.code:void 0,"Error Message":null!=(n=this.player.error())?n.message:void 0,Segment:this.model.get("segmentId").toString(),"BC Session ID":$(this.player.player).find(".vjs-errors-ref-id").text()},u.get("startupIndia")||(e["BC Player ID"]=this.getPlayerId()),e},getMixpanelObject:function(){var e,t;return e={"Video Id":(null!=(t=this.model.get("video"))?t.URL:void 0).toString(),"Video Title":this.model.get("name"),Segment:this.model.get("segmentId").toString()},u.get("startupIndia")||(e["BC Player ID"]=this.getPlayerId()),e},onLoadMetaData:function(){return clearTimeout(this.videoLoadTimer),this.initCollections(),this.$("#component-loader").remove(),this.markProgressIfVideoComplete&&this.markProgressIfVideoComplete(),this.updateVideoComponentProgress(),u.get("startupIndia")?this.$(".vjs-progress-control").addClass("disable-hover-style"):this.sendVideoSizeAndTime?this.sendVideoSizeAndTime():void 0},videoReadyListeners:function(){return this.player.ready(function(e){return function(){return u.get("startupIndia")&&e.$("#component-loader").remove(),l.isTeacher()||$("<div class='disable-forward-seek'></div>").insertAfter(e.$(".vjs-progress-control")),u.get("startupIndia")&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1?e.onLoadMetaData():e.player.one("loadedmetadata",function(){return e.onLoadMetaData()})}}(this))},logFrames:function(){var e;return e=this.frameVideo.get(),e!==this.lastFrame&&(this.lastFrame=e,console.log("frame is ",this.frameVideo.get())),requestAnimationFrame(this.logFrames)},computeVideoStatus:function(){return this.model.get("isLocked")?(this.$(".component-complete").addClass("hide"),this.$(".component-incomplete").removeClass("hide")):(this.$(".component-incomplete").addClass("hide"),this.$(".component-complete").removeClass("hide"))},videoBufferListeners:function(){return this.player.on("waiting",function(e){return function(t){return e.acceptableBufferTime=10,e.bufferingTime=0,e.timer=setInterval(function(){var t,o;if(u.get("isVideoErrorThrown")&&clearInterval(e.timer),e.bufferingTime+=1,o=e.acceptableBufferTime-e.bufferingTime,o<=0&&!u.get("isSlowBufferingDetected"))return clearInterval(e.timer),u.set("isSlowBufferingDetected",!0),bot.arg="slow-internet",t=[{key:"hard-reload"},{key:"faq-page"}],bot.send(n.strings.VIDEO_LOAD_PROBLEM,t)},1e3)}}(this))},videoCompleteListeners:function(){return this.player.on("ended",function(e){return function(){var t;return e.computeVideoStatus(),r.T.MIXPANEL_TRACK("Video Complete",e.getMixpanelObject()),t=new Date,e.$(".video-locked-div").removeClass("hide"),r.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Video Completed":t.toISOString()})}}(this))},videoSeekListeners:function(){return this.player.on("seeked",function(e){return function(t){var o,n;n=e.getMaxPlayPosition(),e.model.get("activatedQuiz")&&parseFloat(e.player.currentTime().toFixed(3))<parseFloat(n.toFixed(3))&&(null!=(o=e.model.get("activatedQuiz"))&&o.trigger("deactivate"),e.player.paused()&&e.player.play())}}(this))},videoOnTimeListeners:function(){return this.player.on("timeupdate",function(e){return function(t,o){if(e.bufferingTime&&(e.bufferingTime=0,clearInterval(e.timer)),e.playerOnTimeLogic(t,o),!e.player.error())return e.removeVideoError()}}(this))},showVideoError:function(e){if(this.player.error()||e)return this.$(".err-msg-div").addClass("hide"),this.$(".video-error-div").removeClass("hide"),navigator.onLine?this.$(".retry-div").removeClass("hide"):this.$(".offline-div").removeClass("hide")},removeVideoError:function(){var e;if(this.$(".video-error-div").addClass("hide"),null!=(e=this.player)?e.error():void 0)return this.player.error(null)},videoPauseListeners:function(){return this.player.on("pause",function(e){return function(t){return clearInterval(e.timer),e.$(".video-watermark").addClass("hide"),e.$(".video-locked-div").removeClass("hide")}}(this))},videoErrorListeners:function(){return this.player.on("error",function(e){return function(t){var o;return e.$("#component-loader").remove(),$(t.target).find(".vjs-error-display").addClass("hide"),e.$(".video-error-code").html(null!=(o=e.player.error())?o.code:void 0),e.showVideoError(),r.T.MIXPANEL_TRACK("Video Player Error",e.getMixpanelErrorObject())}}(this))},loadAndResumePlayback:function(){var e;return e=this.player.currentTime(),this.player.error(null),this.player.pause(),this.player.src(this.player.currentSource()),this.player.ready(function(t){return function(){return t.player.currentTime(e),t.player.play()}}(this))},retryPlayback:function(){return this.retryInitiated=!0,r.T.MIXPANEL_TRACK("Video Retry On Error",this.getMixpanelErrorObject()),this.removeVideoError(),this.loadAndResumePlayback()},openTroubleshoot:function(){return r.T.MIXPANEL_TRACK("Video Error Troubleshoot",this.getMixpanelErrorObject()),window.open("http://help.upgrad.com/learning-platform/video-playback-issues","_blank")},videoPlayListeners:function(){return this.player.on("play",function(e){return function(t){var o,n,i,s;return e.$(".video-watermark").removeClass("hide"),s=p.call(document.querySelectorAll(".video-js")),s.forEach(function(e){return e.classList.remove("vjs-layout-tiny")}),e.model.get("activatedQuiz")&&!l.isTeacher()?e.player.pause():e.model.get("activatedQuiz")&&l.isTeacher()?(null!=(n=e.model.get("activatedQuiz"))&&n.trigger("deactivate"),e.$(".video-locked-div").addClass("hide")):(e.$(".video-locked-div").addClass("hide"),i=new Date,o=e.getMixpanelObject(),r.T.MIXPANEL_TRACK("Video Start",o),r.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Video Viewed":i.toISOString()}))}}(this)),this.player.on("playing",function(e){return function(t){var o;if(e.retryInitiated)return o=e.getMixpanelObject(),r.T.MIXPANEL_TRACK("Video Resume on Retry",o),e.retryInitiated=!1}}(this))},videoPlaybackRateChangeListeners:function(){return this.player.on("ratechange",function(e){return function(t){var o,n;try{return n=e.getMixpanelObject(),n["Playback Rate"]=e.player.playbackRate(),r.T.MIXPANEL_TRACK("Playback Rate Change",n)}catch(i){return o=i,console.log(o)}}}(this))},disableForwardSeek:function(){return this.player.on("seeking",function(e){return function(t){if(!i.checkVideoSkipPermission()&&e.getMaxPlayPosition()<e.player.currentTime())return e.player.currentTime(e.playerCurrentTime)}}(this))},youtubeLoaderHandler:function(){return this.player.bigPlayButton.on("click",function(e){return function(){return e.$(".video-player-loader").removeClass("hide")}}(this)),this.player.one("play",function(e){return function(){return e.$(".video-player-loader").addClass("hide")}}(this))},addVideoEventListeners:function(){return this.videoReadyListeners(),this.videoSeekListeners(),u.get("startupIndia")?this.youtubeLoaderHandler():this.disableForwardSeek(),u.get("courseConfiguration").assistant&&this.videoBufferListeners(),this.videoOnTimeListeners(),this.videoPauseListeners(),this.videoPlayListeners(),this.videoErrorListeners(),this.videoCompleteListeners(),this.videoPlaybackRateChangeListeners()},trackFullScreen:function(){},getNearestQuiz:function(){return d.find(this.model.get("videoQuizPoints"),function(e){return function(t){return e.player.currentTime()>=t.timeStamp&&e.player.currentTime()-t.timeStamp<=1}}(this))},changeWidthOfDisableSeek:function(){var e,t;return e=this.model.get("video-player").duration(),t=e?this.getMaxPlayPosition()/e*100+"%":0,this.$(".disable-forward-seek").css("left",t)},playerOnTimeLogic:function(){var e,t,o;if(this.playerCurrentTime=this.player.currentTime(),i.checkVideoSkipPermission()||this.changeWidthOfDisableSeek(),this.playerTime?parseFloat(this.player.currentTime())>this.playerTime&&(this.playerTime=parseFloat(this.player.currentTime())):this.playerTime=parseFloat(this.player.currentTime()),this.updateVideoComponentProgress(),t=null!=(o=this.getNearestQuiz())?o.timeStamp:void 0,!t)return this.quizSeen=[];if(!d.contains(this.quizSeen,t))if(this.player.isFullscreen()&&this.player.exitFullscreen(),this.quizTime=t,e=this.findQuiz(t),l.isTeacher()||l.isTA()){if(e)return this.showQuizzesAndPauseVideo(e,t)}else if(e&&e.get("questionSessions").length)return this.showQuizzesAndPauseVideo(e,t)},showQuizzesAndPauseVideo:function(e,t){return this.showQuiz(e),this.quizSeen.push(t),this.player.pause()},shouldMakeProgressCall:function(e){var t,o;if(o=this.model.get("video-player").duration())if(this.model.get("videoQuizPoints").length&&(this.maxTimeStamp||this.maxQuizId||(t=this.model.get("videoQuizPoints").map(function(e){return e.timeStamp}),this.maxTimeStamp=Math.max.apply(null,t),this.maxQuizId=this.model.get("videoQuizPoints")[t.indexOf(this.maxTimeStamp)].quiz.id)),this.maxTimeStamp>.9*o){if(e&&this.maxQuizId===e.get("quizId"))return!0}else if(this.player.currentTime()/o>=.9||Math.round(this.lastPlayedTime)/Math.round(o)>=.9)return!0},updateVideoComponentProgress:function(e){if(this.model.get("isLocked")&&this.shouldMakeProgressCall(e))return this.model.set("percentComplete",100)},stopPropagation:function(e){return e.stopPropagation(),e.preventDefault()}},t.exports=c},{"../../../assistant-constants":1,"../../../collections/quizzes":30,"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,"../cue-point-item-view":159,backbone:318,underscore:445}],143:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;r=e("backbone"),d=e("underscore"),r.$=$,l=e("./video-component-mixin"),s=e("./media-component-viewer-mixin"),i=e("./component-base-view"),u=e("../../helpers/snackbar"),n=e("../../../assistant-constants"),a=e("../../../models/shared-model"),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.events={"click .jw-icon-fullscreen":"trackFullScreen","click .disable-seek":"stopPropagation","click .vjs-quality-item":"changeVideoResolution","click .vjs-quality-item-yt":"changePlaybackRate","click .video-overlay":"playPausePlayer","click .disable-forward-seek":"showMessageOnSeeking","click .retry-btn":"retryPlayback","click .troubleshoot-btn":"openTroubleshoot"},t.prototype.initialize=function(){return a.get("courseConfiguration").assistant&&(this.videoLoadTimer=window.setTimeout(function(){var e;return a.get("isSlowLoadDetected")||(bot.arg="slow-internet",e=[{key:"hard-reload"},{key:"faq-page"}],bot.send(n.strings.VIDEO_LOAD_PROBLEM,e)),a.set("isSlowLoadDetected",!0)},1e4)),d.bindAll(this,"renderMe","playerOnTimeLogic","storeQuizSeen","trackFullScreen","initCollections","addListenersForVideoAndQuiz","videoPlayListeners","playerAdded","pauseVideo","changeWidthOfDisableSeek","showMessageOnSeeking","getMixpanelErrorObject","openTroubleshoot","showVideoError","removeVideoError"),this.listenTo(this.model,"checkVideoAndMakeProgressCall",this.updateVideoComponentProgress),this.listenTo(this.model,"pauseVideo",this.pauseVideo),this.listenTo(r,r.E.PAUSE_VIDEO,this.pauseVideo),this.addListenersForVideoAndQuiz(),t.__super__.initialize.call(this)},t.prototype.template=function(){return d.template($("#video-viewer-template").html())},t.prototype.renderMe=function(){return t.__super__.renderMe.call(this),this.showViewerVideo()},t.prototype.videoContainer=function(){return this.$("#"+this.videoAreaId+"-viewer")},t.prototype.showViewerVideo=function(){var e,t;return e=this.setVideoId()+"-viewer",t=this.getPlayerHtml(e),this.$(".player-container").html(t),this.addPlayer(e)},t.prototype.playerAdded=function(){var e;return e=this.videoAreaId+"-viewer",this.videoSetup(e,null,function(e){return function(){return e.addVideoEventListeners(),e.$(".video-container").removeClass("hide"),e.$('[data-toggle="tooltip"]').tooltip()}}(this))},t.prototype.removeMe=function(){return this.model.get("quizzes")&&this.model.get("quizzes").each(function(e){return e.trigger("remove")}),this.player&&this.player.off(),this.bcScript&&this.bcScript.abort(),t.__super__.removeMe.call(this)},t.prototype.showMessageOnSeeking=function(e){return u.showToast({message:"You cannot seek forward unless you have watched the video at least once",dismiss:"DISMISS"})},t}(i),d.extend(c.prototype,l,s),t.exports=c},{"../../../assistant-constants":1,"../../../models/shared-model":85,"../../helpers/snackbar":109,"./component-base-view":134,"./media-component-viewer-mixin":139,"./video-component-mixin":142,backbone:318,underscore:445}],144:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.el="#consent-modal",t.prototype.events={"click .agree":"agreeAndContinue","click .decline":"logout","change .consent-input":"enableAgreeButton"},t.prototype.initialize=function(){return i.bindAll(this,"agreeAndContinue","show"),this.listenTo(n,n.E.CONSENT_CHECK,this.verifyConsent),t.__super__.initialize.call(this)},t.prototype.verifyConsent=function(){var e,t,o;return t=function(e){return function(t){if(!t.TERMS_AND_CONDITIONS||!t.PRIVACY_POLICY)return t.TERMS_AND_CONDITIONS||t.PRIVACY_POLICY?t.TERMS_AND_CONDITIONS?t.PRIVACY_POLICY||(e.$(".changed-text").text("privacy policies"),e.$(".bridge-text").addClass("hide"),e.$(".tnc-text").addClass("hide")):(e.$(".changed-text").text("terms & conditions"),e.$(".bridge-text").addClass("hide"),e.$(".pp-text").addClass("hide")):e.$(".changed-text").text("terms & conditions and privacy policies"),e.getConsentURLs()}}(this),e=function(e){return n.ERR.SHOW(e)},o=n.C.MEDIA_PATH()+"/v2/consent/verify?type=PRIVACY_POLICY,TERMS_AND_CONDITIONS&platform="+this.getPlatform(),n.F.AJAX("GET",o,t,e)},t.prototype.getConsentURLs=function(){var e,t;return e=function(e){return n.ERR.SHOW(e)},t=n.C.MEDIA_PATH()+"/v2/consent/latest?type=PRIVACY_POLICY,TERMS_AND_CONDITIONS&platform="+this.getPlatform(),n.F.AJAX("GET",t,this.show,e)},t.prototype.getPlatform=function(){var e;return e="LEARN",n.F.isDemoPlatform()&&(e="DEMO"),n.F.isStartupIndia()&&(e="SILP"),e},t.prototype.show=function(e){return e&&(this.$(".tnc-link").attr("href",e.TERMS_AND_CONDITIONS),this.$(".pp-link").attr("href",e.PRIVACY_POLICY)),this.$el.modal("show"),$("body").addClass("consent-modal-open")},t.prototype.enableAgreeButton=function(){return this.$(".consent-input").prop("checked")?this.$(".agree").removeClass("submit-button-disabled"):this.$(".agree").addClass("submit-button-disabled")},t.prototype.agreeAndContinue=function(){var e,t,o;return t=function(e){return function(){return e.$el.modal("hide"),$("body").removeClass("consent-modal-open")}}(this),e=function(e){return n.ERR.SHOW(e)},o=n.C.MEDIA_PATH()+"/v2/consent/update?type=PRIVACY_POLICY,TERMS_AND_CONDITIONS&platform="+this.getPlatform(),n.F.AJAX("PUT",o,t,e)},t.prototype.logout=function(){var e;try{clevertap.logout()}catch(t){e=t,console.log("clevertap logout failed")}return window.location.href="/logout"},t}(n.View),t.exports=new r},{backbone:318,underscore:445}],145:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m=function(e,t){function o(){this.constructor=e}for(var n in t)g.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},g={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),f=e("underscore"),n.$=$,l=e("../../student-router"),r=e("../../../models/discussions/discussion-comment-model"),u=e("./context-create-answer-view"),a=e("./context-comments-view"),h=e("../../../models/user-model"),c=e("../../../models/shared-model"),p=e("../user-image-initials-support"),i=e("../../../models/config-model"),d=e("../upvotes-support"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.className="discussion-answers item row",t.prototype.template=function(){return f.template($("#context-discussion-answer-template").html())},t.prototype.userImageSelector=".answer-item-image",t.prototype.type="answer",t.prototype.bindings={".answer-name":{observe:"owner",onGet:function(){var e;return null!=(e=this.model.get("owner"))?e.fullname:void 0}},".answer-item-image":{attributes:[{name:"src",observe:"owner",onGet:function(){return this.model.get("owner").photo}}]},".answer-vote-count":"votes",".comment-count":{observe:"comments",onGet:function(){return this.model.get("comments").length}},".answer-timeago":{attributes:[{name:"title",observe:"createdAt"}]},".accept-answer":{observe:["isStudentAccepted","owner","isCorrect"],update:function(e,t){return t[0]>0||c.get("currentQuestionUser")!==c.get("user").id||t[1].userId===c.get("user").id||t[2]?e.addClass("hide"):c.get("currentQuestionUser")===c.get("user").id?e.removeClass("hide"):void 0;
}},".answer-accepted":{observe:["isStudentAccepted"],update:function(e,t){return t>0?e.removeClass("hide"):e.addClass("hide")}}},t.prototype.events={"click .answer-name":"showUserProfile","click .answer-item-image":"showUserProfile","click .edit-answer":"editAnswer","click .delete-answer":"deleteAnswer","click .upvote-answer":"toggleVote","click .cancel-edit-answer":"cancelEdit","click .comment-icon":"showCommentBoxAndNavigate","click .flag-answer":"flagAnswer","click .verify":"toggleVerifyAnswer","click .unverify":"toggleVerifyAnswer","click .answer-upvote-count":"showUpvotes","click .comments":"showCommentBox","click .comment-count":"showCommentBox","click .accept-answer":"markAsAccepted"},t.prototype.initialize=function(e){return f.bindAll(this,"showUserProfile","editAnswer","deleteAnswer","toggleOptions","toggleVerifyAnswer","showCommentBox","showCommentBoxAndNavigate"),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model.get("comments"),"remove",this.setCommentCount),this.listenTo(this.model.get("comments"),"add",this.setCommentCount),this.listenTo(this.model,"highlight",this.highlight),this.listenTo(this.model,"showComments",this.showCommentBox),this.listenTo(this.model,"showUnderReview",this.showUnderReview),this.question=e.question,this.bindUpvoteSupportMethods()},t.prototype.render=function(){return this.$el.html(this.template()()),this.$(".answer-body").html(this.model.get("body")),this.stickit(),i.checkContextDiscussionPermission("comment","read")&&(this.appendCommentsView(),this.$(".vote-answers-count").removeClass("hide"),this.$(".comments").removeClass("hide"),i.checkContextDiscussionPermission("comment","create")&&(this.$(".comment-icon").removeClass("hide"),this.$(".discussion-card-footer").removeClass("hide"))),this.model.get("isEditable")?(this.$(".edit-answer, .delete-answer").removeClass("hide"),this.$(".more-options").removeClass("hide")):this.$(".more-options").addClass("hide"),h.get("id")===this.model.get("owner").userId&&this.$(".flag-answer").addClass("hide"),(h.isTA()||h.isTeacher()||h.isStudentTa())&&this.$(".more-options").removeClass("hide"),c.get("questionOwnerId")===this.model.get("owner").userId?this.$(".name").addClass("my-user-name"):this.$(".name").removeClass("my-user-name"),this.initializeUpvoteState(),this.updateAnswerText(),this.setCommentCount(),this.toggleVerifiedMark(),this.user=this.model.get("owner"),this.replaceWithProfilePic(),this.checkTAAnswers(),this.addUnderReviewFlag(),n.F.MOMENT_TIME(this.$(".answer-timeago")),n.F.REASSIGN_TIMES(),this.enableTooltip(),this.$el},t.prototype.enableTooltip=function(){return this.$(".flag-answer").tooltip({title:"Report Inappropriate",placement:"top"}),this.$(".ta-verified").tooltip({title:"TA Verified",placement:"bottom"})},t.prototype.highlight=function(){return n.F.HIGHLIGHT_TEMPORARILY(this.$(".answer-detail"))},t.prototype.showCommentBoxAndNavigate=function(){return this.showCommentBox(),n.F.SCROLL_TO_ELEMENT(this.$(".new-comment-div"),-200),this.$(".comment-input").focus()},t.prototype.showCommentBox=function(){return this.$(".comments-div").removeClass("hide"),this.$(".new-comment-div").removeClass("hide"),this.model.get("comments").trigger("showMore")},t.prototype.updateAnswerText=function(){return this.$(".answer-body").html(this.model.get("body"))},t.prototype.setCommentCount=function(){return this.$(".comment-count").text(this.model.get("comments").length)},t.prototype.appendCommentsView=function(){return this.commentsView=new a({answer:this.model,comments:this.model.get("comments")}),this.$(".comments-div").append(this.commentsView.render())},t.prototype.addTaHelpfulFeedback=function(){},t.prototype.toggleOptions=function(e){return e.preventDefault(),this.$(".answer-options .options-list").hasClass("hide")?this.$(".answer-options .options-list").removeClass("hide"):this.$(".answer-options .options-list").addClass("hide")},t.prototype.editAnswer=function(){var e;return this.$(".view-answer-div").addClass("hide"),this.editView||i.checkContextDiscussionPermission("answer","update")&&(this.editView=new u({model:this.model,parentView:this}),this.$(".edit-answer-div").append(this.editView.render()),this.editView.trigger("createEditor")),null!=(e=this.editView)?e.show():void 0},t.prototype.cancelEdit=function(){return this.switchToViewMode()},t.prototype.switchToViewMode=function(){var e;return null!=(e=this.editView)&&e.hide(),this.updateAnswerText(),this.$(".view-answer-div").removeClass("hide")},t.prototype.showUserProfile=function(){return l.navigate("/v/course/"+c.get("courseId")+"/profile/"+this.model.get("owner").userId+"/about"),c.set("profileId",this.model.get("owner").userId),n.trigger(n.E.DISPLAY_PROFILE)},t.prototype.flagAnswer=function(){return n.trigger(n.E.FLAG_MODEL,"answer",this.model.get("id"))},t.prototype.deleteAnswer=function(){if(confirm("Are you sure you want to delete this answer?"))return n.T.MIXPANEL_TRACK("Delete Forum Response",{"Segment Id":c.get("segmentId").toString(),"Parent Id":this.question.get("id").toString(),"Parent Type":"Question","Entity Id":this.model.get("id").toString(),"Ref Page":"DIC"}),this.model.destroy({error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},t.prototype.toggleVerifiedMark=function(){if(this.model.get("isCorrect")){if(this.$(".ta-verified").removeClass("hide"),h.isTeacher()||h.isTA()||h.isStudentTa())return this.$(".verify").addClass("hide"),this.$(".unverify").removeClass("hide")}else if(this.$(".ta-verified").addClass("hide"),this.$(".verified-label-and-under-review").addClass("hide"),h.isTeacher()||h.isTA()||h.isStudentTa())return this.$(".verify").removeClass("hide"),this.$(".unverify").addClass("hide")},t.prototype.toggleVerifyAnswer=function(){if(this.model.get("isCorrect")){if(confirm("Are you sure you want to remove verificaton from this question?"))return this.model.set("isCorrect",!1),this.toggleVerifiedMark(),this.model.unverify()}else if(confirm("Are you sure you want to mark this answer as verified?"))return this.model.set("isCorrect",!0),this.toggleVerifiedMark(),this.model.verify(c.get("contextQuestionId"))},t.prototype.markAsAccepted=function(){var e,t;return t=function(e){return function(){return e.model.fetch()}}(this),e=function(e){return function(){return n.ERR.SHOW(error)}}(this),this.model.markAsAccepted(c.get("contextQuestionId"),t,e)},t.prototype.checkTAAnswers=function(){if(this.model.get("owner").isTA)return n.F.APPEND_QUARTER_LOGO(this.$(".discussion-user-image-answer"))},t.prototype.addUnderReviewFlag=function(){return this.model.get("state")?this.showUnderReview(this.model.get("state")):this.$(".verified-label-and-under-review").addClass("hide")},t.prototype.showUnderReview=function(e){return this.$(".only-verified-label").addClass("hide"),this.$(".verified-label-and-under-review").removeClass("hide"),this.$(".under-review").text(e)},t.prototype.remove=function(){var e,t;return null!=(e=this.editView)&&e.remove(),null!=(t=this.commentsView)&&t.remove(),this.stopListening(),this.$el.remove()},t}(n.View),f.extend(s.prototype,p,d),t.exports=s},{"../../../models/config-model":54,"../../../models/discussions/discussion-comment-model":59,"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,"../upvotes-support":274,"../user-image-initials-support":275,"./context-comments-view":148,"./context-create-answer-view":149,backbone:318,"backbone.stickit":317,underscore:445}],146:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g=function(e,t){function o(){this.constructor=e}for(var n in t)y.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},y={}.hasOwnProperty;i=e("backbone"),m=e("underscore"),i.$=$,s=e("../../helpers/base-view"),a=e("../../helpers/collection-view-support"),f=e("../../../models/shared-model"),h=e("../../student-router"),l=e("./context-answer-item-view"),r=e("../../../models/discussions/discussion-answer-model"),d=e("./context-create-answer-view"),u=e("../../../models/config-model"),p=e("../../../collections/discussions/discussion-answers"),n=e("../../../models/account-settings-model"),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.itemViewClass=l,t.prototype.collection=p,t.prototype.template=function(){return m.template($("#context-answers-template").html())},t.prototype.events={"click .view-more-answers":"loadMore"},t.prototype.initialize=function(e){return this.subViews={},this.question=e.question,this.options=e.options,this.itemObj={question:this.question},this.listenTo(this.collection,"remove",this.setAnswerCount),this.listenTo(this.collection,"add",this.setAnswerCount),this.listenTo(this.collection,"add-at-bottom",this.addAtBottom),this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.fetchData(e.pageSize)},t.prototype.render=function(){return this.$el.html(this.template()()),u.checkContextDiscussionPermission("answer","create")&&(this.newAnswerView=new d({question:this.question,createView:!0}),this.$(".new-answer-div").append(this.newAnswerView.render())),this.addAll(),this.$el},t.prototype.fetchData=function(e){return this.$(".answers-loader").removeClass("hide"),e=e?parseInt(e):10,p.fetch({data:{questionId:this.question.id,pageSize:e},success:function(e){return function(){return e.setAnswerCount(),e.$(".answers-loader").addClass("hide"),e.toggleLoadMoreVisibility(),e.scrollToItem()}}(this),error:function(e){return function(e){return i.ERR.SHOW(e)}}(this)})},t.prototype.createEditor=function(){if(this.newAnswerView)return this.newAnswerView.trigger("createEditor")},t.prototype.setAnswerCount=function(){return p.length?this.$(".discussionanswers-list").removeClass("hide"):this.$(".discussionanswers-list").addClass("hide"),this.$(".answer-count").text(p.length+" answers")},t.prototype.addLoadMoreLoader=function(){return this.$(".load-more .main-button").addClass("loading")},t.prototype.removeLoadMoreLoader=function(){return this.$(".load-more .main-button").removeClass("loading")},t.prototype.toggleLoadMoreVisibility=function(){return p.nextUrl?this.$(".load-more").removeClass("hide"):this.$(".load-more").addClass("hide")},t.prototype.scrollToItem=function(){var e,t,o,n,r,s;if(this.options)return s=this.options.scrollTo,s.match(/answer/)?(t=s.split("/")[3],e=p.get(t),s.match(/comment/)?(n=s.split("/")[5],r=p.get(t).get("comments"),e.trigger("showComments"),o=r.get(n),i.F.SCROLL_TO_ELEMENT(this.$(".discussioncommentmodel-"+o.cid),-200),o.trigger("highlight")):(i.F.SCROLL_TO_ELEMENT(this.$(".discussionanswermodel-"+e.cid),-200),e.trigger("highlight"))):void 0},t.prototype.loadMore=function(){return this.addLoadMoreLoader(),p.fetch({url:p.nextUrl,remove:!1,success:function(e){return function(){return e.toggleLoadMoreVisibility(),e.removeLoadMoreLoader()}}(this),error:function(e){return function(){return e.removeLoadMoreLoader()}}(this)})},t.prototype.addAtBottom=function(e){var t,o;return o=this.addItem(e),t=this.$el.find(".latest-answer-placeholder"),t.append(o),this.$(".load-more-divider-bottom").removeClass("hide")},t.prototype.byPassAddOne=function(e){var t,o;return o=this.addItem(e),t=this.$el.find("."+this.collection.collectionListEl.toLowerCase()+"-list"),t.append(o)},t.prototype.remove=function(){var e;return null!=(e=this.newAnswerView)&&e.remove(),this.stopListening(),this.$el.remove(),p.reset()},t}(i.View),m.extend(c.prototype,a),t.exports=c},{"../../../collections/discussions/discussion-answers":11,"../../../models/account-settings-model":44,"../../../models/config-model":54,"../../../models/discussions/discussion-answer-model":58,"../../../models/shared-model":85,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"../../student-router":117,"./context-answer-item-view":145,"./context-create-answer-view":149,backbone:318,underscore:445}],147:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),c=e("underscore"),n.$=$,s=e("../../student-router"),l=e("../../../models/user-model"),i=e("./context-create-comment-view"),a=e("../../../models/shared-model"),u=e("../user-image-initials-support"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.className="discussion-comment context-discussion-comment item row",t.prototype.template=function(){return c.template($("#context-discussion-comment-template").html())},t.prototype.userImageSelector=".comment-item-image",t.prototype.bindings={".comment-name":{observe:"owner",onGet:function(){var e;return null!=(e=this.model.get("owner"))?e.fullname:void 0}},".comment-item-image":{attributes:[{name:"src",observe:"owner",onGet:function(){var e;return null!=(e=this.model.get("owner"))?e.photo:void 0}}]},".comment-timeago":{attributes:[{name:"title",observe:"createdAt"}]}},t.prototype.events={"click .comment-name":"showUserProfile","click .comment-item-image":"showUserProfile","click .edit-comment":"editComment","click .delete-comment":"deleteComment","click .cancel-edit-comment":"cancelEdit","click .flag-comment":"flagComment"},t.prototype.initialize=function(e){return c.bindAll(this,"showUserProfile","editComment","deleteComment"),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"highlight",this.highlight),this.answer=e.answer},t.prototype.render=function(){return this.$el.html(this.template()()),this.setCommentText(),this.stickit(),this.model.get("isEditable")?(this.$(".edit-comment, .delete-comment").removeClass("hide"),this.$(".more-options").removeClass("hide")):this.$(".more-options").addClass("hide"),l.get("id")===this.model.get("owner").userId&&this.$(".flag-comment").addClass("hide"),a.get("questionOwnerId")===this.model.get("owner").userId?this.$(".name").addClass("my-user-name"):this.$(".name").removeClass("my-user-name"),this.user=this.model.get("owner"),this.replaceWithProfilePic(),this.checkTAComments(),n.F.MOMENT_TIME(this.$(".comment-timeago")),n.F.REASSIGN_TIMES(),this.enableTooltip(),this.$el},t.prototype.enableTooltip=function(){return this.$(".flag-comment").tooltip({title:"Report Inappropriate",placement:"left"})},t.prototype.setCommentText=function(){var e;return e=linkifyStr(this.model.get("body")).trim().replace(/\n/g,"<br>"),this.$(".comment-body").html(e)},t.prototype.editComment=function(){return this.originalHeight=this.$(".comment-body").height(),this.$(".view-comment-div").addClass("hide"),this.editView||(this.editView=new i({model:this.model,parentView:this,answer:this.answer}),this.$(".edit-comment-div").append(this.editView.render())),this.originalComment=this.model.get("body"),this.editView.show(this.originalHeight)},t.prototype.highlight=function(){return n.F.HIGHLIGHT_TEMPORARILY(this.$el)},t.prototype.cancelEdit=function(){return this.model.set("body",this.originalComment),this.switchToViewMode()},t.prototype.switchToViewMode=function(){return this.editView.hide(),this.setCommentText(),this.$(".view-comment-div").removeClass("hide")},t.prototype.showUserProfile=function(){return s.navigate("/v/course/"+a.get("courseId")+"/profile/"+this.model.get("owner").userId+"/about"),a.set("profileId",this.model.get("owner").userId),n.trigger(n.E.DISPLAY_PROFILE)},t.prototype.flagComment=function(){return n.trigger(n.E.FLAG_MODEL,"comment",this.model.get("id"))},t.prototype.checkTAComments=function(){if(this.model.get("owner").isTA)return n.F.APPEND_QUARTER_LOGO(this.$(".discussion-user-image-comment"))},t.prototype.remove=function(){var e;return null!=(e=this.editView)&&e.remove(),this.stopListening(),this.$el.remove()},t.prototype.deleteComment=function(){if(confirm("Are you sure you want to delete this comment?"))return n.T.MIXPANEL_TRACK("Delete Forum Comment",{"Segment Id":a.get("segmentId").toString(),"Parent Id":this.answer.get("id").toString(),"Parent Type":"Response","Entity Id":this.model.get("id").toString(),"Ref Page":"DIC"}),this.model.destroy({error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},t}(n.View),c.extend(r.prototype,u),t.exports=r},{"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,"../user-image-initials-support":275,"./context-create-comment-view":150,backbone:318,"backbone.stickit":317,underscore:445}],148:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;n=e("backbone"),d=e("underscore"),n.$=$,r=e("../../helpers/base-view"),i=e("../../helpers/collection-view-support"),c=e("../../../models/shared-model"),a=e("./context-comment-item-view"),s=e("../../../models/discussions/discussion-comment-model"),l=e("./context-create-comment-view"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.template=function(){return d.template($("#context-comments-template").html())},t.prototype.itemViewClass=a,t.prototype.events={"click .show-more":"showMore"},t.prototype.initialize=function(e){return this.subViews={},this.answer=e.answer,this.comments=e.comments,this.listenTo(this.comments,"showMore",this.showMore),this.collection=this.comments,this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.itemObj={answer:this.answer}},t.prototype.render=function(){return this.$el.html(this.template()()),this.newCommentView=new l({answer:this.answer,comments:this.comments,createView:!0}),this.$(".new-comment-div").append(this.newCommentView.render()),this.$(".new-comment-div").addClass("hide"),this.collection.length>2?(this.addOne(this.collection.first()),this.addOne(this.collection.models[1])):(this.addAll(),this.$(".show-more").addClass("hide")),this.$el},t.prototype.showMore=function(){var e;if(e=0,!this.$(".show-more").hasClass("hide"))return this.$(".show-more").addClass("hide"),this.collection.each(function(t){return function(o){return e>=2&&t.addOne(o),e+=1}}(this))},t.prototype.remove=function(){return this.newCommentView.remove(),this.stopListening(),this.$el.remove()},t}(n.View),d.extend(u.prototype,i),t.exports=u},{"../../../models/discussions/discussion-comment-model":59,"../../../models/shared-model":85,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"./context-comment-item-view":147,"./context-create-comment-view":150,backbone:318,underscore:445}],149:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;r=e("backbone"),d=e("underscore"),r.$=$,n=e("../../../models/discussions/discussion-answer-model"),c=e("../../../models/user-model"),l=e("../user-image-initials-support"),s=e("../../../collections/discussions/discussion-answers"),u=e("../../../models/shared-model"),a=e("../../prevent-form-submit-image-upload-support"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.template=function(){return d.template($("#context-create-answer-template").html())},t.prototype.userImageSelector=".create-answer-image",t.prototype.events={"click .answer":"saveAnswer"},t.prototype.bindings={".answer-input":"body"},t.prototype.initialize=function(e){if(d.bindAll(this,"trackNewForumResponse"),this.listenTo(this,"createEditor",this.createEditor),this.listenTo(c,"change:profilePic",this.updateProfilePic),this.question=e.question,this.parentView=e.parentView,this.bindCkEditorEvents(),e.createView)return this.createView=!0,this.initializeModel()},t.prototype.render=function(){var e;return this.$el.html(this.template()()),this.stickit(),this.model.isNew()?this.$(".cancel-edit-answer").addClass("hide"):this.$(".col-sm-1").addClass("hide"),this.$(".answer-input").attr("name",this.model.cid),this.$(".create-answer-image").attr("src",null!=(e=c.get("profilePic"))?e.URL:void 0),this.updateProfilePic(),this.$el},t.prototype.updateProfilePic=function(){return this.user=c.toJSON(),this.replaceWithProfilePic()},t.prototype.createEditor=function(){return this.editor=CKEDITOR.replace(this.model.cid),this.addCkeditorEvents()},t.prototype.show=function(){return this.editor.setData(this.model.get("body")),this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$el.addClass("hide")},t.prototype.trackNewForumResponse=function(e){var t;return r.T.MIXPANEL_TRACK("New Forum Response",{"Segment Id":u.get("segmentId").toString(),"Question Id":this.question.get("id").toString(),"Response Id":e.id.toString(),"Ref Page":"DIC"}),r.T.MIXPANEL_INCREMENT_PROPERTY("Forum Responses Given"),t=new Date,r.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Forum Activity":t.toISOString()})},t.prototype.saveAnswer=function(){var e,t;if(this.editor.getData())return this.$(".answer").addClass("loading"),this.model.set("body",r.F.TRIM_EMPTY_SPACES_IN_EDITOR(r.F.formatEditorContents(this.editor))),t={success:function(e){return function(t,o){return e.$(".answer").removeClass("loading"),e.createView?(s.add(e.model,{silent:!0}),s.trigger("add-at-bottom",e.model),e.unstickit(),e.initializeModel(),e.stickit(),e.question.set("answerCount",e.question.get("answerCount")+1),e.question.set("hasAnswered",!0),e.question.trigger("updateAnswerColor"),e.trackNewForumResponse(t)):e.parentView.switchToViewMode()}}(this),error:function(e){return function(t,o){return e.$(".answer").removeClass("loading"),r.ERR.SHOW(o)}}(this)},this.createView||(t.patch=!0,e={body:this.model.get("body")}),this.model.save(e||this.model.toJSON(),t)},t.prototype.initializeModel=function(){var e;return null!=(e=this.editor)&&e.setData(""),this.model=new n({questionId:this.question.get("id"),body:null})},t.prototype.remove=function(){return this.removeCkeditorEvents(),this.stopListening(),this.$el.remove()},t}(r.View),d.extend(i.prototype,l,a),t.exports=i},{"../../../collections/discussions/discussion-answers":11,"../../../models/discussions/discussion-answer-model":58,"../../../models/shared-model":85,"../../../models/user-model":87,"../../prevent-form-submit-image-upload-support":116,"../user-image-initials-support":275,backbone:318,underscore:445}],150:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;n=e("backbone"),c=e("underscore"),n.$=$,r=e("../../../models/discussions/discussion-comment-model"),l=e("../../../models/user-model"),u=e("../user-image-initials-support"),a=e("../../../models/shared-model"),s=e("../../helpers/helper-methods"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.template=function(){return c.template($("#context-create-comment-template").html())},t.prototype.userImageSelector=".create-comment-image",t.prototype.events={"click .save-comment":"saveComment"},t.prototype.bindings={".comment-input":"body"},t.prototype.initialize=function(e){if(c.bindAll(this,"trackNewForumComment"),this.listenTo(l,"change:profilePic",this.updateProfilePic),this.answer=e.answer,this.comments=e.comments,this.parentView=e.parentView,e.createView)return this.createView=!0,this.initializeModel()},t.prototype.render=function(){var e;return this.$el.html(this.template()()),this.stickit(),this.createView&&this.$(".cancel-edit-comment").addClass("hide"),this.$(".create-comment-image").attr("src",null!=(e=l.get("profilePic"))?e.URL:void 0),this.updateProfilePic(),s.autoResize(this.$(".comment-input")),this.$el},t.prototype.updateProfilePic=function(){return this.user=l.toJSON(),this.replaceWithProfilePic()},t.prototype.show=function(e){var t,o;return t=this.$el.find(".comment-input"),o=t.css("max-height"),e=e>o?o:e,t.height(e),this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$el.addClass("hide")},t.prototype.trackNewForumComment=function(){var e;return n.T.MIXPANEL_TRACK("New Forum Comment",{"Segment Id":a.get("segmentId").toString(),"Parent Id":this.answer.get("id").toString(),"Parent Type":"Response","Ref Page":"DIC"}),n.T.MIXPANEL_INCREMENT_PROPERTY("Forum Comments"),e=new Date,n.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Forum Activity":e.toISOString()})},t.prototype.saveComment=function(){var e,t;if(this.model.get("body"))return this.$(".save-comment").addClass("loading"),t={success:function(e){return function(){return e.$(".save-comment").removeClass("loading"),e.trackNewForumComment(),e.createView?(e.comments.add(e.model),e.unstickit(),e.initializeModel(),e.stickit()):e.parentView.switchToViewMode()}}(this),error:function(e){return function(t,o){return e.$(".save-comment").removeClass("loading"),n.ERR.SHOW(o)}}(this)},this.createView||(t.patch=!0,e={body:this.model.get("body")}),this.model.save(e||this.model.toJSON(),t)},t.prototype.initializeModel=function(){return this.model=new r({answerId:this.answer.get("id"),body:null})},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t}(n.View),c.extend(i.prototype,u),t.exports=i},{"../../../models/discussions/discussion-comment-model":59,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/helper-methods":104,"../user-image-initials-support":275,backbone:318,underscore:445}],151:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;n=e("backbone"),d=e("underscore"),n.$=$,u=e("../../student-router"),a=e("../viewer-files/dynamic-module-viewer"),l=e("../../../models/shared-model"),c=e("../../../models/user-model"),r=e("../../../models/config-model"),s=e("../../../collections/discussions/discussion-questions"),e("./context-questions-list-view"),e("./context-question-detail-view"),e("./create-context-question-view"),e("./context-session-questions-view"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.moduleName="contextDiscussions",t.prototype.listeners=[{event:n.E.SHOW_CONTEXT_DISCUSSIONS,method:"showContextDiscussions"}],t.prototype.dependentCollections=[s],t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.el="#drawer",t.prototype.events={"click .ask-question":"showCreateQuestion"},t.prototype.showContextDiscussions=function(){return this.$el.find(".context-type").text("Q & A : "),this.$el.find(".context-name").text(l.get("segmentName")),n.trigger(n.E.SHOW_CONTEXT_DISCUSSION_QUESTIONS)},t.prototype.showCreateQuestion=function(e){var t;if(t=this.$(e.currentTarget).hasClass(".asking-when-no-results-found")?"DIC No Results":"DIC Top",n.T.MIXPANEL_TRACK("Ask a Question",{"Segment Id":l.get("segmentId").toString(),"Ref Page":t}),r.checkContextDiscussionPermission("question","create"))return n.trigger(n.E.SHOW_CREATE_CONTEXT_QUESTION)},t.prototype.fetchCourseStructure=function(e){return DiscussionContexts.length?e?e():void 0:DiscussionContexts.fetch({success:function(){if(e)return e()},error:function(e,t){return n.ERR.SHOW(t)}})},t}(a),t.exports=new i},{"../../../collections/discussions/discussion-questions":16,"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,"../viewer-files/dynamic-module-viewer":281,"./context-question-detail-view":152,"./context-questions-list-view":154,"./context-session-questions-view":155,"./create-context-question-view":156,backbone:318,underscore:445}],152:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y,v,b,_,w,S,C,E=function(e,t){return function(){return e.apply(t,arguments)}},k=function(e,t){function o(){this.constructor=e}for(var n in t)T.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},T={}.hasOwnProperty;r=e("backbone"),C=e("underscore"),e("backbone.stickit"),r.$=$,i=e("../../helpers/base-view"),v=e("../../../models/shared-model"),f=e("../../../models/discussions/discussion-question-model"),g=e("../../student-router"),S=e("../../../models/user-model"),w=e("../user-image-initials-support"),_=e("../upvotes-support"),p=e("../pin-support"),b=e("../../helpers/snackbar"),u=e("./context-question-item-view"),m=e("../../../collections/discussions/discussion-questions"),n=e("./context-answers-view"),d=e("../../../collections/discussions/my-bookmarks-collection"),y=e("../../../collections/sessions"),s=e("../../../models/config-model"),c=e("../../helpers/feature-flags-helper"),h=e("../../prevent-form-submit-image-upload-support"),l=e("../../viewer/discussion-question-view-mixin"),a=function(e){function t(){return this.show=E(this.show,this),t.__super__.constructor.apply(this,arguments)}return k(t,e),t.prototype.viewIdentifier="contextQuestionDetail",t.prototype.el="#context-question-details",t.prototype.template=function(){return C.template($("#context-discussion-question-view-template").html())},t.prototype.editTemplate=function(){return C.template($("#context-discussion-question-edit-template").html())},t.prototype.userImageSelector=".question-item-image",t.prototype.type="question",t.prototype.events={"click .question-name":"showUserProfile","click .question-item-image":"showUserProfile","click .upvote-question":"toggleVote","click .bookmark-question":"toggleBookmark","click .question-upvotes":"showUpvotes","click .delete-question":"deleteQuestion","click .edit-question":"editQuestion","click .flag-question":"flagQuestion","click .cancel-edit":"cancelEdit","click .save-discussion":"save","click .answer-question":"scrollToNewAnswer","click .back":"backToAllDiscussions","click .answers":"scrollToAnswers","click .pin-discussion-contextually":"checkForPinnedDiscussion","click .pin-discussion-globally":"checkForPinnedDiscussion","click .unpin":"checkForPinnedDiscussion","click .view-question-in-forum":"openQuestionInDiscussionForum"},t.prototype.bindings={".question-name":{observe:"owner",onGet:function(){var e;return null!=(e=this.model.get("owner"))?e.fullname:void 0}},".question-item-image":{attributes:[{name:"src",observe:"owner",onGet:function(){return this.model.get("owner").photo}}]},".module-name":"module-name",".session-name":"session-name",".segment-name":"segment-name",".question-title":"title",".title-edit":"title",".vote-count":"votes",".answers-count":"answerCount",".starred-block":{observe:"isStarred",update:function(e,t){if(c.isTaStarEnabled())return t?e.removeClass("hide"):e.addClass("hide")}},".question-timeago":{attributes:[{name:"title",observe:"createdAt"}]}},t.prototype.initialize=function(e){return C.bindAll(this,"findDataAndShow","show","hide","backToAllDiscussions","validateAskQuestionCount"),this.listenTo(r,r.E.SHOW_CONTEXT_QUESTION_DETAILS,this.findDataAndShow),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"updateAnswerColor",this.updateAnswerColor),this.listenTo(this.model,"change:hasBookmarked",this.removeFromBookmarkList),this.listenTo(this.model,"unpinLocally",this.questionUnpinned),e&&(this.isBookmarkTile=e.isBookmarkTile),this.bindUpvoteSupportMethods(),this.bindPinSupportMethods(),this.addListeners(),this.bindCkEditorEvents(),this.retainSearch=!0,t.__super__.initialize.call(this)},t.prototype.findDataAndShow=function(e){var t,o,n;return n=e.modelId,v.set("contextQuestionId",n),this.retainSearch=e.retainSearch,o=m.get(n),o&&(v.set("currentQuestionUser",o.get("owner").userId),this.show(o,n)),o=new f({id:n}),t={success:function(e){return function(){return v.set("currentQuestionUser",o.get("owner").userId),e.show(o,n),e.appendAnswersView(n)}}(this),error:function(e){return function(e,t){return r.F.HIDE_LOADER("drawer"),r.ERR.SHOW(t)}}(this)},t||(t={}),o.fetch(t)},t.prototype.appendAnswersView=function(e){
var t,o,r,i;if(this.$(".loader-div").addClass("hide"),e&&(o=e.pageSize),!this.answersView)return t={question:this.model,pageSize:o},(null!=(r=this.options)&&null!=(i=r.scrollTo)?i.match(/answer/):void 0)&&(t.options=this.options),this.answersView=new n(t),this.$("#context-answers-list .context-answers-list").html(this.answersView.render()),this.answersView.createEditor(),this.updatePage(this.options)},t.prototype.backToAllDiscussions=function(){return r.trigger(r.E.SHOW_CONTEXT_DISCUSSION_QUESTIONS,this.retainSearch)},t.prototype.addValidationOnDescription=function(){var e;return e=CKEDITOR.instances["context-discussion-description"].getData(),e?(this.$(".description-error").addClass("hide"),!0):(this.$(".description-error").removeClass("hide"),!1)},t.prototype.show=function(e,t){var o;return v.resetCurrentSubView(this.viewIdentifier),this.unstickit(),this.model=e,this.setContext(),this.$el.find(".view-question-div").html(this.template()()),this.$el.find(".edit-question-div").html(this.editTemplate()()),this.stickit(),o=r.D.HIGHLIGHT_SEARCH(this.model.get("title"),"highlight"),this.$(".title").html(o),this.setDescription(),this.updateButtons(),this.user=this.model.get("owner"),this.replaceWithProfilePic(),this.checkTAQuestions(),this.showHidePinOption(),r.F.REASSIGN_TIMES(),this.enableTooltip(),this.model.get("isEditable")&&(this.$(".question-edit").removeClass("hide"),this.editor=CKEDITOR.replace("context-discussion-description")),this.$(".loader-div").removeClass("hide"),this.$el.removeClass("hide"),this.hideSegmentTag(),this.addCkeditorEvents(),this.options=t,this.options&&"questionEdit"===this.options.scrollTo&&this.updatePage(t),this.$(".title-edit").keyup(function(e){return function(){return e.validateAskQuestionCount()}}(this)),this.restrictEnterInTitle()},t.prototype.hideSegmentTag=function(){var e,t,o,n;return(null!=(e=this.model.get("properties"))?e.segmentId:void 0)&&this.model.get("context").sessionId>0?(n=y.get(this.model.get("context").sessionId),(o=n.get("segments").get(null!=(t=this.model.get("properties"))?t.segmentId:void 0))?(this.$(".segment-name").removeClass("hide"),this.model.set("segment-name",o.get("name"))):void 0):this.$(".segment-name").addClass("hide")},t.prototype.restrictEnterInTitle=function(){return this.$(".title-edit").keypress(function(e){return function(t){return 13===t.keyCode?(t.preventDefault(),e.$(".title-edit").tooltip({placement:"right",title:"Line spaces are not allowed in \n questions to keep them concise. \n Please use description \n to add more details."}),e.$(".title-edit").tooltip("show")):e.removeToolTip()}}(this))},t.prototype.removeToolTip=function(){return this.$(".title-edit").tooltip("destroy")},t.prototype.scrollToNewAnswer=function(){return r.F.SCROLL_TO_ELEMENT(this.$(".new-answer-div"),0,"#context-discussions")},t.prototype.scrollToAnswers=function(){return r.F.SCROLL_TO_ELEMENT(this.$(".answers-heading"),-220,"#context-discussions")},t.prototype.scrollToItem=function(e){var t,o,n,i,s;if(o=e.split("/")[3],t=this.model.get("answers").get(o),e.match(/comment/)){if(i=e.split("/")[5],s=this.model.get("answers").get(o).get("comments"),t.trigger("showComments"),n=s.get(i))return r.F.SCROLL_TO_ELEMENT(this.$(".discussioncommentmodel-"+(null!=n?n.cid:void 0)),-200),n.trigger("highlight")}else if(t)return r.F.SCROLL_TO_ELEMENT(this.$(".discussionanswermodel-"+(null!=t?t.cid:void 0)),-200),t.trigger("highlight")},t.prototype.showQuestionDetails=function(){},t.prototype.updatePage=function(){var e;if(this.options)return e=this.options.scrollTo,setTimeout(function(t){return function(){return"newAnswer"===e?t.scrollToNewAnswer():"questionEdit"===e?t.editQuestion():void 0}}(this),300)},t.prototype.setContext=function(){return this.model.set("module-name","Module "+v.get("moduleNumber")),this.model.set("session-name","Session "+v.get("sessionNumber"))},t.prototype.enableTooltip=function(){return this.$(".flag-question").tooltip({title:"Report Inappropriate",placement:"top"}),this.$(".ta-verified").tooltip({title:"Reviewed by TA",placement:"bottom"})},t.prototype.setDescription=function(){var e;return this.model.get("annotations")&&(e=C.find(this.model.get("annotations"),function(e){return"green-label"===e.type}),e?this.$(".ta-verified").removeClass("hide"):this.$(".ta-verified").addClass("hide")),this.$(".description").html(this.model.get("body"))},t.prototype.updateButtons=function(){var e,t;return this.initializeUpvoteState(),t=!0,e=!1,C.each(["answer","bookmark"],function(t){return function(o){if(s.checkDiscussionPermission(o,"create"))return t.$("."+o+"-question").removeClass("hide"),e=!0}}(this)),C.each(["answer","upvote"],function(e){return function(o){return s.checkDiscussionPermission(o,"read")?e.$("."+o+"-count").removeClass("hide"):t=!1}}(this)),e&&this.$(".discussion-card-footer").removeClass("hide"),t||this.$(".separator").addClass("hide"),this.updateFollowButton(),this.updateAnswerColor(),this.model.get("isEditable")?(this.$(".edit-question, .delete-question").removeClass("hide"),this.$(".more-options").removeClass("hide")):this.$(".more-options").addClass("hide"),r.F.IS_USER_LOGGED_IN(this.model.get("owner").userId)&&(this.listenTo(S,"change:profilePic",this.updateProfilePic),this.$(".flag-question").addClass("hide")),r.F.MOMENT_TIME(this.$(".question-timeago"))},t.prototype.deleteQuestion=function(e){if(e.stopPropagation(),confirm("Are you sure you want to delete this discussion?"))return r.T.MIXPANEL_TRACK("Delete Forum Question",{"Segment Id":v.get("segmentId").toString(),"Question Id":this.model.get("id").toString(),"Ref Page":"DIC"}),this.model.destroy({success:function(e){return function(){return d.length||d.trigger("showNoBookmarks"),r.trigger(r.E.SHOW_CONTEXT_DISCUSSION_QUESTIONS,!1)}}(this)})},t.prototype.editQuestion=function(){if(this.editor.setData(this.model.get("body")),this.$(".view-question-div").addClass("hide"),this.$(".edit-question-div").removeClass("hide"),this.$(".title-edit").focus(),this.editor.getData())return this.$(".show-on-add-description").removeClass("hide"),this.$(".add-description").addClass("hide")},t.prototype.cancelEdit=function(){return this.model.rollback(),this.switchToViewMode()},t.prototype.save=function(e){var t,o,n,i,s;if(e.preventDefault(),(s=r.F.wordCount(this.$(".title-edit").val()).words)<5&&(this.$(".error-div").removeClass("hide"),n=0===s?"This is a required field.":"Question is too short.",this.$(".error-div").children(".col-sm-12").text(n),this.$(".tip").addClass("hide"),o=!0),!o&&!this.validateAskQuestionCount())return $(".save-discussion").addClass("loading"),this.model.set("body",r.F.TRIM_EMPTY_SPACES_IN_EDITOR(r.F.formatEditorContents(this.editor))),i={patch:!0,success:function(e){return function(){var t;return e.setDescription(),t=r.D.HIGHLIGHT_SEARCH(e.model.get("title"),"highlight"),e.$(".title").html(t),e.switchToViewMode(),$(".save-discussion").removeClass("loading")}}(this),error:function(e){return function(e,t){return $(".save-discussion").removeClass("loading"),r.ERR.SHOW(t)}}(this)},t={body:this.model.get("body"),title:this.model.get("title"),contextPk:parseInt(this.$(".tag-by").val())},this.model.save(t,i)},t.prototype.switchToViewMode=function(){return this.$(".view-question-div").removeClass("hide"),this.$(".edit-question-div").addClass("hide")},t.prototype.validateAskQuestionCount=function(){return r.F.wordCount(this.$(".title-edit").val()).words>50?(this.$(".error-div").removeClass("hide"),this.$(".error-div").children(".col-sm-12").text("To keep the question accurate, it can't exceed 50 words,  Use the description field above to add more details. It has "+r.F.wordCount(this.$(".title-edit").val()).words+" words."),this.$(".tip").addClass("hide"),!0):(this.$(".error-div").addClass("hide"),this.$(".tip").removeClass("hide"),!1)},t.prototype.openQuestionInDiscussionForum=function(){var e;return e={scrollTo:"question/"+this.model.get("id")},v.set("discussionQuestionId",this.model.id),g.navigate("/v/course/"+v.get("courseId")+"/question/"+this.model.id),r.trigger(r.E.SHOW_QUESTION_DETAILS,e),r.T.MIXPANEL_TRACK("Click Forum Button",{type:"View in Discussion Forum","ref page":"DIC View in Discussion Forum"})},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t.prototype.hide=function(){var e;return this.removeCkeditorEvents(),this.$(".view-question-div").empty(),this.$(".edit-question-div").empty(),this.$("#context-answers-list .context-answers-list").empty(),null!=(e=this.answersView)&&e.remove(),this.answersView=null,this.$el.addClass("hide")},t}(i),C.extend(a.prototype,l,w,_,p,h),t.exports=new a},{"../../../collections/discussions/discussion-questions":16,"../../../collections/discussions/my-bookmarks-collection":19,"../../../collections/sessions":33,"../../../models/config-model":54,"../../../models/discussions/discussion-question-model":62,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/base-view":99,"../../helpers/feature-flags-helper":103,"../../helpers/snackbar":109,"../../prevent-form-submit-image-upload-support":116,"../../student-router":117,"../../viewer/discussion-question-view-mixin":174,"../pin-support":222,"../upvotes-support":274,"../user-image-initials-support":275,"./context-answers-view":146,"./context-question-item-view":153,backbone:318,"backbone.stickit":317,underscore:445}],153:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f=function(e,t){function o(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},m={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),h=e("underscore"),n.$=$,l=e("../../student-router"),r=e("../../helpers/base-view"),c=e("../../../models/shared-model"),u=e("../../../collections/discussions/discussion-questions"),p=e("../../../models/user-model"),i=e("../../../models/config-model"),d=e("../user-image-initials-support"),a=e("../../helpers/feature-flags-helper"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.className="discussion-question item col-sm-12",t.prototype.template=function(){return h.template($("#context-discussion-question-template").html())},t.prototype.userImageSelector=".question-item-image",t.prototype.type="question",t.prototype.bindings={".question-name":{observe:"owner",onGet:function(){var e;return null!=(e=this.model.get("owner"))?e.fullname:void 0}},".question-item-image":{attributes:[{name:"src",observe:"owner",onGet:function(){return this.model.get("owner").photo}}]},".context":{observe:"context",onGet:function(){return this.model.get("context").label}},".answers-count":{observe:"context",onGet:function(){return this.model.get("answerCount")?this.model.get("answerCount")+" answers":""}},".question-title":"title",".title-edit":"title",".vote-count":"votes",".starred-block":{observe:"isStarred",update:function(e,t){if(a.isTaStarEnabled())return t?e.removeClass("hide"):e.addClass("hide")}},".question-timeago":{attributes:[{name:"title",observe:"createdAt"}]}},t.prototype.events={click:"showContextQuestionDetails","click .answer-question":"showContextQuestionDetails"},t.prototype.initialize=function(e){return h.bindAll(this,"render","setDescription"),this.listenTo(this.model,"destroy",this.remove),t.__super__.initialize.call(this)},t.prototype.render=function(){var e;return this.$el.html(this.template()()),this.$(".discussion-description").addClass("hide"),this.stickit(),e=n.D.HIGHLIGHT_SEARCH(this.model.get("title"),"highlight"),this.$(".title").html(e),this.setDescription(),this.updateButtons(),this.checkTAQuestions(),this.user=this.model.get("owner"),this.replaceWithProfilePic(),this.$el},t.prototype.showContextQuestionDetails=function(){return n.T.MIXPANEL_TRACK("Viewed A Question",{"Segment Id":c.get("segmentId").toString(),"Question Id":this.model.get("id").toString()||"","Ref Page":"DIC"}),n.trigger(n.E.SHOW_CONTEXT_QUESTION_DETAILS,{modelId:this.model.get("id"),retainSearch:!0})},t.prototype.checkTAQuestions=function(){if(this.model.get("owner").isTA)return n.F.APPEND_QUARTER_LOGO(this.$(".discussion-user-image-question"))},t.prototype.setDescription=function(){var e;return this.model.get("annotations")&&(e=h.find(this.model.get("annotations"),function(e){return"green-label"===e.type}),e?this.$(".ta-verified").removeClass("hide"):this.$(".ta-verified").addClass("hide")),this.$(".description").html(this.model.get("body"))},t.prototype.updateButtons=function(){if(n.F.MOMENT_TIME(this.$(".question-timeago")),!this.model.get("answerCount"))return this.$(".answer-question").removeClass("hide")},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t}(n.View),h.extend(s.prototype,d),t.exports=s},{"../../../collections/discussions/discussion-questions":16,"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/base-view":99,"../../helpers/feature-flags-helper":103,"../../student-router":117,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],154:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y,v=function(e,t){function o(){this.constructor=e}for(var n in t)b.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},b={}.hasOwnProperty;r=e("backbone"),y=e("underscore"),r.$=$,i=e("../../helpers/base-view"),s=e("../../helpers/collection-view-support"),m=e("../../../models/shared-model"),p=e("../../../collections/discussions/discussion-questions"),u=e("./context-question-item-view"),a=e("../../../models/config-model"),g=e("../../../models/user-model"),n=e("../../../models/account-settings-model"),c=e("../discussions/discussions-collection-handler"),h=e("../../student-router"),f=e("../../../collections/discussions/session-discussion-questions"),d=e("../../helpers/feature-flags-helper"),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype.viewIdentifier="contextQuestionsList",t.prototype.itemViewClass=u,t.prototype.el="#context-discussions-main",t.prototype.appendToDivSelector="#context-questions-list",t.prototype.collection=p,t.prototype.initialize=function(){return this.bindCollectionSupportMethods(),this.subViews={},y.bindAll(this,"show","hide","handleSearch"),this.listenTo(r,r.E.SHOW_CONTEXT_DISCUSSION_QUESTIONS,this.show),t.__super__.initialize.call(this)},t.prototype.events={"keyup .search-input":"handleSearch","click .search-btn":"handleSearch","click .view-session-questions-in-forum":"goToDiscussionForum","click .star-checkbox":"getStarredQuestions"},t.prototype.show=function(e){return this.$(".no-results, .no-questions").addClass("hide"),m.resetCurrentSubView(this.viewIdentifier),this.addCollectionListeners(),this.showSegmentHeader(),this.$(".search-input").val(""),this.enableStarringCheckbox(),this.defaultQuestionslist(),this.addAll(),$(".drawer-action .ask-question").removeClass("hide"),this.$('[data-toggle="tooltip"]').tooltip(),this.showStarredFilter(),this.$el.removeClass("hide")},t.prototype.enableStarringCheckbox=function(){return d.isTaStarEnabled()?this.$(".is-starred").removeClass("hide"):this.$(".is-starred").addClass("hide")},t.prototype.showStarredFilter=function(){return m.get("startupIndia")?this.$(".is-starred").addClass("hide"):this.$(".is-starred").removeClass("hide")},t.prototype.hide=function(){return this.removeCollectionListeners(),$(".drawer-action .ask-question").addClass("hide"),this.$el.addClass("hide")},t.prototype.hideEmptyStates=function(){return this.$(".no-questions, .no-starred-questions, .no-results").addClass("hide")},t.prototype.handleSearch=function(e){var t,o;return this.hideEmptyStates(),t=function(e){return function(){var t,n,r,i;return i=e.$(".search-input").val().trim(),r=!0,i?(n=!0,t=!1,c.search(i,f,o,n,t,e.showStarred)):e.defaultQuestionslist()}}(this),o=function(e){return function(){return f.length||e.$(".no-results").removeClass("hide"),e.hideSegmentHeader()}}(this),r.F.SEARCH_DELAY(t,200)},t.prototype.defaultQuestionslist=function(){var e,t,o;return t={segmentId:m.get("segmentId")},e=function(e){return function(){return e.showSegmentHeader(),r.trigger(r.E.SHOW_SESSION_DISCUSSION_QUESTIONS),f.length||p.length?e.$(".no-questions").addClass("hide"):e.$(".no-questions").removeClass("hide"),f.length?e.$(".session-header, .view-session-questions-in-forum").removeClass("hide"):e.$(".session-header, .view-session-questions-in-forum").addClass("hide")}}(this),this.fetchQuestions(p,t,e),o={sessionId:m.get("sessionId"),"~segmentId":m.get("segmentId")},this.fetchQuestions(f,o,e)},t.prototype.fetchQuestions=function(e,t,o){return this.showStarred&&(t.starred=!0),e.fetch({data:t,reset:!0,success:function(e){return function(){if(o)return o()}}(this),error:function(e){return function(e){return r.ERR.SHOW(e)}}(this)})},t.prototype.showSegmentHeader=function(){return this.$("#context-questions-list").removeClass("hide"),this.$(".session-header").removeClass("hide"),this.$(".view-session-questions-in-forum").removeClass("hide")},t.prototype.hideSegmentHeader=function(){return this.$("#context-questions-list").addClass("hide"),this.$(".session-header").addClass("hide"),this.$(".view-session-questions-in-forum").addClass("hide")},t.prototype.goToDiscussionForum=function(e){var t,o,n,i,s;return t=(null!=(n=p.first())?n.get("context").pk:void 0)||(null!=(i=f.first())?i.get("context").pk:void 0),s=window.location.origin+("/v/course/"+m.get("courseId")+"/discussions#"+t),window.open(s,"_blank"),o="View All in Discussion Forum",r.T.MIXPANEL_TRACK("Click Forum Button",{"ref page":o})},t.prototype.trackEvent=function(e){return r.T.MIXPANEL_TRACK("Starred Filter DIC",{starred:e})},t.prototype.getStarredQuestions=function(){return this.showStarred=this.$(".star-checkbox").is(":checked"),this.showStarred?this.trackEvent("applied"):this.trackEvent("removed"),this.handleSearch()},t}(i),y.extend(l.prototype,s),t.exports=new l},{"../../../collections/discussions/discussion-questions":16,"../../../collections/discussions/session-discussion-questions":21,"../../../models/account-settings-model":44,"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"../../helpers/feature-flags-helper":103,"../../student-router":117,"../discussions/discussions-collection-handler":185,"./context-question-item-view":153,backbone:318,underscore:445}],155:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f=function(e,t){function o(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},m={}.hasOwnProperty;r=e("backbone"),h=e("underscore"),r.$=$,i=e("../../helpers/base-view"),s=e("../../helpers/collection-view-support"),d=e("../../../models/shared-model"),u=e("./context-question-item-view"),a=e("../../../models/config-model"),p=e("../../../models/user-model"),n=e("../../../models/account-settings-model"),c=e("../../../collections/discussions/session-discussion-questions"),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.el="#session-questions",t.prototype.itemViewClass=u,t.prototype.appendToDivSelector="#session-questions-list",t.prototype.collection=c,t.prototype.events={"click .view-all-in-forum":"openDiscussionForum"},t.prototype.initialize=function(){return this.bindCollectionSupportMethods(),this.subViews={},h.bindAll(this,"show","hide"),this.listenTo(r,r.E.SHOW_SESSION_DISCUSSION_QUESTIONS,this.show),t.__super__.initialize.call(this)},t.prototype.show=function(e){return this.addCollectionListeners(),this.addAll(),this.$el.removeClass("hide"),this.$("#session-questions-list .discussion-question:gt(9)").addClass("hide")},t.prototype.hide=function(){return this.removeCollectionListeners(),this.$el.addClass("hide")},t.prototype.openDiscussionForum=function(){return Router.navigate("/v/course/"+d.get("courseId")+"/discussions"),r.trigger(r.E.SHOW_DISCUSSION_FORUM,{contextPk:d.get("contextPk")})},t}(i),h.extend(l.prototype,s),t.exports=new l},{"../../../collections/discussions/session-discussion-questions":21,"../../../models/account-settings-model":44,"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"./context-question-item-view":153,backbone:318,underscore:445}],156:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y,v=function(e,t){function o(){this.constructor=e}for(var n in t)b.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},b={}.hasOwnProperty;r=e("backbone"),y=e("underscore"),e("backbone.stickit"),r.$=$,i=e("../../helpers/base-view"),f=e("../../../models/shared-model"),d=e("../../../models/discussions/discussion-question-model"),h=e("../../student-router"),g=e("../../../models/user-model"),m=e("../user-image-initials-support"),a=e("./context-question-item-view"),l=e("../discussions/discussions-collection-handler"),p=e("../../../collections/discussions/discussion-questions"),n=e("./context-answers-view"),s=e("../../../models/config-model"),c=e("../../prevent-form-submit-image-upload-support"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype.viewIdentifier="createContextQuestion",t.prototype.el="#create-context-question",t.prototype.template=function(){return y.template($("#context-discussion-question-edit-template").html())},t.prototype.userImageSelector=".question-item-image",t.prototype.type="question",t.prototype.events={"click .back":"backToAllDiscussions","click .cancel-edit":"backToAllDiscussions","submit .create-question-form":"save"},t.prototype.bindings={".title-edit":"title"},t.prototype.initialize=function(){return y.bindAll(this,"backToAllDiscussions","show","remove","hide","validateAskQuestionCount","trackSegmentQuestionAsked"),this.listenTo(r,r.E.SHOW_CREATE_CONTEXT_QUESTION,this.show),this.listenTo(g,"change:profilePic",this.updateProfilePic),this.initializeModel(),this.updateProfilePic(),this.bindCkEditorEvents(),t.__super__.initialize.call(this)},t.prototype.checkTAQuestions=function(){if(this.model.get("owner").isTA)return r.F.APPEND_QUARTER_LOGO(this.$(".discussion-user-image-question"))},t.prototype.restrictEnterInTitle=function(){return this.$(".title-edit").keypress(function(e){return function(t){return 13===t.keyCode?(t.preventDefault(),e.$(".title-edit").tooltip({placement:"bottom",title:"Line spaces are not allowed in questions to keep them concise. Please use description to add more details."}),e.$(".title-edit").tooltip("show")):e.removeToolTip()}}(this))},t.prototype.removeToolTip=function(){return this.$(".title-edit").tooltip("destroy")},t.prototype.updateProfilePic=function(){return this.user=g.toJSON(),this.replaceWithProfilePic()},t.prototype.initializeModel=function(){return this.unstickit(),this.model=new d,this.stickit()},t.prototype.save=function(e){var t,o,n,i,s,a;if(e.preventDefault(),n=this.model.isNew(),(a=r.F.wordCount(this.$(".title-edit").val()).words)<5&&(this.$(".error-div").removeClass("hide"),i=0===a?"This is a required field.":"Question is too short.",this.$(".error-div").children(".col-sm-12").text(i),this.$(".tip").addClass("hide"),o=!0),!o&&!this.validateAskQuestionCount())return this.$(".save-discussion").addClass("loading"),this.model.set("body",this.getEditorContent()),s={success:function(e){return function(t,o){return e.trackSegmentQuestionAsked(t),$(".save-discussion").removeClass("loading"),parseInt(f.get("segmentId"))===e.model.get("context").pk&&(p.add(e.model,{silent:!0}),p.trigger("prepend",e.model)),e.initializeModel(),l.clearCache(),r.trigger(r.E.SHOW_CONTEXT_QUESTION_DETAILS,{modelId:t.get("id"),retainSearch:!1})}}(this),error:function(e){return function(e,t){return $(".save-discussion").removeClass("loading"),r.ERR.SHOW(t)}}(this)},n?(this.model.set("sessionId",parseInt(f.get("sessionId"))),this.model.set("segmentId",parseInt(f.get("segmentId"))),t=this.model.toJSON()):(s.patch=!0,t={context:this.model.get("context"),body:this.model.get("body"),title:this.model.get("title")}),this.model.save(t,s)},t.prototype.getEditorContent=function(){return r.F.TRIM_EMPTY_SPACES_IN_EDITOR(this.editor.getData())},t.prototype.backToAllDiscussions=function(){return r.trigger(r.E.SHOW_CONTEXT_DISCUSSION_QUESTIONS)},t.prototype.addValidationOnDescription=function(){var e;return e=CKEDITOR.instances["context-discussion-description"].getData(),e?(this.$(".description-error").addClass("hide"),!0):(this.$(".description-error").removeClass("hide"),!1)},t.prototype.trackSegmentQuestionAsked=function(e){var t;return r.T.MIXPANEL_TRACK("New Forum Question Created",{"Segment Id":f.get("segmentId").toString(),"Question Id":e.id.toString()||"","Ref Page":"DIC"}),r.T.MIXPANEL_INCREMENT_PROPERTY("Forum Questions Asked"),t=new Date,r.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Forum Activity":t.toISOString()}),r.T.TAG_SESSION("Forum Question Asked")},t.prototype.show=function(){return f.resetCurrentSubView(this.viewIdentifier),this.model=new d,this.$("#new-context-question").html(this.template()()),this.editor=CKEDITOR.replace("context-discussion-description"),this.$(".title-edit").keyup(function(e){return function(){return e.validateAskQuestionCount()}}(this)),this.initializeModel(),this.restrictEnterInTitle(),this.user=g.toJSON(),this.replaceWithProfilePic(),this.$(".loader-div").removeClass("hide"),this.addCkeditorEvents(),this.$el.removeClass("hide")},t.prototype.validateAskQuestionCount=function(){return r.F.wordCount(this.$(".title-edit").val()).words>50?(this.$(".error-div").removeClass("hide"),this.$(".error-div").children(".col-sm-12").text("To keep the question accurate, it can't exceed 50 words,  Use the description field above to add more details. It has "+r.F.wordCount(this.$(".title-edit").val()).words+" words."),this.$(".tip").addClass("hide"),!0):(this.$(".error-div").addClass("hide"),this.$(".tip").removeClass("hide"),!1)},t.prototype.hide=function(){return this.removeCkeditorEvents(),this.$("#new-context-question").empty(),this.$el.addClass("hide")},t}(i),y.extend(u.prototype,m,c),t.exports=new u},{"../../../collections/discussions/discussion-questions":16,"../../../models/config-model":54,"../../../models/discussions/discussion-question-model":62,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/base-view":99,"../../prevent-form-submit-image-upload-support":116,"../../student-router":117,"../discussions/discussions-collection-handler":185,"../user-image-initials-support":275,"./context-answers-view":146,"./context-question-item-view":153,backbone:318,"backbone.stickit":317,underscore:445}],157:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,u=e("../../../models/shared-model"),a=e("../../student-router"),i=e("../discussions/discussions-collection-handler"),s=e("../../helpers/platform-access-helper"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.className="course-item item",t.prototype.template=function(){return l.template($("#course-template").html())},t.prototype.events={click:"selectCourseAndRenderDashboard"},t.prototype.initialize=function(e){return l.bindAll(this,"render","selectCourseAndRenderDashboard","setCourseProgress"),this.listenTo(this.model,"showProgress",this.setCourseProgress)},t.prototype.render=function(){return this.$el.html(this.template()(this.model.toJSON())),this.setTopBorder(),this.setCourseStatus(),this.setCourseProgress(),this.$el},t.prototype.selectCourseAndRenderDashboard=function(){var e;return"ACTIVE"===this.model.get("status")&&(this.model.get("course").id!==parseInt(Cookies.get("upgrad-last-active-course-id"))&&(n.trigger(n.E.CLEAR_COURSE_SPECIFIC_DATA),n.trigger(n.E.HIDE_MODULE_PROGRESS),Cookies.set("upgrad-last-active-course-id",this.model.get("course").id),n.F.SET_COURSE_DATA(this.model.get("course")),n.F.SHOW_MAINTENANCE_MESSAGE(),i.initAlgoliaClient()),e=!0,n.trigger(n.E.FETCH_CONFIG_AND_BUILD_APP,function(e){return function(){return a.navigate("/v/course/"+u.get("courseId")+"/dashboard",!0)}}(this),"dashboard",e))},t.prototype.setCourseStatus=function(){var e,t,o,n;if("ACTIVE"!==this.model.get("status"))return this.$el.addClass("locked"),e=null!=(o=s.enrollmentStates[this.model.get("status")])?o.title:void 0,"PAYMENT_PENDING"===this.model.get("status")&&(t=s.generatePaymentUrl(null!=(n=this.model.get("course"))?n.programKey:void 0),e+='<span> <span class="make-payment">Click here</span> to make the payment.</span>',this.$el.on("click",".make-payment",function(){return window.open(t,"_blank")})),this.$(".error-message").html(e)},t.prototype.setCourseProgress=function(e){var t,o;return t=this.model.get("course").availableFromIso,o=this.model.get("course").courseConfiguration.timezone,moment(t).diff(moment())>0?(this.$(".course-progress-section").addClass("hide"),this.$(".course-date-section").removeClass("hide"),this.$(".course-progress-text").text("Course begins : "),this.$(".course-date-section").text(n.F.formattedDateWithTimezone(t,{format:"Do MMM YYYY",timezone:o,removeTimeZoneAbbr:!0}))):e&&e.userProgress?(this.$(".course-progress-section").removeClass("hide"),this.$(".course-date-section").addClass("hide"),this.$(".user-course-progress").css("width",Math.floor(e.userProgress)+"%")):void 0},t.prototype.setTopBorder=function(){return this.$(".course-item-border-top").css("border-top","7px solid "+this.model.get("course").color)},t.prototype.destroy=function(){return this.$el.off(),this.stopListening(),this.$el.remove()},t}(n.View),t.exports=r},{"../../../models/shared-model":85,"../../helpers/platform-access-helper":107,"../../student-router":117,"../discussions/discussions-collection-handler":185,backbone:318,underscore:445}],158:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),c=e("underscore"),r=e("../../helpers/base-view"),i=e("./course-item-view"),l=e("../../../models/shared-model"),u=e("../../../collections/enrollments"),a=e("../../../models/progress-models/enrolled-courses-progress"),n.$=$,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.el="#courses",t.prototype.viewIdentifier="courseView",t.prototype.initialize=function(){return c.bindAll(this,"show","addAllModels","add"),this.collection=u,this.listenTo(n,n.E.SHOW_COURSES,this.show),this.listenTo(n,n.E.SHOW_PROGRESS_FOR_ENROLLED_COURSES,this.addProgress),t.__super__.initialize.call(this)},t.prototype.show=function(){return l.resetCurrentView(this.viewIdentifier),$(".course-element").addClass("hide"),$(".demo-apply-now-block").addClass("hide"),$(".upgrad-full-logo").removeClass("hide"),n.trigger(n.E.HIDE_MENU_ITEM,"referral"),n.trigger(n.E.HIDE_MENU_ITEM,"calendar"),u.length?(this.setCourseColors(),this.collection.rendered||(this.addAllModels(),this.collection.rendered=!0),this.$el.removeClass("hide")):this.showNotEnrolled()},t.prototype.addAllModels=function(){return this.collection.each(this.add)},t.prototype.showNotEnrolled=function(){var e;return l.get("user")&&(e=l.get("user").email),n.trigger(n.E.SHOW_PLATFORM_ACCESS_ERROR,"ZERO_ENROLLED"),$(".logged-in-email-id").text(e+".")},t.prototype.addProgress=function(){return u.each(function(e){return function(e){var t,o;return t=e.get("course").id,o=a.get(t),e.trigger("showProgress",o)}}(this))},t.prototype.setCourseColors=function(){var e;return this.courseColors=["#F66B68","#5097E2","#1CB9C7","#F7915E","#34ADA3","#3F6799","#6458A6","#2D92BA","#C24C65","#F7AF43"],
e=0,u.each(function(t){return function(o){var n,r;return r=o.get("course").id,n=o.get("course"),n.color=t.courseColors[e],e=e===t.courseColors.length-1?0:e+1}}(this))},t.prototype.hide=function(){return $(".upgrad-full-logo").addClass("hide"),$(".course-element").removeClass("hide"),n.F.isDemoPlatform()&&$(".demo-apply-now-block").removeClass("hide"),n.trigger(n.E.SHOW_MENU_ITEM,"referral"),n.trigger(n.E.SHOW_MENU_ITEM,"calendar"),this.$el.addClass("hide")},t.prototype.add=function(e){var t,o,n;return o=this.addEachItem(e),(null!=(n=e.get("course"))?n.isDemo:void 0)?(this.$(".demo-courses-header").removeClass("hide"),this.appendToDivSelector=".demo-courses-list"):(this.$(".courses-header").removeClass("hide"),this.appendToDivSelector=".enrollments-list"),t=this.$el.find(this.appendToDivSelector),t.append(o)},t.prototype.addEachItem=function(e){var t,o,n;return o=new i({model:e}),n=(e.constructor.name||e.modelEl).toLowerCase()+"-"+e.cid,t=o.render(),t.addClass(n),t},t}(r),t.exports=new s},{"../../../collections/enrollments":23,"../../../models/progress-models/enrolled-courses-progress":76,"../../../models/shared-model":85,"../../helpers/base-view":99,"./course-item-view":157,backbone:318,"backbone.stickit":317,underscore:445}],159:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),s=e("underscore"),n.$=$,i=e("../../models/shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.className="cue-point",t.prototype.template=function(){return s.template($("#cue-point-template").html())},t.prototype.initialize=function(e){return s.bindAll(this,"render","destroy"),this.listenTo(this.model,"destroy",this.destroy),this.listenTo(this.model,"removeCuePointElement",this.destroy),this.listenTo(this.model,"change:timeStamp",this.updatePosition),this.componentModel=e.componentModel},t.prototype.render=function(){var e;return this.$el.html(this.template()()),e=this.model.get("timeStamp"),this.$el.addClass("cue-point-"+e),this.updatePosition(),this.$el},t.prototype.updatePosition=function(){var e,t,o,n;if(e=null!=(o=this.componentModel.get("video"))?o.viewingTime:void 0)return n=this.model.get("timeStamp"),t=n/e*100+"%",this.$el.css("left",t)},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=r},{"../../models/shared-model":85,backbone:318,underscore:445}],160:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;e("backbone.stickit"),i=e("backbone"),d=e("underscore"),i.$=$,l=e("../../../models/shared-model"),s=e("../../helpers/base-view"),c=e("../../../models/user-model"),n=e("../../../models/account-settings-model"),u=e("../../student-router"),a=e("../../../collections/enrollments"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.el="#accountSettings",t.prototype.viewIdentifier="accountSettingsView",t.prototype.bindings={".phoneNumber":{observe:"phoneNumber",onGet:function(){return c.get("phoneNumber")}},".user-email":{observe:"email",onGet:function(){return c.get("email")}}},t.prototype.events={"submit .account-settings-form":"changePassword","click #myonoffswitch":"allNotificationsClick","click .phone-number-edit":"editPhoneNumber","click .password-edit":"editPassword","click .cancel-edit-field":"cancelPasswordEdit","submit .notification-options-form":"changeNotificationSettings"},t.prototype.initialize=function(){return d.bindAll(this,"render","showView","hide","changePassword","validateChangePassword","resetChangePassword","allNotificationsClick","editPhoneNumber","editPassword","cancelPasswordEdit","changeNotificationSettings"),this.listenTo(i,i.E.SHOW_ACCOUNT_SETTINGS,this.showView),this.listenTo(i,i.E.ACCOUNT_SETTINGS_SHOW,this.show),this.listenTo(i,i.E.ACCOUNT_SETTINGS_HIDE,this.hide),this.validateChangePassword(),this.model=c,this.stickit(),t.__super__.initialize.call(this)},t.prototype.showView=function(){return l.resetCurrentView(this.viewIdentifier),i.F.fetchAccountSettings(function(e){return function(){return i.F.HIDE_LOADER(),e.$el.removeClass("hide"),e.resetChangePassword()}}(this)),i.trigger("pageShown:"+this.viewIdentifier),i.trigger(i.E.SHOW_CAREER_BLOCKER)},t.prototype.show=function(){return this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$el.addClass("hide")},t.prototype.updateNotificationSettings=function(){var e,t;return t=n.get("forum"),this.$(".upvote").prop("checked",t.upvote),this.$(".comment").prop("checked",t.comment),this.$(".response").prop("checked",t.response),this.$(".bookmark").prop("checked",t.bookmark),this.$(".response-on-followed-post").prop("checked",t.responseOnFollowedPost),e=["upvote","comment","response","bookmark","responseOnFollowedPost"].every(function(e){return t[e]}),e?this.$("#myonoffswitch").prop("checked",!0):this.$("#myonoffswitch").prop("checked",!1)},t.prototype.cancelPasswordEdit=function(e){return this.resetChangePassword(),this.$(".old-password-field,.new-password-field,.new-password-confirm-field").addClass("hide"),this.$(".password-block").removeClass("hide")},t.prototype.editPassword=function(e){return this.$(".old-password-field,.new-password-field,.new-password-confirm-field").removeClass("hide"),this.$(".password-block").addClass("hide")},t.prototype.allNotificationsClick=function(e){return this.$(e.currentTarget).is(":checked")?this.$(".notification-item-checkbox").prop("checked",!0):this.$(".notification-item-checkbox").prop("checked",!1)},t.prototype.editPhoneNumber=function(e){return this.$(".phoneNumber").removeAttr("readonly"),this.$(".phoneNumber").focus()},t.prototype.validateChangePassword=function(){return this.changePasswordForm=$(".account-settings-form").validate({rules:{oldpassword:{required:!0,minlength:8},newpassword:{required:!0,maxlength:255,minlength:8,notEqual:"#oldpassword"},confirmpassword:{required:!0,minlength:8,equalTo:"#newpassword",notEqual:"#oldpassword"},phonenumber:{required:!0,minlength:10,maxlength:10}},messages:{confirmpassword:{equalTo:"Please enter the password as above."}}}),$.validator.addMethod("notEqual",function(e,t,o){return e!==$(o).val()},"Please enter a different password from old password")},t.prototype.resetChangePassword=function(){return this.$("#oldpassword").val(""),this.$("#newpassword").val(""),this.$("#confirmpassword").val(""),this.$(".old-password-field,.new-password-field,.new-password-confirm-field").addClass("hide"),this.$(".password-block").removeClass("hide")},t.prototype.changePassword=function(e){var t,o,n,r;if($(e.currentTarget).valid())return this.$("#changePassword").addClass("mbtn-loader"),i.F.REMOVE_MESSAGE(),e.preventDefault(),n={oldPassword:$("input[name='oldpassword']").val(),newPassword:$("input[name='newpassword']").val(),confirmPassword:$("input[name='confirmpassword']").val(),phoneNumber:$("input[name='phonenumber']").val()},o={sessionId:Cookies.get("session-id")},this.$(".account-settings-save").addClass("loading"),this.$(".password-phone-ajax-message").addClass("hide"),this.$(".password-phone-ajax-message").removeClass("alert-success,alert-danger"),r=function(e){return function(t){return e.$(".password-phone-ajax-message").removeClass("hide"),e.$(".password-phone-ajax-message").addClass("alert-success"),e.$(".password-phone-ajax-message").text("Your changes have been saved successfully."),e.$(".account-settings-save").removeClass("loading"),e.resetChangePassword()}}(this),t=function(e){return function(t){return e.$(".password-phone-ajax-message").removeClass("hide"),e.$(".account-settings-save").removeClass("loading"),i.ERR.SHOW(t,e.$(".password-phone-ajax-message"))}}(this),i.F.AJAX("PUT",i.C.MEDIA_PATH()+"/v2/users/account",r,t,JSON.stringify(n))},t.prototype.changeNotificationSettings=function(e){var t,o,r,s;return e.preventDefault(),r={forum:{upvote:this.$(".upvote").prop("checked"),comment:this.$(".comment").prop("checked"),response:this.$(".response").prop("checked"),bookmark:this.$(".bookmark").prop("checked"),responseOnFollowedPost:this.$(".response-on-followed-post").prop("checked"),flag:!1,commentOnFollowedPost:!1}},o={sessionId:Cookies.get("session-id")},this.$(".notification-settings-save").addClass("loading"),this.$(".notification-settings-ajax-message").addClass("hide"),this.$(".notification-settings-ajax-message").removeClass("alert-success,alert-danger"),s=function(e){return function(t){return t.success&&0===t.errorList.length&&(e.$(".notification-settings-ajax-message").removeClass("hide"),e.$(".notification-settings-ajax-message").addClass("alert-success"),e.$(".notification-settings-ajax-message").text("Your changes have been saved successfully.")),e.$(".notification-settings-save").removeClass("loading"),n.set("forum",r.forum)}}(this),t=function(e){return function(t){return e.$(".notification-settings-ajax-message").removeClass("hide"),e.$(".notification-settings-save").removeClass("loading"),i.ERR.SHOW({responseJSON:t,status:t.status},e.$(".notification-settings-ajax-message"))}}(this),i.F.AJAX("PUT",i.C.MEDIA_PATH()+"/v2/usersettings",s,t,JSON.stringify(r))},t}(s),t.exports=new r},{"../../../collections/enrollments":23,"../../../models/account-settings-model":44,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/base-view":99,"../../student-router":117,backbone:318,"backbone.stickit":317,underscore:445}],161:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),u=e("underscore"),n.$=$,i=e("../../../models/shared-model"),a=e("../../../models/user-model"),s=e("../user-image-initials-support"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.el="#course-progress",t.prototype.userImageSelector=".course-progress-image",t.prototype.events={},t.prototype.bindings={".percentange-progress":{observe:"course",onGet:function(){return this.model.get("course").userProgress+"%"}},".rank":{observe:"forum",onGet:function(){return this.model.get("forum").rank}},".level":{observe:"forum",onGet:function(){return this.model.get("forum").levelName}},".score":{observe:"forum",onGet:function(){return this.model.get("forum").score}},progress:{attributes:[{observe:"course",name:"value",onGet:function(){return this.model.get("course").userProgress}}]}},t.prototype.initialize=function(){return u.bindAll(this,"show","setData","hide"),this.listenTo(n,n.E.SHOW_COURSE_PROGRESS,this.show),this.listenTo(n,n.E.HIDE_COURSE_PROGRESS,this.hide),this.listenTo(a,"change:profilePic",this.updateProfilePic),t.__super__.initialize.call(this)},t.prototype.show=function(e){return this.model=e,this.setData(),this.$el.removeClass("hide"),this.updateProfilePic(),this.stickit()},t.prototype.updateProfilePic=function(){return this.user=a.toJSON(),this.replaceWithProfilePic()},t.prototype.setData=function(){var e;return this.$(".username").text(a.get("name")),this.$(".small-img").attr("src",null!=(e=a.get("profilePic"))?e.url:void 0)},t.prototype.hide=function(){return this.$el.addClass("hide")},t}(n.View),u.extend(r.prototype,s),t.exports=new r},{"../../../models/shared-model":85,"../../../models/user-model":87,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],162:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;l=e("underscore"),e("backbone.stickit"),n=e("backbone"),n.$=$,a=e("../../helpers/rating-widget-view"),r=e("../../../models/lecture-feedback-model"),s=e("../../../models/lecture-model"),u=e("../../../models/shared-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.el="#lecture-feedback-modal",t.prototype.bindings={".options-placeholder":{observe:"reasons",update:"addOptions"}},t.prototype.events={"click .submit-btn":"submitRate","click .custom-checkbox-container":"toggleCheckBox","hidden.bs.modal":"destroy","keyup .comment-box":"callToggleSubmitBtn"},t.prototype.selectedReasons=[],t.prototype.selectedRating=0,t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_LECTURE_FEEDBACK,this.render),this.model=new n.Model({reasons:this.getReasons()})},t.prototype.render=function(){return this.addBody(),this.$el.modal({show:!0,keyboard:!1}),this.stickit()},t.prototype.addBody=function(){return this.ratingWidgetView=new a,this.listenTo(this.ratingWidgetView,"RATING_SELECTED",this.ratingSelected),this.$(".rating-star-placeholder").html(this.ratingWidgetView.render())},t.prototype.getReasons=function(){return["Content","Professor","Technology","Others"]},t.prototype.ratingSelected=function(e){return this.$(".options-and-comment-wrapper").removeClass("disable"),this.selectedRating=e,e<5?(this.$(".reasons-placeholder .title").text("Let us know how we can improve"),0===this.selectedReasons.length?this.$(".submit-btn").addClass("disabled"):void 0):this.$(".reasons-placeholder .title").text("Let us know what you liked the most")},t.prototype.addOptions=function(e,t,o,n){return t.length>0?(n="",l.each(t,function(e){return n+=l.template($("#lecture-feedback-options-template").html())({label_text:e})}),e.html(n),this.$(".reasons-placeholder").removeClass("hide")):this.$(".reasons-placeholder").addClass("hide")},t.prototype.submitRate=function(e){var t;return this.$(".submit-btn").addClass("mbtn-loader"),r.set({batchId:s.get("id"),classScheduleId:null!=(t=s.get("lecture"))?t.id:void 0,instructorRating:this.selectedReasons.toString(),subjectiveFeedback:this.$(".comment-box").val().trim(),lectureRating:this.selectedRating}),r.save(null,{success:function(e){return function(t,o){return e.$(".submit-btn").removeClass("mbtn-loader"),o.status?(e.toggleSubmitBtn(!1),e.hide(),n.F.ADD_INFO(o.message)):n.ERR.SHOW(o.message,e.$(".modal-error-space"))}}(this),error:function(e){return function(t,o){return n.ERR.SHOW(o,e.$(".modal-error-space")),e.$(".submit-btn").removeClass("mbtn-loader"),r.rollback()}}(this)})},t.prototype.toggleCheckBox=function(e){var t;return t=$(e.currentTarget).find(".custom-check-box"),t.toggleClass("checked unchecked"),t.hasClass("checked")?this.selectedReasons.push(t.siblings(".reason-label").html()):this.selectedReasons.splice(this.selectedReasons.indexOf(t.siblings(".reason-label").html()),1),this.toggleSubmitBtn(this.selectedReasons.length>0),this.callToggleSubmitBtn()},t.prototype.callToggleSubmitBtn=function(){var e,t;if(t=this.selectedReasons.indexOf("Others")!==-1,e=this.$(".comment-box").val().trim().length>0,t)return this.toggleSubmitBtn(e)},t.prototype.toggleSubmitBtn=function(e){return e?this.$(".submit-btn").removeClass("disabled"):this.$(".submit-btn").addClass("disabled")},t.prototype.destroy=function(){return this.$(".submit-btn").addClass("disabled"),this.ratingWidgetView.destroy()},t.prototype.hide=function(){return this.$el.modal("hide")},t}(n.View),t.exports=new i},{"../../../models/lecture-feedback-model":69,"../../../models/lecture-model":70,"../../../models/shared-model":85,"../../helpers/rating-widget-view":108,backbone:318,"backbone.stickit":317,underscore:445}],163:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,s=e("../../../models/shared-model"),r=e("../../../models/lecture-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.el="#live-lecture",t.prototype.events={"click .mark-attendance":"markAttendance"},t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_MARK_ATTENDANCE_VIEW,this.show),this.listenTo(n,n.E.HIDE_MARK_ATTENDANCE_VIEW,this.hide)},t.prototype.show=function(){if(r.get("lecture"))return this.startTime=r.get("lecture").startTime,this.$(".lecture-date-time").text(moment(this.startTime).format("ddd, MMM Do YYYY, h:mm a")+" IST"),this.$(".lecture-title").text(r.get("lecture").title),this.$el.removeClass("hide")},t.prototype.markAttendance=function(){var e,t;return this.$(".mark-attendance").addClass("loading"),t=function(e){return function(t){return e.$(".mark-attendance").removeClass("loading"),t.get("status")?window.open(r.get("classLink"),"_blank"):n.ERR.SHOW("The Live Lecture is scheduled for "+moment(e.startTime).format("ddd, MMM Do YYYY, h:mm a")+" IST. Please try again at the scheduled date and time")}}(this),e=function(e){return function(t,o){return e.$(".mark-attendance").removeClass("loading"),n.ERR.SHOW(o)}}(this),r.markAttendance(t,e)},t.prototype.hide=function(){return this.$el.addClass("hide")},t}(n.View),t.exports=new i},{"../../../models/lecture-model":70,"../../../models/shared-model":85,backbone:318,underscore:445}],164:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),a=e("underscore"),n.$=$,s=e("../../../models/shared-model"),i=e("../../student-router"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.el=".module-progress",t.prototype.events={"click .continue-learning":"showSegments","click .show-modules":"showModules","click .module-index":"showSessions","click .session-index":"showSegments"},t.prototype.initialize=function(){return a.bindAll(this,"showSessions","showSegments","showUptoDate"),this.listenTo(n,n.E.SHOW_MODULE_PROGRESS,this.show),this.listenTo(n,n.E.HIDE_MODULE_PROGRESS,this.hide),this.listenTo(n,n.E.SHOW_CURRENT_COMPONENT_PROGRESS,this.showProgress),t.__super__.initialize.call(this)},t.prototype.show=function(e){return this.model=e,this.setData(),this.$el.removeClass("hide")},t.prototype.showProgress=function(e){return this.$(".user-dashboard-progress-count").text(e.get("course").userProgress+"%"),this.$(".batch-dashboard-progress-count").text(e.get("course").averageProgress+"%"),this.$(".user-active-progress").css("width",e.get("course").userProgress+"%"),this.$(".batch-active-progress").css("width",e.get("course").averageProgress+"%"),this.$(".course-progress").removeClass("hide")},t.prototype.setData=function(){var e;return s.get("currentComponent").get("id")?(this.$(".module-heading").text(this.model.get("segmentName")),this.$(".module-marker-text").removeClass("hide"),this.$(".module-index").removeClass("hide"),this.$(".session-index").removeClass("hide"),e=n.F.getModuleText(this.model),this.$(".module-index").text(e),this.$(".session-index").text("Session "+this.model.get("sessionNumber")),this.$(".continue-learning").removeClass("hide"),this.$(".show-modules").addClass("hide"),s.get("currentComponent")&&s.get("currentComponent").get("isFirstModule")?this.$(".continue-learning span").text("Start Program"):this.$(".continue-learning span").text("Continue Learning")):this.showUptoDate()},t.prototype.showUptoDate=function(){var e;return this.$(".continue-learning").addClass("hide"),this.$(".show-modules").removeClass("hide"),e="You are all caught up",this.$(".module-heading").text("You are all caught up!"),this.$(".module-marker-text,.module-index,.module-session-separator,.session-index").addClass("hide")},t.prototype.hide=function(){return this.$(".course-progress").addClass("hide"),this.$el.addClass("hide")},t.prototype.showSegments=function(){var e;return s.set("segmentId",this.model.get("segmentId")),s.set("sessionId",this.model.get("sessionId")),s.set("componentId",this.model.get("id")),s.set("moduleId",this.model.get("moduleId")),s.set("moduleGroupId",this.model.get("moduleGroupId")),(s.get("componentId")||s.get("segmentId")||s.get("sessionId"))&&(e="/v/course/"+s.get("courseId")+"/session/"+this.model.get("sessionId"),s.get("segmentId")&&(e+="/segment/"+s.get("segmentId")),i.navigate(e,!0)),n.T.MIXPANEL_TRACK("Resume Session",{"Segment Id":this.model.get("segmentId").toString()})},t.prototype.showModules=function(){return i.navigate("/v/course/"+s.get("courseId")),n.trigger(n.E.SHOW_MODULES)},t.prototype.showSessions=function(){return s.set("courseId",this.model.get("courseId")),s.set("moduleId",this.model.get("moduleId")),i.navigate("/v/course/"+this.model.get("courseId")+"/module/"+this.model.get("moduleId"),!0)},t}(n.View),t.exports=new r},{"../../../models/shared-model":85,"../../student-router":117,backbone:318,"backbone.stickit":317,underscore:445}],165:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),u=e("underscore"),n.$=$,a=e("./nps-rating"),i=e("../../../models/nps-rating-model"),s=e("./nps-rating-typeform"),a=e("./nps-rating"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.el=".nps-review-wrapper-container",t.prototype.model=i,t.prototype.events={"click .submit-nps-rating-btn":"submitSelectedRating","click .take-survey-btn":"surveyPopupSetup"},t.prototype.initialize=function(){return u.bindAll(this,"submitSelectedRating","hide","ratingSubmittedAction","enableSubmit","show"),this.listenTo(n,n.E.NPS_RATING_SAVED,this.ratingSubmittedAction),this.listenTo(n,n.E.NPS_RATING_SELECTED,this.enableSubmit),this.listenTo(n,n.E.SHOW_DASHBOARD_NPS,this.show),this.listenTo(n,n.E.SHOW_DASHBOARD_NPS_ONLY,this.showNpsOnly),t.__super__.initialize.call(this)},t.prototype.show=function(e){return 0!==this.model.get("npsState")?(this.npsRatingView||(this.npsRatingView=new a({el:this.$(".nps-rating-wrapper")}),this.npsRatingView.render()),this.$el.removeClass("hide"),e||this.showNpsPopupOnload(),n.trigger(n.E.NPS_NOTIFICATION_CLOSE)):this.hide()},t.prototype.showNpsOnly=function(){return this.show(!0)},t.prototype.showNpsPopupOnload=function(){if(this.checkRedirectedFromLink())return this.surveyPopupSetup()},t.prototype.checkRedirectedFromLink=function(){var e;return e=n.F.PARSE_QUERY_STRING(),null!=e?e.npspopup:void 0},t.prototype.setState=function(){return this.ratingSubmittedAction()},t.prototype.enableSubmit=function(){return this.$(".submit-nps-rating-btn").removeClass("disabled")},t.prototype.submitSelectedRating=function(){return n.trigger(n.E.NPS_RATING_SUBMIT_ACTION,!0)},t.prototype.ratingSubmittedAction=function(e){if(this.$el.addClass("rating-submitted"),e)return this.surveyPopupSetup()},t.prototype.surveyPopupSetup=function(){var e;return this.hide(),1!==(e=this.model.get("npsState"))&&2!==e?(n.F.SHOW_LOADER(),this.model.npsViewedSave(function(e){return function(){return n.F.HIDE_LOADER(),e.openSurveyPopUp()}}(this),function(e){return function(e,t){return n.ERR.SHOW(t)}}(this))):this.openSurveyPopUp()},t.prototype.openSurveyPopUp=function(){var e;return e=new s({model:this.model}),e.render()},t.prototype.hide=function(){return this.$el.addClass("hide")},t}(n.View),t.exports=new r},{"../../../models/nps-rating-model":74,"./nps-rating":167,"./nps-rating-typeform":166,backbone:318,underscore:445}],166:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),u=e("underscore"),e("backbone.stickit"),n.$=$,r=e("../../../models/nps-rating-model"),a=e("../../../models/shared-model"),s=e("./nps-rating"),i=function(e){function t(){return this.typeformCompletedHandler=l(this.typeformCompletedHandler,this),this.typeformLoaded=l(this.typeformLoaded,this),t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.template=function(){return u.template($("#nps-rating-form").html())},t.prototype.events={"click .submit-nps-rating-btn":"submitSelectedRating","click .nps-cancel-btn":"showConfirmExit","click .take-survey-later-btn":"cancel","click .continue-survey-btn":"hideConfirmExit"},t.prototype.initialize=function(){return u.bindAll(this,"render"),this.listenTo(n,n.E.NPS_RATING_SELECTED,this.enableSubmit),this.listenTo(n,n.E.NPS_RATING_SAVED,this.setState),t.__super__.initialize.call(this)},t.prototype.render=function(){return this.$el.html(this.template()()),window.addEventListener("message",this.typeformCompletedHandler,!1),$("body").append(this.$el),this.npsRatingView=new s({el:this.$(".nps-rating-wrapper")}),this.npsRatingView.render(),this.$("#nps-rating-typeform-modal").modal("show"),document.getElementById("nps-typeform-iframe").addEventListener("load",this.typeformLoaded,!1)},t.prototype.setState=function(){if(1===this.model.get("npsState"))return this.ratingSubmittedAction()},t.prototype.typeformLoaded=function(e){return n.F.HIDE_LOADER()},t.prototype.typeformCompletedHandler=function(e){if("form-submit"===e.data)return this.model.set("npsState",0),this.cancel()},t.prototype.enableSubmit=function(){return this.$(".submit-nps-rating-btn").removeClass("disabled")},t.prototype.submitSelectedRating=function(){return n.trigger(n.E.NPS_RATING_SUBMIT_ACTION)},t.prototype.ratingSubmittedAction=function(){var e;return this.$(".nps-review-wrapper-modal").addClass("rating-submitted"),this.$(".rating-container").removeClass("col-sm-12").addClass("col-sm-9"),e=new n.Model,e.fetch({url:n.C.NPS_FORM_PATH()+("/v1/form/"+this.model.get("formId")+"/user/"+a.get("user").id),success:function(e){return function(t,o){return e.setNpsTypeformIframeSrc(o.formUrl)}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},t.prototype.setNpsTypeformIframeSrc=function(e){return n.F.SHOW_LOADER(),this.$("#nps-typeform-iframe").attr("src",e)},t.prototype.showConfirmExit=function(){return this.model.get("rating")||this.cancel(),this.$(".nps-typeform-footer").addClass("hide"),this.$(".nps-typeform-exit-footer").removeClass("hide"),this.$("#nps-typeform-iframe").addClass("disabled")},t.prototype.hideConfirmExit=function(){return this.$(".nps-typeform-exit-footer").addClass("hide"),this.$(".nps-typeform-footer").removeClass("hide"),this.$("#nps-typeform-iframe").removeClass("disabled")},t.prototype.cancel=function(){return this.$("#nps-rating-typeform-modal").modal("hide"),this.destroy(),n.trigger(n.E.NPS_NOTIFICATION_SHOW),r.trigger("nps:showNpsDashboard",!0)},t.prototype.destroy=function(){return this.npsRatingView.remove(),this.remove()},t}(n.View),t.exports=i},{"../../../models/nps-rating-model":74,"../../../models/shared-model":85,"./nps-rating":167,backbone:318,"backbone.stickit":317,underscore:445}],167:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,s=e("../../../models/shared-model"),r=e("../../../models/nps-rating-model"),e("backbone.stickit"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=r,t.prototype.events={"click .rating-number-block":"getSelectedRating"},t.prototype.bindings={".rating-number-block":{observe:"rating",update:function(e,t,o){if(t)return this.$(".rating-number-block[rating="+t+"]").addClass("selected")}},":el":{observe:"npsState",update:function(e,t,o){return 1===t&&o.get("rating")?(e.addClass("disabled"),n.trigger(n.E.NPS_RATING_SAVED)):e.removeClass("disabled")}}},t.prototype.initialize=function(){return a.bindAll(this,"getSelectedRating","submitRating","disableRating","enableRating"),this.listenTo(n,n.E.NPS_RATING_SUBMIT_ACTION,this.submitRating),this.stickit(),t.__super__.initialize.call(this)},t.prototype.getSelectedRating=function(e){return this.rating=Number(this.$(e.currentTarget).attr("rating")),this.$(".rating-number-block").removeClass("selected"),this.$(e.currentTarget).addClass("selected"),n.trigger(n.E.NPS_RATING_SELECTED)},t.prototype.submitRating=function(e){return this.model.set("rating",this.rating),n.F.SHOW_LOADER(),this.model.npsRatingSave(function(t){return function(){return n.F.HIDE_LOADER(),t.disableRating(),n.trigger(n.E.NPS_RATING_SAVED,e)}}(this),function(e){return function(e,t){return n.F.HIDE_LOADER(),n.ERR.SHOW(t)}}(this))},t.prototype.disableRating=function(){return this.$el.addClass("disabled")},t.prototype.enableRating=function(){return this.$el.removeClass("disabled")},t}(n.View),t.exports=i},{"../../../models/nps-rating-model":74,"../../../models/shared-model":85,backbone:318,"backbone.stickit":317,underscore:445}],168:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),u=e("underscore"),n.$=$,s=e("../../../models/shared-model"),i=e("../../student-router"),a=e("../user-image-initials-support"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.className="peer item",t.prototype.userImageSelector=".peer-image",t.prototype.events={click:"showProfile"},t.prototype.bindings={".peer-image":{attributes:[{name:"src",observe:"profilePic",onGet:function(){var e;return null!=(e=this.model.get("profilePic"))?e.url:void 0}}]}},t.prototype.initialize=function(){return u.bindAll(this,"render","destroy"),this.listenTo(n,n.E.RENDER_PEER_ITEM,this.render),this.listenTo(n,n.E.DESTROY_PEER_ITEM,this.destroy),this.listenTo(this.model,"enableTooltip",this.enableTooltip),t.__super__.initialize.call(this)},t.prototype.template=function(){return u.template($(".peer-item").html())},t.prototype.render=function(){return this.$el.html(this.template()()),this.stickit(),this.user=this.model.toJSON(),this.replaceWithProfilePic(),this.$el},t.prototype.showProfile=function(e){var t;return s.set("profileId",parseInt(this.model.get("userId"))),s.set("userCity",null!=(t=this.model.get("address"))?t.city:void 0),i.navigate("/v/course/"+s.get("courseId")+"/profile/"+this.model.get("userId")+"/about"),n.trigger(n.E.DISPLAY_PROFILE)},t.prototype.enableTooltip=function(){var e;return e=this.model.get("firstname"),this.model.get("lastname")&&(e+=" "+this.model.get("lastname")),this.$(".peer-image").tooltip({title:e,placement:"bottom"})},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),u.extend(r.prototype,a),t.exports=r},{"../../../models/shared-model":85,"../../student-router":117,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],169:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),c=e("underscore"),n.$=$,l=e("../../../models/shared-model"),i=e("./peer-item-view"),a=e("../../../collections/user-profile-collections/recently-online"),u=e("../../student-router"),r=e("../../helpers/collection-view-support"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.el="#recently-online",t.prototype.itemViewClass=i,t.prototype.appendToDivSelector=".peers",t.prototype.events={"click .full-directory":"showFullDirectory"},t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_RECENTLY_ONLINE,this.fetchRecentlyOnline),
this.listenTo(n,n.E.HIDE_RECENTLY_ONLINE,this.hide),this.subViews={},this.collection=a,this.bindCollectionSupportMethods(),t.__super__.initialize.call(this)},t.prototype.fetchRecentlyOnline=function(){var e;return e={courseId:l.get("courseId")},a.fetch({data:$.param(e),success:function(e){return function(){return e.show()}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},t.prototype.show=function(){return this.addAll(),this.$("#component-loader").addClass("hide"),this.$el.removeClass("hide")},t.prototype.performAfterAddingItems=function(){return a.each(function(e){return e.trigger("enableTooltip")})},t.prototype.hide=function(){return this.$el.addClass("hide")},t.prototype.showFullDirectory=function(){return n.T.MIXPANEL_TRACK("Click Student Directory",{"Ref Page":"Dashboard"}),u.navigate("/v/course/"+l.get("courseId")+"/student-directory"),n.trigger(n.E.VIEW_STUDENT_DIRECTORY)},t}(n.View),c.extend(s.prototype,r),t.exports=new s},{"../../../collections/user-profile-collections/recently-online":41,"../../../models/shared-model":85,"../../helpers/collection-view-support":100,"../../student-router":117,"./peer-item-view":168,backbone:318,"backbone.stickit":317,underscore:445}],170:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),a=e("underscore"),n.$=$,i=e("../../../models/shared-model"),r=e("../../student-router"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.className="skipped-components-list-item",t.prototype.bindings={".column-deadline":{observe:"moduleDeadlineIso",classes:{"near-deadline":{observe:"moduleDeadlineIso",onGet:function(e){var t;return t=moment(e).diff(moment(),"days"),t<4&&t>-7}}},onGet:function(e){return e?moment(e).format("Do MMM 'YY"):"-"}},".column-component-type":{observe:["componentType","componentSubType"],onGet:function(e){return e[1]?e[1]:e[0]}},".graded-box":{observe:"graded",classes:{"graded-color":"graded"},onGet:function(e){return e?"Graded":"Non-Graded"}},".last-visited":{observe:"lastProgressUpdate",onGet:function(e){return moment(e,"DD/MM/YYYY HH:mm:ss").fromNow()}}},t.prototype.events={click:"redirectToSkippedComponent"},t.prototype.initialize=function(){return a.bindAll(this,"render","destroy"),this.listenTo(n,n.E.RENDER_SKIPPED_COMPONENT_LIST_ITEM,this.render),this.listenTo(n,n.E.DESTROY_SKIPPED_COMPONENT_LIST_ITEM,this.destroy),t.__super__.initialize.call(this)},t.prototype.template=function(){return a.template($("#skipped-components-list-item-template").html())},t.prototype.render=function(){return this.$el.html(this.template()(this.model.toJSON())),this.stickit(),this.$el},t.prototype.redirectToSkippedComponent=function(e){var t;return i.set("redirectedToComponentId",this.model.get("componentId")),r.navigate("/v/course/"+i.get("courseId")+"/session/"+this.model.get("sessionId")+"/segment/"+this.model.get("segmentId"),!0),t=this.getTrackObject(),this.$el.parent().parent().hasClass("modal-body")?(t.source="modal",n.trigger(n.E.CLOSE_SKIPPED_COMPONENTS_MODAL)):t.source="dashboard",n.T.MIXPANEL_TRACK("click_skipped_component",t)},t.prototype.getTrackObject=function(){var e;return e=this.model.get("componentSubType")?this.model.get("componentSubType"):this.model.get("componentType"),{type:"skipped_component",current_page:"home_page",no_of_items:this.model.collection.allValues.length,item_position:this.model.collection.indexOf(this.model),component_id:this.model.get("componentId"),component_type:e,session_id:this.model.get("sessionId"),segment_id:this.model.get("segmentId")}},t.prototype.destroy=function(){return this.remove()},t}(n.View),t.exports=s},{"../../../models/shared-model":85,"../../student-router":117,backbone:318,"backbone.stickit":317,underscore:445}],171:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),c=e("underscore"),n.$=$,s=e("../../../models/shared-model"),a=e("./skipped-component-item-view"),u=e("../../../collections/skipped-components"),i=e("../../student-router"),r=e("../../helpers/collection-view-support"),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.el=".skipped-components",t.prototype.itemViewClass=a,t.prototype.appendToDivSelector=".skipped-components-list-container",t.prototype.events={"click .view-all-skipped-btn":"openModal","click .close":"trackCloseModal","hidden.bs.modal .skipped-component-modal-holder":"closeModal"},t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_SKIPPED_COMPONENTS,this.fetchSkippedComponents),this.listenTo(n,n.E.HIDE_SKIPPED_COMPONENTS,this.hide),this.listenTo(n,n.E.CLOSE_SKIPPED_COMPONENTS_MODAL,this.callCloseModal),this.subViews={},this.collection=u,this.bindCollectionSupportMethods(),this.addCollectionListeners()},t.prototype.fetchSkippedComponents=function(){var e;return e={courseId:s.get("courseId")},u.fetch({data:$.param(e),success:function(e){return function(){return e.show()}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},t.prototype.show=function(){var e;if(this.collection.allValues.length)return e=1===this.collection.allValues.length?" item":" items",this.$(".skipped-components-count").text(this.collection.allValues.length+e),this.collection.allValues.length>4?this.$(".view-all-skipped-btn").removeClass("hide"):this.$(".view-all-skipped-btn").addClass("hide"),this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$el.addClass("hide")},t.prototype.openModal=function(){return this.$(".skipped-component-modal-holder").addClass("modal"),this.$(".skipped-component-modal-dialog-holder").addClass("modal-dialog"),this.$(".skipped-component-modal-content-holder").addClass("modal-content"),this.$(".skipped-component-modal-header-holder").addClass("modal-header"),this.$("button.close").removeClass("hide"),this.$(".skipped-component-modal-body-holder").addClass("modal-body"),this.$(".skipped-component-modal-holder").modal("show"),this.collection.trigger("showAllItems"),this.trackObject={type:"skipped_component",current_page:"home_page",no_of_items:this.collection.allValues.length},n.T.MIXPANEL_TRACK("click_view_more",this.trackObject)},t.prototype.callCloseModal=function(){return this.skipModalEventTracking=!0,this.$(".skipped-component-modal-holder").modal("hide")},t.prototype.closeModal=function(){return this.collection.trigger("showLimitedItems"),this.$(".skipped-component-modal-holder").removeClass("modal"),this.$(".skipped-component-modal-dialog-holder").removeClass("modal-dialog"),this.$(".skipped-component-modal-content-holder").removeClass("modal-content"),this.$(".skipped-component-modal-header-holder").removeClass("modal-header"),this.$("button.close").addClass("hide"),this.$(".skipped-component-modal-body-holder").removeClass("modal-body"),this.skipModalEventTracking||this.$(".skipped-component-modal-holder").modal("hide"),this.$(".skipped-component-modal-holder").css({display:"block"}),this.skipModalEventTracking||this.trackCloseModal("backdrop"),this.skipModalEventTracking=!1},t.prototype.trackCloseModal=function(e){return this.trackObject.source="close"|e,n.T.MIXPANEL_TRACK("close_modal",this.trackObject)},t}(n.View),c.extend(l.prototype,r),t.exports=new l},{"../../../collections/skipped-components":34,"../../../models/shared-model":85,"../../helpers/collection-view-support":100,"../../student-router":117,"./skipped-component-item-view":170,backbone:318,"backbone.stickit":317,underscore:445}],172:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),u=e("underscore"),n.$=$,s=e("../../../models/shared-model"),r=e("../../../models/forum-stats-model"),i=e("../../student-router"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.el="#weekly-forum-stats",t.prototype.events={"click .go-to-discussion-forum":"showFullDiscussion"},t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_FORUM_ACTIVITY,this.fetchAndShowWeeklyForumStats),this.listenTo(n,n.E.HIDE_FORUM_ACTIVITY,this.hide),t.__super__.initialize.call(this)},t.prototype.fetchAndShowWeeklyForumStats=function(){return r.fetch({success:function(e){return function(){return e.show()}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},t.prototype.show=function(){return this.$("#component-loader").addClass("hide"),this.$el.removeClass("hide"),this.setData()},t.prototype.showFullDiscussion=function(){return i.navigate("/v/course/"+s.get("courseId")+"/discussions"),n.trigger(n.E.SHOW_DISCUSSION_FORUM)},t.prototype.setData=function(){return this.$(".stat-question-value").text(r.get("questionCount")),this.$(".stat-answer-value").text(r.get("answerCount")),this.$(".stat-participant-value").text(r.get("participantCount"))},t.prototype.hide=function(){return this.$el.addClass("hide")},t}(n.View),t.exports=new a},{"../../../models/forum-stats-model":67,"../../../models/shared-model":85,"../../student-router":117,backbone:318,"backbone.stickit":317,underscore:445}],173:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),d=e("underscore"),n.$=$,l=e("../../models/shared-model"),r=e("../helpers/base-view"),i=e("../../models/config-model"),c=e("../../models/user-model"),a=e("../../models/lecture-model"),u=e("../../models/nps-rating-model"),e("./dashboard-components/course-progress-view"),e("./dashboard-components/module-progress-view"),e("./dashboard-components/skipped-components-view"),e("./dashboard-components/live-lecture-view"),e("./dashboard-components/lecture-feedback-view"),e("./dashboard-components/recently-online-view"),e("./dashboard-components/weekly-forum-stats"),e("./dashboard-components/nps-rating-feedback"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.el="#dashboard",t.prototype.name="dashboard",t.prototype.events={},t.prototype.viewIdentifier="student-dashboard",t.prototype.initialize=function(){return this.listenTo(n,n.E.INITIALIZE_DASHBOARD_COMPONENTS,this.showView),this.listenTo(n,n.E.SHOW_LIVE_LECTURE,this.showLiveLecture),this.listenTo(u,"nps:showNpsDashboard",this.showNpsDashboardComponent),t.__super__.initialize.call(this)},t.prototype.showView=function(){return this.$el.removeClass("hide"),l.get("courseConfiguration").liveLecture&&this.showLiveLecture("dashboard"),l.get("currentView")!==this.viewIdentifier&&l.resetCurrentView(this.viewIdentifier),c.isDeferredStudent(l.get("courseId"))||n.trigger(n.E.SHOW_SKIPPED_COMPONENTS),i.showSubModule("dashboard","recentlyOnline")&&n.trigger(n.E.SHOW_RECENTLY_ONLINE),i.showSubModule("dashboard","weeklyForumStats")&&n.trigger(n.E.SHOW_FORUM_ACTIVITY),n.T.MIXPANEL_TRACK("Home Page View",{}),n.trigger("pageShown:"+this.viewIdentifier),this.showNpsDashboardComponent()},t.prototype.showNpsDashboardComponent=function(e){if(u.get("npsActive")&&!this.$el.hasClass("hide"))return e?n.trigger(n.E.SHOW_DASHBOARD_NPS_ONLY):n.trigger(n.E.SHOW_DASHBOARD_NPS)},t.prototype.showLiveLecture=function(e){return"ROLE_STUDENT"===c.get("highestRole")?this.fetchLectureDetails(e):n.trigger(n.E.SHOW_LECTURES_TAB)},t.prototype.fetchLectureDetails=function(e){var t,o;return o=function(t){if(a.get("id")&&n.trigger(n.E.SHOW_LECTURES_TAB),n.trigger(n.E.SHOW_MARK_ATTENDANCE_VIEW),a.get("isFeedbackNeeded")&&"dashboard"===e)return n.trigger(n.E.SHOW_LECTURE_FEEDBACK)},t=function(e,t){return n.ERR.SHOW(t)},a.getBatchDetails(o,t)},t.prototype.hide=function(){return n.trigger(n.E.NPS_NOTIFICATION_SHOW),n.trigger(n.E.HIDE_SKIPPED_COMPONENTS),n.trigger(n.E.HIDE_RECENTLY_ONLINE),n.trigger(n.E.HIDE_FORUM_ACTIVITY),n.trigger(n.E.HIDE_MARK_ATTENDANCE_VIEW),this.$el.addClass("hide")},t}(r),t.exports=new s},{"../../models/config-model":54,"../../models/lecture-model":70,"../../models/nps-rating-model":74,"../../models/shared-model":85,"../../models/user-model":87,"../helpers/base-view":99,"./dashboard-components/course-progress-view":161,"./dashboard-components/lecture-feedback-view":162,"./dashboard-components/live-lecture-view":163,"./dashboard-components/module-progress-view":164,"./dashboard-components/nps-rating-feedback":165,"./dashboard-components/recently-online-view":169,"./dashboard-components/skipped-components-view":171,"./dashboard-components/weekly-forum-stats":172,backbone:318,"backbone.stickit":317,underscore:445}],174:[function(e,t,o){var n,r,i,s,a,u,l,c;n=e("backbone"),c=e("underscore"),n.$=$,a=e("../../models/shared-model"),s=e("../student-router"),l=e("../../models/user-model"),u=e("../helpers/snackbar"),i=e("../../collections/discussions/my-bookmarks-collection"),r={checkTAQuestions:function(){if(this.model.get("owner").isTA)return n.F.APPEND_QUARTER_LOGO(this.$(".discussion-user-image-question"))},updateProfilePic:function(){if(n.F.IS_USER_LOGGED_IN(this.model.get("owner").userId))return this.user.photo=l.get("profilePic").url,this.replaceWithProfilePic()},updateFollowButton:function(){return this.model.get("hasBookmarked")?this.addBookmarkedIndicator():this.removeBookmarkedIndicator()},addBookmarkedIndicator:function(){return this.$(".bookmark-question").addClass("bookmarked"),this.$(".follow-text").html('Following <i class="material-icons following-tick">done</i>')},removeBookmarkedIndicator:function(){return this.$(".bookmark-question").removeClass("bookmarked"),this.$(".follow-text").html("Follow")},updateAnswerColor:function(){if(this.model.get("hasAnswered"))return this.$(".answer-question").addClass("answered")},removeFromBookmarkList:function(){if(i.remove(this.model),this.isBookmarkTile&&!this.model.get("hasBookmarked")&&this.remove(),!i.length)return i.trigger("showNoBookmarks")},showUserProfile:function(e){return e.stopPropagation(),s.navigate("/v/course/"+a.get("courseId")+"/profile/"+this.model.get("owner").userId+"/about"),a.set("profileId",this.model.get("owner").userId),n.trigger(n.E.DISPLAY_PROFILE)},toggleBookmark:function(e){return e.stopPropagation(),this.model.get("hasBookmarked")?(this.model.set("hasBookmarked",!1),this.model.removeBookmark(function(){var e;if(e="v/course/"+a.get("courseId")+"/followed-questions","myBookmarks"!==a.get("currentView"))return u.showToast({message:'Removed from <span style="font-weight: bold">Followed Questions</span>',dismiss:"VIEW",redirect:!1,navigateUrl:e})}),n.T.MIXPANEL_TRACK("Remove from Bookmark",{"Question ID":this.model.get("id").toString()}),n.T.MIXPANEL_INCREMENT_PROPERTY("Bookmarks"),this.updateFollowButton()):(this.model.set("hasBookmarked",!0),this.model.bookmark(function(){var e;return e="v/course/"+a.get("courseId")+"/followed-questions",u.showToast({message:'Added in <span style="font-weight: bold">Followed Questions</span>',dismiss:"VIEW",redirect:!1,navigateUrl:e})}),this.updateFollowButton(),i.add(this.model,{silent:!0}),1===i.length&&i.trigger("hideNoBookmarks"),i.trigger("prepend",this.model),n.T.MIXPANEL_TRACK("Add to Bookmark",{"Question ID":this.model.get("id").toString()}),n.T.MIXPANEL_INCREMENT_PROPERTY("Bookmarks"))},flagQuestion:function(e){var t;return e.stopPropagation(),n.trigger(n.E.FLAG_MODEL,"question",this.model.get("id")),t={"Entity Type":"Question","Entity ID":this.model.get("id").toString(),"Creator ID":this.model.get("owner").userId.toString()},n.T.MIXPANEL_TRACK("Report Inappropriate",t)}},t.exports=r},{"../../collections/discussions/my-bookmarks-collection":19,"../../models/shared-model":85,"../../models/user-model":87,"../helpers/snackbar":109,"../student-router":117,backbone:318,underscore:445}],175:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y,v=function(e,t){function o(){this.constructor=e}for(var n in t)b.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},b={}.hasOwnProperty;e("backbone.stickit"),r=e("backbone"),y=e("underscore"),r.$=$,d=e("../../student-router"),i=e("../../../models/discussions/discussion-comment-model"),u=e("./create-answer-view"),s=e("./comments-view"),h=e("./ta-helpful-feedback"),g=e("../../../models/user-model"),p=e("../../../models/shared-model"),m=e("../user-image-initials-support"),a=e("../../../models/config-model"),f=e("../upvotes-support"),l=e("../../helpers/feature-flags-helper"),c=e("../../prevent-form-submit-image-upload-support"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype.className="discussion-answers item row",t.prototype.template=function(){return y.template($("#discussion-answer-template").html())},t.prototype.userImageSelector=".answer-item-image",t.prototype.type="answer",t.prototype.bindings={".answer-name":{observe:"owner",onGet:function(){var e;return null!=(e=this.model.get("owner"))?e.fullname:void 0}},".answer-item-image":{attributes:[{name:"src",observe:"owner",onGet:function(){return this.model.get("owner").photo}}]},".answer-vote-count":"votes",".comment-count":{observe:"comments",onGet:function(){return this.model.get("comments").length}},".answer-timeago":{attributes:[{name:"title",observe:["displayedAt","createdAt"],onGet:function(){return this.model.get("isSeeded")?this.model.get("displayedAt"):this.model.get("createdAt")}}]},".accept-answer":{observe:["isStudentAccepted","owner","isCorrect"],update:function(e,t){var o,n,r;return o="Class Opinions"===this.question.get("title")||"Class Opinion"===this.question.get("title"),r=t[1].userId===p.get("user").id,n=p.get("currentQuestionUser")!==p.get("user").id,t[0]>0||n||r||t[2]||o?e.addClass("hide"):p.get("currentQuestionUser")===p.get("user").id?e.removeClass("hide"):void 0}},".answer-accepted":{observe:["isStudentAccepted"],update:function(e,t){return t>0?e.removeClass("hide"):e.addClass("hide")}}},t.prototype.events={"click .answer-name":"showUserProfile","click .answer-item-image":"showUserProfile","click .edit-answer":"editAnswer","click .delete-answer":"deleteAnswer","click .upvote-answer":"toggleVote","click .cancel-edit-answer":"cancelEdit","click .comment-icon":"showCommentBoxAndNavigate","click .flag-answer":"flagAnswer","click .verify":"toggleVerifyAnswer","click .unverify":"toggleVerifyAnswer","click .answer-upvote-count":"showUpvotes","click .comments":"showCommentBox","click .accept-answer":"markAsAccepted"},t.prototype.initialize=function(e){return y.bindAll(this,"showUserProfile","editAnswer","deleteAnswer","toggleOptions","toggleVerifyAnswer","showCommentBox","showCommentBoxAndNavigate"),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model.get("comments"),"remove",this.setCommentCount),this.listenTo(this.model.get("comments"),"add",this.setCommentCount),this.listenTo(this.model,"highlight",this.highlight),this.listenTo(this.model,"showComments",this.showCommentBox),this.listenTo(this.model,"showUnderReview",this.showUnderReview),this.question=e.question,this.bindUpvoteSupportMethods()},t.prototype.render=function(){return this.$el.html(this.template()()),this.$(".answer-body").html(this.model.get("body")),this.stickit(),a.checkDiscussionPermission("comment","read")&&(this.appendCommentsView(),this.$(".vote-answers-count").removeClass("hide"),this.$(".comments").removeClass("hide"),a.checkDiscussionPermission("comment","create")&&(this.$(".comment-icon").removeClass("hide"),this.$(".discussion-card-footer").removeClass("hide"))),this.model.get("isEditable")?(this.$(".edit-answer, .delete-answer").removeClass("hide"),this.$(".more-options").removeClass("hide")):this.$(".more-options").addClass("hide"),g.get("id")===this.model.get("owner").userId&&this.$(".flag-answer").addClass("hide"),(g.isTA()||g.isTeacher()||g.isStudentTa())&&(this.$(".more-options").removeClass("hide"),this.showSeededTag()),p.get("questionOwnerId")===this.model.get("owner").userId?this.$(".name").addClass("my-user-name"):this.$(".name").removeClass("my-user-name"),this.initializeUpvoteState(),this.updateAnswerText(),this.setCommentCount(),this.toggleVerifiedMark(),this.user=this.model.get("owner"),this.replaceWithProfilePic(),this.checkTAAnswers(),this.addTaHelpfulFeedback(),this.addUnderReviewFlag(),r.F.MOMENT_TIME(this.$(".answer-timeago")),r.F.REASSIGN_TIMES(),this.enableTooltip(),this.$el},t.prototype.showSeededTag=function(){if(this.model.get("isSeeded"))return this.$(".seeded-tag").removeClass("hide")},t.prototype.enableTooltip=function(){return this.$(".flag-answer").tooltip({title:"Report Inappropriate",placement:"top"})},t.prototype.highlight=function(){return r.F.HIGHLIGHT_TEMPORARILY(this.$(".answer-detail"))},t.prototype.showCommentBoxAndNavigate=function(){return this.showCommentBox(),r.F.SCROLL_TO_ELEMENT(this.$(".new-comment-div"),-200),this.$(".comment-input").focus()},t.prototype.showCommentBox=function(){return this.$(".comments-div").removeClass("hide"),this.$(".new-comment-div").removeClass("hide"),this.model.get("comments").trigger("showMore")},t.prototype.updateAnswerText=function(){return this.$(".answer-body").html(this.model.get("body"))},t.prototype.setCommentCount=function(){return this.$(".comment-count").text(this.model.get("comments").length)},t.prototype.appendCommentsView=function(){return this.commentsView=new s({answer:this.model,comments:this.model.get("comments")}),this.$(".comments-div").append(this.commentsView.render())},t.prototype.addTaHelpfulFeedback=function(){if(this.model.get("isCorrect")&&this.model.get("askFeedback"))return this.taHelpfulFeedbackView=new h({answer:this.model,question:this.question}),this.$(".ta-feedback-box").append(this.taHelpfulFeedbackView.render())},t.prototype.toggleOptions=function(e){return e.preventDefault(),this.$(".answer-options .options-list").hasClass("hide")?this.$(".answer-options .options-list").removeClass("hide"):this.$(".answer-options .options-list").addClass("hide")},t.prototype.editAnswer=function(){var e;return this.$(".view-answer-div").addClass("hide"),this.editView||a.checkDiscussionPermission("answer","update")&&(this.editView=new u({model:this.model,question:this.question,parentView:this}),this.$(".edit-answer-div").append(this.editView.render()),this.editView.trigger("createEditor")),null!=(e=this.editView)?e.show():void 0},t.prototype.cancelEdit=function(){return this.switchToViewMode()},t.prototype.switchToViewMode=function(){var e;return null!=(e=this.editView)&&e.hide(),this.updateAnswerText(),this.$(".view-answer-div").removeClass("hide")},t.prototype.showUserProfile=function(){return d.navigate("/v/course/"+p.get("courseId")+"/profile/"+this.model.get("owner").userId+"/about"),p.set("profileId",this.model.get("owner").userId),r.trigger(r.E.DISPLAY_PROFILE)},t.prototype.flagAnswer=function(){return r.trigger(r.E.FLAG_MODEL,"answer",this.model.get("id"))},t.prototype.deleteAnswer=function(){if(confirm("Are you sure you want to delete this answer?"))return this.model.destroy()},t.prototype.toggleVerifiedMark=function(){if(this.model.get("isCorrect")){if(this.$(".only-verified-label").removeClass("hide"),g.isTeacher()||g.isTA()||g.isStudentTa())return this.$(".verify").addClass("hide"),this.$(".unverify").removeClass("hide")}else if(this.$(".only-verified-label").addClass("hide"),this.$(".verified-label-and-under-review").addClass("hide"),g.isTeacher()||g.isTA()||g.isStudentTa())return this.$(".verify").removeClass("hide"),this.$(".unverify").addClass("hide")},t.prototype.toggleVerifyAnswer=function(){if(this.model.get("isCorrect")){if(confirm("Are you sure you want to remove verificaton from this question?"))return this.model.set("isCorrect",!1),this.toggleVerifiedMark(),this.model.unverify(),this.checkToUnverifyQuestion()}else if(confirm("Are you sure you want to mark this answer as verified?"))return this.model.set("isCorrect",!0),this.toggleVerifiedMark(),this.model.verify(p.get("discussionQuestionId")),this.question.markReviewed()},t.prototype.markAsAccepted=function(){var e,t;return t=function(e){return function(){return e.model.fetch()}}(this),e=function(e){return function(e){return r.ERR.SHOW(e)}}(this),this.model.markAsAccepted(p.get("discussionQuestionId"),t,e)},t.prototype.checkToUnverifyQuestion=function(){return r.trigger(r.E.CHECK_VERIFIED_ANSWERS)},t.prototype.checkTAAnswers=function(){if(this.model.get("owner").isTA)return r.F.APPEND_QUARTER_LOGO(this.$(".discussion-user-image-answer"))},t.prototype.addUnderReviewFlag=function(){return this.model.get("state")?this.showUnderReview(this.model.get("state")):this.$(".verified-label-and-under-review").addClass("hide")},t.prototype.showUnderReview=function(e){return this.$(".only-verified-label").addClass("hide"),this.$(".verified-label-and-under-review").removeClass("hide"),this.$(".under-review").text(e)},t.prototype.remove=function(){var e,t,o;return null!=(e=this.editView)&&e.remove(),null!=(t=this.commentsView)&&t.remove(),null!=(o=this.taHelpfulFeedbackView)&&o.remove(),this.removeCkeditorEvents(),this.stopListening(),this.$el.remove()},t}(r.View),y.extend(n.prototype,m,f,c),t.exports=n},{"../../../models/config-model":54,"../../../models/discussions/discussion-comment-model":59,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/feature-flags-helper":103,"../../prevent-form-submit-image-upload-support":116,"../../student-router":117,"../upvotes-support":274,"../user-image-initials-support":275,"./comments-view":178,"./create-answer-view":180,"./ta-helpful-feedback":202,backbone:318,"backbone.stickit":317,underscore:445}],176:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g=function(e,t){function o(){this.constructor=e}for(var n in t)y.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},y={}.hasOwnProperty;a=e("backbone"),m=e("underscore"),a.$=$,u=e("../../helpers/base-view"),l=e("../../helpers/collection-view-support"),f=e("../../../models/shared-model"),i=e("./answer-item-view"),r=e("../../../models/discussions/discussion-answer-model"),d=e("./create-answer-view"),c=e("../../../models/config-model"),p=e("../../../collections/discussions/discussion-answers"),n=e("../../../models/account-settings-model"),h=e("../../student-router"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.itemViewClass=i,t.prototype.collection=p,t.prototype.template=function(){return m.template($("#answers-template").html())},t.prototype.events={"click .view-more-answers":"loadMore","click .show-all-answers":"showQuestionDetailView"},t.prototype.initialize=function(e){return this.subViews={},this.question=e.question,this.options=e.options,this.itemObj={question:this.question},this.listenTo(this.collection,"remove",this.setAnswerCount),this.listenTo(this.collection,"add",this.setAnswerCount),this.listenTo(this.collection,"add-at-bottom",this.addAtBottom),this.listenTo(a,a.E.CHECK_VERIFIED_ANSWERS,this.unverifyQuestion),this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.viewQuestionDetailView=e.viewQuestionDetailView,e.viewQuestionDetailView?this.fetch=!1:(this.fetch=!0,this.fetchData(e.pageSize))},t.prototype.render=function(){return this.$el.html(this.template()()),c.checkDiscussionPermission("answer","create")&&(this.newAnswerView=new d({question:this.question,createView:!0}),this.$(".new-answer-div").append(this.newAnswerView.render())),this.addAll(),this.fetch||this.onfetchSuccess(),this.$el},t.prototype.fetchData=function(e){return this.$(".answers-loader").removeClass("hide"),e=e?parseInt(e):10,p.fetch({data:{questionId:this.question.id,pageSize:e},reset:!0,success:function(e){return function(){return e.onfetchSuccess()}}(this),error:function(e){return function(e,t){return a.ERR.SHOW(t)}}(this)})},t.prototype.onfetchSuccess=function(){if(this.setAnswerCount(),this.$(".answers-loader").addClass("hide"),this.toggleLoadMoreVisibility(),this.scrollToItem(),p.length)return n.get("id")?a.trigger(a.E.SHOW_FORUM_DETAIL_DEMO):n.fetch({success:function(e){return function(){return a.trigger(a.E.SHOW_FORUM_DETAIL_DEMO)}}(this)})},t.prototype.createEditor=function(){if(this.newAnswerView)return this.newAnswerView.trigger("createEditor")},t.prototype.setAnswerCount=function(){return p.length?this.$(".discussionanswers-list").removeClass("hide"):this.$(".discussionanswers-list").addClass("hide"),this.$(".answer-count").text(p.length+" answers")},t.prototype.addLoadMoreLoader=function(){return this.$(".load-more .main-button").addClass("loading")},t.prototype.removeLoadMoreLoader=function(){return this.$(".load-more .main-button").removeClass("loading")},t.prototype.toggleLoadMoreVisibility=function(){return p.nextUrl?(this.$(".show-all-answers").addClass("hide"),this.$(".load-more").removeClass("hide")):this.viewQuestionDetailView?(this.$(".show-all-answers").removeClass("hide"),this.$(".load-more").addClass("hide")):(this.$(".show-all-answers").addClass("hide"),this.$(".load-more").addClass("hide"))},t.prototype.scrollToItem=function(){var e,t,o,n,r,i,s;if(this.options)return s=this.options.scrollTo,s.match(/answer/)?(t=s.split("/")[3],e=p.get(t),s.match(/comment/)?(n=s.split("/")[5],r=null!=(i=p.get(t))?i.get("comments"):void 0,o=r.get(n),o?(e.trigger("showComments"),a.F.SCROLL_TO_ELEMENT(this.$(".discussioncommentmodel-"+o.cid),-200),o.trigger("highlight")):a.trigger(a.E.SHOW_NOT_FOUND_STUDENT)):(a.F.SCROLL_TO_ELEMENT(this.$(".discussionanswermodel-"+e.cid),-200),e.trigger("highlight"))):void 0},t.prototype.loadMore=function(){return this.addLoadMoreLoader(),p.fetch({url:p.nextUrl,remove:!1,success:function(e){return function(){return e.toggleLoadMoreVisibility(),e.removeLoadMoreLoader()}}(this),error:function(e){return function(){return e.removeLoadMoreLoader()}}(this)})},t.prototype.addAtBottom=function(e){var t,o;return o=this.addItem(e),t=this.$el.find(".latest-answer-placeholder"),t.append(o),this.$(".load-more-divider-bottom").removeClass("hide")},t.prototype.byPassAddOne=function(e){var t,o;return o=this.addItem(e),t=this.$el.find("."+this.collection.collectionListEl.toLowerCase()+"-list"),t.append(o)},t.prototype.showQuestionDetailView=function(){var e;return e={scrollTo:"question/"+this.question.get("id")},a.trigger(a.E.SHOW_QUESTION_DETAILS,e),h.navigate("/v/course/"+f.get("courseId")+"/question/"+this.question.get("id"))},t.prototype.checkVerifiedAnswers=function(){var e;return e=!!this.collection.find({isCorrect:!0})},t.prototype.unverifyQuestion=function(){var e;if(e=this.checkVerifiedAnswers(),!e)return this.question.unverify()},t.prototype.remove=function(){var e;return null!=(e=this.newAnswerView)&&e.remove(),this.stopListening(),this.$el.remove(),p.reset()},t}(a.View),m.extend(s.prototype,l),t.exports=s},{"../../../collections/discussions/discussion-answers":11,"../../../models/account-settings-model":44,"../../../models/config-model":54,"../../../models/discussions/discussion-answer-model":58,"../../../models/shared-model":85,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"../../student-router":117,"./answer-item-view":175,"./create-answer-view":180,backbone:318,underscore:445}],177:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),c=e("underscore"),n.$=$,s=e("../../student-router"),l=e("../../../models/user-model"),
i=e("./create-comment-view"),a=e("../../../models/shared-model"),u=e("../user-image-initials-support"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.className="discussion-comment item row",t.prototype.template=function(){return c.template($("#discussion-comment-template").html())},t.prototype.userImageSelector=".comment-item-image",t.prototype.bindings={".comment-name":{observe:"owner",onGet:function(){var e;return null!=(e=this.model.get("owner"))?e.fullname:void 0}},".comment-item-image":{attributes:[{name:"src",observe:"owner",onGet:function(){var e;return null!=(e=this.model.get("owner"))?e.photo:void 0}}]},".comment-timeago":{attributes:[{name:"title",observe:"createdAt"}]}},t.prototype.events={"click .comment-name":"showUserProfile","click .comment-item-image":"showUserProfile","click .edit-comment":"editComment","click .delete-comment":"deleteComment","click .cancel-edit-comment":"cancelEdit","click .flag-comment":"flagComment"},t.prototype.initialize=function(e){return c.bindAll(this,"showUserProfile","editComment","deleteComment"),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"highlight",this.highlight),this.answer=e.answer},t.prototype.render=function(){return this.$el.html(this.template()()),this.setCommentText(),this.stickit(),this.model.get("isEditable")?(this.$(".edit-comment, .delete-comment").removeClass("hide"),this.$(".more-options").removeClass("hide")):this.$(".more-options").addClass("hide"),l.get("id")===this.model.get("owner").userId&&this.$(".flag-comment").addClass("hide"),a.get("questionOwnerId")===this.model.get("owner").userId?this.$(".name").addClass("my-user-name"):this.$(".name").removeClass("my-user-name"),this.user=this.model.get("owner"),this.replaceWithProfilePic(),this.checkTAComments(),n.F.MOMENT_TIME(this.$(".comment-timeago")),n.F.REASSIGN_TIMES(),this.enableTooltip(),this.$el},t.prototype.enableTooltip=function(){return this.$(".flag-comment").tooltip({title:"Report Inappropriate",placement:"left"})},t.prototype.setCommentText=function(){var e;return e=linkifyStr(this.model.get("body")).trim().replace(/\n/g,"<br>"),this.$(".comment-body").html(e)},t.prototype.editComment=function(){return this.originalHeight=this.$(".comment-body").height(),this.$(".view-comment-div").addClass("hide"),this.editView||(this.editView=new i({model:this.model,parentView:this,answer:this.answer}),this.$(".edit-comment-div").append(this.editView.render())),this.originalComment=this.model.get("body"),this.editView.show(this.originalHeight)},t.prototype.highlight=function(){return n.F.HIGHLIGHT_TEMPORARILY(this.$el)},t.prototype.cancelEdit=function(){return this.model.set("body",this.originalComment),this.switchToViewMode()},t.prototype.switchToViewMode=function(){return this.editView.hide(),this.setCommentText(),this.$(".view-comment-div").removeClass("hide")},t.prototype.showUserProfile=function(){return s.navigate("/v/course/"+a.get("courseId")+"/profile/"+this.model.get("owner").userId+"/about"),a.set("profileId",this.model.get("owner").userId),n.trigger(n.E.DISPLAY_PROFILE)},t.prototype.flagComment=function(){return n.trigger(n.E.FLAG_MODEL,"comment",this.model.get("id"))},t.prototype.checkTAComments=function(){if(this.model.get("owner").isTA)return n.F.APPEND_QUARTER_LOGO(this.$(".discussion-user-image-comment"))},t.prototype.remove=function(){var e;return null!=(e=this.editView)&&e.remove(),this.stopListening(),this.$el.remove()},t.prototype.deleteComment=function(){if(confirm("Are you sure you want to delete this comment?"))return this.model.destroy()},t}(n.View),c.extend(r.prototype,u),t.exports=r},{"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,"../user-image-initials-support":275,"./create-comment-view":181,backbone:318,"backbone.stickit":317,underscore:445}],178:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;n=e("backbone"),d=e("underscore"),n.$=$,r=e("../../helpers/base-view"),i=e("../../helpers/collection-view-support"),c=e("../../../models/shared-model"),a=e("./comment-item-view"),s=e("../../../models/discussions/discussion-comment-model"),l=e("./create-comment-view"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.template=function(){return d.template($("#comments-template").html())},t.prototype.itemViewClass=a,t.prototype.events={"click .show-more":"showMore"},t.prototype.initialize=function(e){return this.subViews={},this.answer=e.answer,this.comments=e.comments,this.listenTo(this.comments,"showMore",this.showMore),this.collection=this.comments,this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.itemObj={answer:this.answer}},t.prototype.render=function(){return this.$el.html(this.template()()),this.newCommentView=new l({answer:this.answer,comments:this.comments,createView:!0}),this.$(".new-comment-div").append(this.newCommentView.render()),this.$(".new-comment-div").addClass("hide"),this.collection.length>2?(this.addOne(this.collection.first()),this.addOne(this.collection.models[1])):(this.addAll(),this.$(".show-more").addClass("hide")),this.$el},t.prototype.showMore=function(){var e;if(e=0,!this.$(".show-more").hasClass("hide"))return this.$(".show-more").addClass("hide"),this.collection.each(function(t){return function(o){return e>=2&&t.addOne(o),e+=1}}(this))},t.prototype.remove=function(){return this.newCommentView.remove(),this.stopListening(),this.$el.remove()},t}(n.View),d.extend(u.prototype,i),t.exports=u},{"../../../models/discussions/discussion-comment-model":59,"../../../models/shared-model":85,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"./comment-item-view":177,"./create-comment-view":181,backbone:318,underscore:445}],179:[function(e,t,o){var n,r,i,s,a;n=e("backbone"),a=e("underscore"),n.$=$,i=e("../../../collections/discussions/discussion-contexts"),s=e("../../../models/user-model"),r={bindContextFillMethods:function(){return a.bindAll(this,"setupContextDropdown","fillTagsDropdown")},setupContextDropdown:function(){return this.tagsDd=this.$(".tag-by").select2({containerCssClass:"edit-question-select-tags",dropdownCssClass:"edit-question-tags-list-item",placeholder:"Select topic",matcher:function(e,t){return n.F.select2Matcher(e,t)}}),this.fillTagsDropdown()},fillTagsDropdown:function(){var e;if(!(this.$(".tag-by").find("option").length>1))return e="<option></option>",i.each(function(t){var o;if(o="Discussion of the week"===t.get("label"),!o||o&&(s.isTA()||s.isTeacher()||s.isStudentTa())){if(t.get("isSelectable"))return e+="<option data-type="+t.get("externalType")+" value='"+t.get("pk")+"'>"+t.get("label")+"</option>";if(t.get("children")&&t.get("children").length>0)return e+="<optgroup class='meta-tag' label='"+t.get("label")+"'>",a.each(t.get("children"),function(t){return e+="<option data-type="+t.externalType+" value="+t.pk+">"+t.label+"</option>"}),e+="</optgroup>"}}),this.$(".tag-by").append(e)}},t.exports=r},{"../../../collections/discussions/discussion-contexts":13,"../../../models/user-model":87,backbone:318,underscore:445}],180:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;r=e("backbone"),d=e("underscore"),r.$=$,n=e("../../../models/discussions/discussion-answer-model"),c=e("../../../models/user-model"),l=e("../user-image-initials-support"),u=e("../../../models/shared-model"),s=e("../../../collections/discussions/discussion-answers"),a=e("../../prevent-form-submit-image-upload-support"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.template=function(){return d.template($("#create-answer-template").html())},t.prototype.userImageSelector=".create-answer-image",t.prototype.events={"click .answer":"saveAnswer","change .seeder-value":"setseededUserId"},t.prototype.bindings={".answer-input":"body",".check-seeded":{observe:"isSeeded",onSet:function(e){return e&&(this.$(".seeders-list select").val(""),this.$(".seeder-value").removeClass("error")),this.toggleSeeder(e),e}}},t.prototype.initialize=function(e){if(d.bindAll(this,"trackNewForumResponse","fillTagsDropdown"),this.listenTo(this,"createEditor",this.createEditor),this.listenTo(c,"change:profilePic",this.updateProfilePic),this.question=e.question,this.parentView=e.parentView,this.bindCkEditorEvents(),e.createView)return this.createView=!0,this.initializeModel()},t.prototype.render=function(){var e;return this.$el.html(this.template()()),this.stickit(),this.checkModelStateAndUpdate(),this.$(".answer-input").attr("name",this.model.cid),this.$(".create-answer-image").attr("src",null!=(e=c.get("profilePic"))?e.URL:void 0),this.updateProfilePic(),this.$el},t.prototype.checkModelStateAndUpdate=function(){return this.model.isNew()?(this.populateSeeders(),this.enableSeeding(),this.$(".cancel-edit-answer").addClass("hide")):this.$(".col-sm-1").addClass("hide")},t.prototype.enableSeeding=function(){var e,t;if(e=c.isTeacher()||c.isTA()||c.isAdmin(),t="Class Opinions"===this.question.get("title")||"Class Opinion"===this.question.get("title"),e&&t)return this.$(".seeded-div").removeClass("hide")},t.prototype.toggleSeeder=function(e){return e?this.$(".seeders-list").removeClass("hide"):this.$(".seeders-list").addClass("hide")},t.prototype.populateSeeders=function(){var e,t,o;return t=function(e){return function(t){return e.fillTagsDropdown(t)}}(this),e=function(e){return r.ERR.SHOW(e)},o=r.C.DISCUSSIONS_PATH()+("/v1/seeded_users/"+u.get("courseId")),r.F.AJAX("GET",o,t)},t.prototype.fillTagsDropdown=function(e){var t;return t=e.length?"<option selected='selected' value='' disabled>Select User</option>":"<option selected='selected' value='' disabled>No Respondents Avaliable</option>",e.forEach(function(e){return t+="<option value='"+e.userId+"'>"+e.fullname+"</option>"}),this.$(".seeder-value").html(t)},t.prototype.updateProfilePic=function(){return this.user=c.toJSON(),this.replaceWithProfilePic()},t.prototype.createEditor=function(){return this.editor=CKEDITOR.replace(this.model.cid),this.addCkeditorEvents()},t.prototype.show=function(){return this.model.isNew()||this.$(".create-answer-image").addClass("hide"),this.editor.setData(this.model.get("body")),this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$el.addClass("hide")},t.prototype.trackNewForumResponse=function(){var e,t,o;return t=this.question.get("id").toString(),e={"Parent Question Id":t.toString()},r.T.MIXPANEL_TRACK("New Forum Response",e),r.T.MIXPANEL_INCREMENT_PROPERTY("Forum Responses Given"),o=new Date,r.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Forum Activity":o.toISOString()})},t.prototype.saveAnswer=function(){var e,t;if(this.editor.getData()){if(this.model.set("body",r.F.TRIM_EMPTY_SPACES_IN_EDITOR(r.F.formatEditorContents(this.editor))),this.validateSeeder())return;return this.$(".answer").addClass("loading"),t={success:function(e){return function(){return e.$(".answer").removeClass("loading"),e.createView?(s.add(e.model,{silent:!0}),s.trigger("add-at-bottom",e.model),e.unstickit(),e.initializeModel(),e.stickit(),e.question.set("answerCount",e.question.get("answerCount")+1),e.question.set("hasAnswered",!0),e.question.trigger("updateAnswerColor"),e.$(".seeders-list").addClass("hide"),e.trackNewForumResponse()):e.parentView.switchToViewMode()}}(this),error:function(e){return function(t,o){return e.$(".answer").removeClass("loading"),r.ERR.SHOW(o)}}(this)},this.createView||(t.patch=!0,e={body:this.model.get("body")}),this.model.save(e||this.model.toJSON(),t)}},t.prototype.validateSeeder=function(){return!(!this.model.get("isSeeded")||this.model.get("seededUserId")||!this.model.isNew())&&(this.$(".seeder-value").addClass("error"),!0)},t.prototype.initializeModel=function(){var e;return null!=(e=this.editor)&&e.setData(""),this.model=new n({questionId:this.question.get("id"),body:null})},t.prototype.setseededUserId=function(){return this.model.set("seededUserId",this.$(".seeder-value").val()),this.$(".seeder-value").removeClass("error")},t.prototype.remove=function(){return this.removeCkeditorEvents(),this.stopListening(),this.$el.remove()},t}(r.View),d.extend(i.prototype,l,a),t.exports=i},{"../../../collections/discussions/discussion-answers":11,"../../../models/discussions/discussion-answer-model":58,"../../../models/shared-model":85,"../../../models/user-model":87,"../../prevent-form-submit-image-upload-support":116,"../user-image-initials-support":275,backbone:318,underscore:445}],181:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,r=e("../../../models/discussions/discussion-comment-model"),u=e("../../../models/user-model"),a=e("../user-image-initials-support"),s=e("../../helpers/helper-methods"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.template=function(){return l.template($("#create-comment-template").html())},t.prototype.userImageSelector=".create-comment-image",t.prototype.events={"click .save-comment":"saveComment"},t.prototype.bindings={".comment-input":"body"},t.prototype.initialize=function(e){if(l.bindAll(this,"trackNewForumComment"),this.listenTo(u,"change:profilePic",this.updateProfilePic),this.answer=e.answer,this.comments=e.comments,this.parentView=e.parentView,e.createView)return this.createView=!0,this.initializeModel()},t.prototype.render=function(){var e;return this.$el.html(this.template()()),this.stickit(),this.createView&&this.$(".cancel-edit-comment").addClass("hide"),this.$(".create-comment-image").attr("src",null!=(e=u.get("profilePic"))?e.URL:void 0),this.updateProfilePic(),s.autoResize(this.$(".comment-input")),this.$el},t.prototype.updateProfilePic=function(){return this.user=u.toJSON(),this.replaceWithProfilePic()},t.prototype.show=function(e){var t,o;return t=this.$el.find(".comment-input"),o=t.css("max-height"),e=e>o?o:e,t.height(e),this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$el.addClass("hide")},t.prototype.trackNewForumComment=function(){var e,t,o;return e=this.answer.get("id"),t={"Parent Id":e.toString()},n.T.MIXPANEL_TRACK("New Forum Response",t),n.T.MIXPANEL_INCREMENT_PROPERTY("Forum Comments"),o=new Date,n.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Forum Activity":o.toISOString()})},t.prototype.saveComment=function(){var e,t;if(this.model.get("body"))return this.$(".save-comment").addClass("loading"),t={success:function(e){return function(){return e.$(".save-comment").removeClass("loading"),e.trackNewForumComment(),e.createView?(e.comments.add(e.model),e.unstickit(),e.initializeModel(),e.stickit()):e.parentView.switchToViewMode()}}(this),error:function(e){return function(t,o){return e.$(".save-comment").removeClass("loading"),n.ERR.SHOW(o)}}(this)},this.createView||(t.patch=!0,e={body:this.model.get("body")}),this.model.save(e||this.model.toJSON(),t)},t.prototype.initializeModel=function(){return this.model=new r({answerId:this.answer.get("id"),body:null})},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t}(n.View),l.extend(i.prototype,a),t.exports=i},{"../../../models/discussions/discussion-comment-model":59,"../../../models/user-model":87,"../../helpers/helper-methods":104,"../user-image-initials-support":275,backbone:318,underscore:445}],182:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y,v=function(e,t){function o(){this.constructor=e}for(var n in t)b.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},b={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),y=e("underscore"),n.$=$,h=e("../../student-router"),c=e("../../../models/discussions/discussion-question-model"),g=e("../../../models/user-model"),d=e("../../../collections/discussions/discussion-questions"),m=e("../user-image-initials-support"),u=e("../../../collections/discussions/my-questions-collection"),s=e("../../../collections/discussions/discussion-contexts"),r=e("./context-fill-mixin"),p=e("../../../collections/discussions/discussion-related-questions"),a=e("./discussions-collection-handler"),f=e("../../../models/shared-model"),l=e("../../prevent-form-submit-image-upload-support"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype.el=".ask-a-question",t.prototype.userImageSelector=".create-question-user-image",t.prototype.events={"submit .create-question-form":"save","change .tag-by":"toggleErrorAndChangePostQuestionView","mouseout .create-question-title":"removeToolTip","click .create-question-button":"showCreateQuestionForm","mousedown .cancel-edit":"hideCreateQuestionView","click .cancel-ask-a-question":"hideCreateQuestionView","mousedown #show-all-results":"goToSearchView"},t.prototype.bindings={".title":"title"},t.prototype.initialize=function(){var e;return y.bindAll(this,"getEditorContent","save","validateAskQuestionCount","trackForumQuestionAsked"),this.listenTo(n,n.E.FILL_ADD_COURSE_CONTEXT_DROPDOWN,this.setupContextDropdown),this.listenTo(n,n.E.RESET_CREATE_QUESTION,this.resetCreateQuestion),this.listenTo(s,"reset",this.resetTagsDropdown),this.listenTo(g,"change:profilePic",this.updateProfilePic),this.listenTo(n,n.E.SHOW_CREATE_QUESTION_FORM,this.show),this.editor=CKEDITOR.replace(this.$("textarea.description")[0]),this.bindCkEditorEvents(),this.initializeModel(),this.bindContextFillMethods(),this.$(".create-question-user-image").attr("src",null!=(e=g.get("profilePic"))?e.URL:void 0),this.updateProfilePic(),this.restrictEnterInTitle(),this.timer=0},t.prototype.show=function(e){return this.trackAskQuestion("ask"),this.$el.removeClass("hide"),this.addEventListenerOnTitle(),this.addCkeditorEvents(),this.$(".create-question-title").attr("disabled",!1),e?(this.$(".create-question-title").val(e),this.$(".title").trigger("change"),this.showCreateQuestionForm()):(this.clearAddForm(),this.typeToGetSuggestion())},t.prototype.typeToGetSuggestion=function(){return this.$(".description-area-tip-error-wrapper.show-on-title-click").addClass("hide"),this.$(".type-question").removeClass("hide"),this.$(".next-step-buttons-div").removeClass("hide"),this.$(".unique-question").addClass("hide"),this.$(".create-question-form-buttons").addClass("hide"),this.$(".create-question-button").addClass("disabled"),this.$("#related-questions-count").empty(),n.trigger(n.E.HIDE_RELATED_QUESTIONS_VIEW)},t.prototype.addEventListenerOnTitle=function(){return this.$(".title").on("keyup",function(e){return function(t){return e.relatedQuestionsSearch(t),e.validateAskQuestionCount()}}(this))},t.prototype.restrictEnterInTitle=function(){return this.$(".create-question-title").keypress(function(e){return function(t){return 13===t.keyCode?(t.preventDefault(),e.$(".create-question-title").tooltip({placement:"right",title:"Line spaces are not allowed in questions to keep them concise. Please use description to add more details."}),e.$(".create-question-title").tooltip("show")):e.removeToolTip()}}(this))},t.prototype.removeToolTip=function(){return this.$(".create-question-title").tooltip("destroy")},t.prototype.updateProfilePic=function(){return this.user=g.toJSON(),this.replaceWithProfilePic()},t.prototype.initializeModel=function(){return this.unstickit(),this.model=new c,this.stickit()},t.prototype.setupContextDropdown=function(){return this.tagsDd=this.$(".tag-by").select2({containerCssClass:"edit-question-select-tags",dropdownCssClass:"edit-question-tags-list-item",placeholder:"Select topic",matcher:function(e,t){return n.F.select2Matcher(e,t)}}),this.fillTagsDropdown(),this.clearAddForm()},t.prototype.resetTagsDropdown=function(){return this.$(".tag-by").empty()},t.prototype.getEditorContent=function(){return n.F.TRIM_EMPTY_SPACES_IN_EDITOR(n.F.formatEditorContents(this.editor))},t.prototype.toggleErrorAndChangePostQuestionView=function(){return this.$(".tag-by").val()&&this.$(".topic-error").addClass("hide"),"incontent"===this.$(".tag-by option:selected").attr("data-type")?this.disableTitleEnableDescription():(this.$(".create-question-title").attr("disabled",!1),"Class Opinions"===this.$(".create-question-title").val()?(this.$(".create-question-title").val(""),CKEDITOR.instances.description.setData("")):void 0)},t.prototype.disableTitleEnableDescription=function(){return this.$(".create-question-title").val("Class Opinions"),this.$(".create-question-title").attr("disabled",!0),this.model.set("title","Class Opinions")},t.prototype.addValidationOnDescription=function(){var e;return e=CKEDITOR.instances.description.getData(),e?(this.$(".description-error").addClass("hide"),!0):(this.$(".description-error").removeClass("hide"),!1)},t.prototype.save=function(e){var t,o,r,i,s,a,l;if(e.preventDefault(),this.trackAskQuestion("post"),i=this.model.isNew(),this.$(".tag-by").val()||(this.$(".topic-error").removeClass("hide"),r=!0),"incontent"!==this.$(".tag-by option:selected").attr("data-type")&&(l=n.F.wordCount(this.$(".title").val()).words)<5&&(this.$(".error-div").removeClass("hide"),s=0===l?"This is a required field.":"Question is too short.",this.$(".error-div").children(".col-sm-12").text(s),this.$(".tip").addClass("hide"),o=!0),!(r||o||this.validateAskQuestionCount())&&("incontent"!==this.$(".tag-by option:selected").attr("data-type")||this.addValidationOnDescription()))return $(".save-discussion").addClass("loading"),this.$(".description-area").hasClass("hide")||this.model.set("body",this.getEditorContent()),a={success:function(e){return function(){return e.trackForumQuestionAsked(),e.$(".create-question-title").attr("disabled",!1),$(".save-discussion").removeClass("loading"),e.hideCreateQuestionView(),parseInt($(".filter-questions-by-module").val())===e.model.get("context").pk||"All questions"===$(".filter-questions-by-module").val()?(d.add(e.model,{silent:!0}),d.trigger("prepend",e.model)):($(".filter-questions-by-module").val(e.model.get("context").pk),$(".filter-questions-by-module").trigger("change")),e.initializeModel(),e.clearAddForm(),i&&u.trigger("addNewQuestion",e.model),n.trigger(n.E.UPDATE_QUESTION_COUNT,d.count+1)}}(this),error:function(e){return function(e,t){return $(".save-discussion").removeClass("loading"),n.ERR.SHOW(t)}}(this)},i?(this.model.set("contextPk",parseInt(this.$(".tag-by").val())),t=this.model.toJSON()):(a.patch=!0,t={context:this.model.get("context"),body:this.model.get("body"),title:this.model.get("title")}),this.model.save(t,a)},t.prototype.trackForumQuestionAsked=function(){var e,t,o,r,i,s,a;return this.model.get("context")&&(s=this.model.get("context").label),a=n.F.wordCount(this.model.get("title")),e=$(".select2-selection__rendered span").html(),e||(e="All Questions"),r="forum page",t=!!this.model.get("body"),o={"Question Topic":s,"Word Count":a.words,"Current Forum Topic":e,Source:r,Description:t},n.T.MIXPANEL_TRACK("New Forum Question",o),n.T.MIXPANEL_INCREMENT_PROPERTY("Forum Questions Asked"),i=new Date,n.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Forum Activity":i.toISOString()}),n.T.TAG_SESSION("Forum Question Asked")},t.prototype.clearAddForm=function(){return this.editor.setData(""),this.$(".title").val(""),this.$(".tag-by").val(""),this.$(".error-div").addClass("hide"),this.$(".tip").removeClass("hide"),this.$(".tag-by").trigger("change")},t.prototype.validateAskQuestionCount=function(){return n.F.wordCount(this.$(".title").val()).words>50?(this.$(".error-div").removeClass("hide"),this.$(".error-div").children(".col-sm-12").text("To keep the question accurate, it can't exceed 50 words,  Use the description field above to add more details. It has "+n.F.wordCount(this.$(".title").val()).words+" words."),this.$(".tip").addClass("hide"),!0):(this.$(".error-div").addClass("hide"),this.$(".tip").removeClass("hide"),!1)},t.prototype.resetCreateQuestion=function(){return this.$(".create-question-title").attr("disabled",!1)},t.prototype.showCreateQuestionForm=function(){return this.trackAskQuestion("Add Details"),this.$(".create-question-form-buttons").removeClass("hide"),this.$(".next-step-buttons-div").addClass("hide"),this.$("#show-all-results").addClass("hide"),this.$(".type-question").addClass("hide"),this.$(".unique-question").addClass("hide"),this.$("#related-questions-count").empty(),p.reset(),this.$(".description-area-tip-error-wrapper").removeClass("hide"),this.$(".title").off("keyup"),this.$(".title").keyup(function(e){return function(){return e.validateAskQuestionCount()}}(this))},t.prototype.relatedQuestionsSearch=function(){var e,t;return this.$(".create-question-title").val()?(n.T.MIXPANEL_TRACK("Search Ask A Question"),t=function(e){return function(){return e.$(".create-question-button").removeClass("disabled"),p.length?e.showRelatedQuestions():e.showQuestionIsUnique()}}(this),e=function(e){return function(){return a.searchDiscussions(e.$(".create-question-title").val(),p,t,5)}}(this),n.F.SEARCH_DELAY(e,200)):this.typeToGetSuggestion()},t.prototype.showRelatedQuestions=function(){return this.$(".type-question").addClass("hide"),this.$(".description-area-tip-error-wrapper").addClass("hide"),this.$(".create-question-form-buttons").addClass("hide"),this.$(".unique-question").addClass("hide"),this.$(".next-step-buttons-div").removeClass("hide"),this.$("#show-all-results").removeClass("hide"),this.populateRelatedQuestionsCount(),n.trigger(n.E.SHOW_RELATED_QUESTIONS_VIEW,this.$(".create-question-title").val())},t.prototype.showQuestionIsUnique=function(){return this.$(".type-question").addClass("hide"),this.$(".description-area-tip-error-wrapper").addClass("hide"),this.$(".create-question-form-buttons").addClass("hide"),this.$("#show-all-results").addClass("hide"),this.$("#related-questions-count").empty(),this.$(".unique-question").removeClass("hide"),this.$(".next-step-buttons-div").removeClass("hide")},t.prototype.populateRelatedQuestionsCount=function(){return 1===p.hits?this.$("#related-questions-count").text(p.hits+" Similar Result Found"):this.$("#related-questions-count").text(p.hits+" Similar Results Found")},t.prototype.goToSearchView=function(){var e,t;if(t=this.$(".create-question-title").val(),e={},t&&(e.q=t),this.contextPk&&"All questions"!==this.contextPk&&(e.contextPk=this.contextPk),t)return n.trigger(n.E.SHOW_SEARCH_RESULTS_VIEW,e),f.set("discussionSearchTerm",t),f.set("discussionSearchContext",this.contextPk)},t.prototype.trackAskQuestion=function(e){return n.T.MIXPANEL_TRACK("New Forum Question",{type:e})},t.prototype.hideCreateQuestionView=function(){return this.clearAddForm(),n.trigger(n.E.HIDE_RELATED_QUESTIONS_VIEW),n.trigger(n.E.INITIALIZE_SEARCH_FILTER_VIEW_QUESTIONS_VIEW,{contextPk:f.get("discussionContext"),sortBy:f.get("sortBy")}),n.trigger(n.E.UPDATE_QUESTION_COUNT),this.removeCkeditorEvents(),this.$el.addClass("hide")},t}(n.View),y.extend(i.prototype,m,r,l),t.exports=new i},{"../../../collections/discussions/discussion-contexts":13,"../../../collections/discussions/discussion-questions":16,"../../../collections/discussions/discussion-related-questions":17,"../../../collections/discussions/my-questions-collection":20,"../../../models/discussions/discussion-question-model":62,"../../../models/shared-model":85,"../../../models/user-model":87,"../../prevent-form-submit-image-upload-support":116,"../../student-router":117,"../user-image-initials-support":275,"./context-fill-mixin":179,"./discussions-collection-handler":185,backbone:318,"backbone.stickit":317,underscore:445}],183:[function(e,t,o){var n,r,i;n=e("backbone"),i=e("underscore"),n.$=$,r=e("../../../models/shared-model"),n.D={HIGHLIGHT_SEARCH:function(e,t){var o,n;return e=e.trim(),e=e.split("|||"),o=!1,n=[],i.each(e,function(e){return e=linkifyStr(e),e=e.replace(/\n/g,"<br>"),o&&(e="<span class="+t+">"+e+"</span>"),o=!o,n.push(e)}),n.join("")},CANCEL_SEARCH:function(){if(this.timer)return clearTimeout(this.timer)}}},{"../../../models/shared-model":85,backbone:318,underscore:445}],184:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h=function(e,t){function o(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},f={}.hasOwnProperty;n=e("backbone"),p=e("underscore"),n.$=$,r=e("../../helpers/base-view"),i=e("../../helpers/collection-view-support"),d=e("../../../models/shared-model"),u=e("../../helpers/infinite-scroll-support"),c=e("../../../collections/discussions/discussion-questions"),l=e("./question-item-view"),s=e("../../../collections/discussions/discussion-contexts"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.itemViewClass=l,t.prototype.initialize=function(){return this.bindCollectionSupportMethods(),this.subViews={},this.bindScrollMethods(),this.listenTo(n,n.E.REMOVE_EMPTY_STATE,this.removeEmptyState),t.__super__.initialize.call(this)},t.prototype.emptyTagsDropdown=function(){return this.filledDropdown=!1,this.$(".filter-questions-by-module").empty()},t.prototype.showView=function(e){if(d.get("currentView")!==this.viewIdentifier)return d.resetCurrentView(this.viewIdentifier),this.addScrollListener(),this.addCollectionListeners(),this.addAll(),this.adjustScroll(),n.trigger(n.E.SHOW_COLLAPSE_FORM_LISTENER)},t.prototype.adjustScroll=function(){var e,t;if(e=this.collection.get(d.get("discussionQuestionId")))return d.set("discussionQuestionId",null),t="."+e.modelEl.toLowerCase()+"-"+e.cid+" .discussion-card",this.$(t)&&n.F.SCROLL_TO_ELEMENT(this.$(t),-300),n.F.HIGHLIGHT_TEMPORARILY(this.$(t))},t.prototype.hide=function(){return n.trigger(n.E.DESTROY_SEARCH_FILTER_VIEW),this.switchOffScrollListener(),this.removeCollectionListeners(),this.removeOldItems(),n.trigger(n.E.REMOVE_COLLAPSE_FORM_LISTENER),this.$el.addClass("hide")},t.prototype.removeEmptyState=function(){return this.$(".no-questions").addClass("hide"),this.$(".all-question-empty-state").addClass("hide")},t.prototype.fetchQuestions=function(e,t,o){var r;return n.F.SHOW_LOADER(),r={reset:!0,error:function(e){return function(e,t){if(n.F.HIDE_LOADER(),n.ERR.SHOW(t),o)return o()}}(this),success:function(e){return function(){return n.F.HIDE_LOADER(),t&&t(),e.collection.length?e.removeEmptyState():(e.$(".no-questions").removeClass("hide"),"Discussion of the week"===e.$(".filter-questions-by-module option:selected").text()?e.$(".all-question-empty-state .grey").addClass("hide"):e.$(".all-question-empty-state .grey").removeClass("hide"),e.$(".all-question-empty-state").removeClass("hide"))}}(this),data:e},this.collection.fetch(r)},t}(r),p.extend(a.prototype,u,i),t.exports=a},{"../../../collections/discussions/discussion-contexts":13,"../../../collections/discussions/discussion-questions":16,"../../../models/shared-model":85,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"../../helpers/infinite-scroll-support":105,"./question-item-view":192,backbone:318,underscore:445}],185:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),u=e("underscore"),l=e("algoliasearch"),n.$=$,s=e("../../../models/shared-model"),a=e("../../../collections/discussions/discussion-suggestions"),i=e("../../../collections/discussions/discussion-related-questions"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.contextData={},t.prototype.client=null,t.prototype.index=null,t.prototype.initialize=function(){return u.bindAll(this,"parseAlgoliaResponse");
},t.prototype.initAlgoliaClient=function(){var e;return this.client=l(s.get("algoliaApp"),s.get("algoliaApiKey")),this.index=null!=(e=this.client)?e.initIndex(s.get("algoliaIndex")):void 0},t.prototype.search=function(e,t,o,n,r,i){var a,u,l;return a="course_external_id = "+s.get("courseId"),l=" AND session_id = "+s.get("sessionId"),u=" AND segment_id = "+s.get("segmentId"),a+=n?l:u,r&&(a+=" AND NOT segment_id = "+s.get("segmentId")),i&&(a+=" AND is_starred = 1"),this.clearCache(),this.callSearch(e,t,o,{filters:a})},t.prototype.searchDiscussions=function(e,t,o,n){var r,i;return i=this.convertContextToQuery(),r={filters:"course_external_id = "+s.get("courseId")+i,hitsPerPage:n},this.clearCache(),this.callSearch(e,t,o,r,n)},t.prototype.callSearch=function(e,t,o,n,r){var i;if(5===r&&(i="related"),this.index)return this.index.search(e,n,function(r){return function(i,a){var u,l;if(t.reset(r.parseAlgoliaResponse(a,t)),o&&o(),n.hitsPerPage&&(u=s.get("courseId"),l="Discussion Forum"),""!==e)return r.trackSearch(e,parseInt(null!=a?a.hits.length:void 0),u,l)}}(this))},t.prototype.convertContextToQuery=function(){var e,t,o;if(s.get("contextArray"))return e=s.get("contextArray"),o="",t=1,u.each(e,function(e){return function(e){return o+=1===t?" AND (context_pk = "+e:" OR context_pk = "+e,t++}}(this)),o+")"},t.prototype.trackSearch=function(e,t,o,r){return null==o&&(o=s.get("segmentId")),null==r&&(r="DIC"),n.T.MIXPANEL_TRACK("Searched",{id:o?o.toString():void 0,Keyword:e,Results:t,"Ref Page":r})},t.prototype.clearCache=function(){if(this.index)return this.index.clearCache()},t.prototype.parseAlgoliaResponse=function(e,t){var o,n;if(n=[],o=1,null!=e?e.hits:void 0)return e.hits.length&&(t.hits=e.nbHits),u.each(null!=e?e.hits:void 0,function(e){return function(t){var r;return r=e.getObject(t,o),o++,n.push(r)}}(this)),n},t.prototype.getObject=function(e,t){return{id:e.id,index:t,title:e.title,highlightedTitle:e._highlightResult.title.value,body:e.clean_body,owner:{userId:e.user_id,fullname:e.owner_name,photo:e.owner_photo_url,isTA:e.owner_isTA},context:{pk:e.context_pk,sessionId:e.session_id,segmentId:e.segment_id,externalType:"",label:"",isSelectable:"",externalId:"",isArchived:""},createdAt:new Date(1e3*e.created_at),votes:"",answerCount:e.answers_count,hasAnswered:"",annotations:[],hasUpvoted:"",hasBookmarked:"",isEditable:"",isStarred:e.is_starred,properties:{TA_reviewed:e.TA_reviewed},pinned:"",pinnedType:"",fromAlgolia:!0}},t}(n.View),t.exports=new r},{"../../../collections/discussions/discussion-related-questions":17,"../../../collections/discussions/discussion-suggestions":18,"../../../models/shared-model":85,algoliasearch:298,backbone:318,underscore:445}],186:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,e("backbone.stickit"),r=e("../../../collections/discussions/discussion-facets-collection"),s=e("../../../models/shared-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.template=function(){return a.template($("#facet-item").html())},t.prototype.bindings={".context-label":"label",".context-count":"count"},t.prototype.events={"click .selectable-module-headers":"newSearchQuery","click li":"newSearchQuery"},t.prototype.initialize=function(){return a.bindAll(this,"render"),this.subViews={}},t.prototype.render=function(){return this.$el.html(this.template()()),this.stickit(),this.addContextToDataAttribute(),this.styleMe(),this.setActive(),this.addSessions(),this.$el},t.prototype.itemCidClass=function(e){return(e.modelEl||e.constructor.name||"model").toLowerCase()+"-"+e.cid},t.prototype.styleMe=function(){return this.setSelectable(),this.model.get("parent")?this.$el.addClass("level2"):this.$el.addClass("level1")},t.prototype.setSelectable=function(){return this.model.get("isSelectable")?this.$el.addClass("selectable-context"):this.$el.addClass("unselectable-context")},t.prototype.addSessions=function(){var e,o,r,i,s,a,u,l;if(this.model.get("children")&&this.model.get("children").length>0){for(this.$(".context-label").tooltip({title:this.model.get("label"),placement:"top"}),s=this.model.get("children"),a=[],e=0,r=s.length;e<r;e++)u=s[e],l=new n.Model(u),l.set("parent",this.model.get("label")),o=new t({model:l}),this.$(".session-label-container").first().append(o.render()),i=this.itemCidClass(l),a.push(this.subViews[i]=o);return a}},t.prototype.addContextToDataAttribute=function(){return this.$el.find("li").attr("data-value",this.model.get("pk"))},t.prototype.appendSearchResults=function(){return n.trigger(n.E.FACETS_RESULTS_COUNT,this.model.get("label"),this.model.get("count"))},t.prototype.setActive=function(){if(this.model.get("highlight"))return $("#facets").find(".active").removeClass("active"),this.$el.addClass("active"),this.appendSearchResults()},t.prototype.newSearchQuery=function(e){var t,o;if(e.stopPropagation(),!$(e.currentTarget).parent().hasClass("unselectable-context"))return n.T.MIXPANEL_TRACK("Facet Filter Clicked",{Topic:this.model.get("label"),"Search Term":s.get("searchTerm")}),o="contextual",t=this.$(e.currentTarget).attr("data-value"),this.model.set("highlight",!0),this.setActive(),n.trigger(n.E.PASS_NEW_SEARCH_CONTEXT,{contextPk:t,searchType:o})},t.prototype.remove=function(){var e,t;if(Object.keys(this.subViews).length)for(e in this.subViews)this.subViews.hasOwnProperty(e)&&(t=this.subViews[e],t.remove(),delete this.subViews[e]);return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=i},{"../../../collections/discussions/discussion-facets-collection":15,"../../../models/shared-model":85,backbone:318,"backbone.stickit":317,underscore:445}],187:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,r=e("../../helpers/base-view"),s=e("../../../collections/discussions/discussion-facets-collection"),i=e("../../helpers/collection-view-support"),a=e("./facets-item-view"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.el="#facets",t.prototype.viewIdentifier="facetsView",t.prototype.itemViewClass=a,t.prototype.appendToDivSelector=".facets-filter",t.prototype.collection=s,t.prototype.events={"click .view-more":"expandList","click .view-less":"contractList","click .all-header-div":"newSearchQuery"},t.prototype.initialize=function(){return l.bindAll(this,"show"),this.listenTo(n,n.E.SHOW_FACETS,this.show),this.listenTo(n,n.E.HIDE_FACETS,this.hide),this.listenTo(n,n.E.HIGHLIGHT_ALL_RESULTS,this.highlightAllResults),this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.subViews={},t.__super__.initialize.call(this)},t.prototype.show=function(){return this.$el.removeClass("hide")},t.prototype.expandList=function(){return this.$(".view-less-div").removeClass("hide"),this.$(".view-more-div").addClass("hide"),this.$(".facet-header").removeClass("contracted"),this.$(".facet-header").addClass("expanded")},t.prototype.contractList=function(){return this.$(".view-less-div").addClass("hide"),this.$(".view-more-div").removeClass("hide"),this.$(".facet-header").removeClass("expanded"),this.$(".facet-header").addClass("contracted")},t.prototype.performAfterAddingItems=function(){return this.$(".all-header-div .all-topics-count").text("("+s.allTopicCount+")"),this.allQuestionsSearched()&&this.highlightAllResults(),this.showViewMore()},t.prototype.allQuestionsSearched=function(){var e;return e=n.F.PARSE_QUERY_STRING(),"allquestions"===e.searchType},t.prototype.showViewMore=function(){return this.collection.totalCount()>11?this.contractList():this.$(".view-less-div, .view-more-div").addClass("hide")},t.prototype.highlightAllResults=function(){return this.$(".active").removeClass("active"),this.$(".all-header-div").addClass("active"),this.appendSearchResultCount()},t.prototype.appendSearchResultCount=function(){return n.trigger(n.E.FACETS_RESULTS_COUNT,"All questions")},t.prototype.newSearchQuery=function(e){var t;return t="allQuestions",this.highlightAllResults(),n.trigger(n.E.PASS_NEW_SEARCH_CONTEXT,{contextPk:this.$(e.currentTarget).attr("data-value"),searchType:t})},t.prototype.hide=function(){return this.$el.addClass("hide")},t}(r),l.extend(u.prototype,i),t.exports=new u},{"../../../collections/discussions/discussion-facets-collection":15,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"./facets-item-view":186,backbone:318,underscore:445}],188:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),a=e("underscore"),n.$=$,s=e("../../../models/shared-model"),r=e("../../../models/discussions/flag-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.el="#flag-modal",t.prototype.events={"click #flag-list":"flagOptionChanged","click .flag-post-submit-button":"markFlagged"},t.prototype.initialize=function(){return this.listenTo(n,n.E.FLAG_MODEL,this.show)},t.prototype.appendFlagList=function(){var e,t;return t=this.flag.get("model"),e="question"===t?["Abusive or inappropriate","The question is unrelated to the course or will not provide any learning value","Promoting a product or service","Other"]:"answer"===t?["Abusive or inappropriate","The answer is unrelated to the question asked or is not providing any learning value","Promoting a product or service","Other"]:["Abusive or inappropriate","Too chatty","Not constructive","Other"],this.$("#flag-list").empty(),a.each(e,function(e){return function(t){return e.$("#flag-list").append("<div class='radio'><label><input name='flag-list' type='radio' value='"+t+"'>"+t+"</label></div>")}}(this))},t.prototype.flagOptionChanged=function(){var e;return e=this.$("input[name=flag-list]:checked").attr("value"),e&&this.$(".error").addClass("hide"),"Other"===e?this.$(".other-option-input").removeClass("hide"):this.$(".other-option-input").addClass("hide")},t.prototype.show=function(e,t){return this.flag=new r({model:e,pk:t}),this.appendFlagList(),this.$el.modal("show")},t.prototype.markFlagged=function(){var e,t;return t=this.$("input[name=flag-list]:checked").attr("value"),(e="Other"===t?this.$(".other-option-input").val():t)?(this.flag.set("reason",e),this.$(".flag-post-submit-button").addClass("loading"),this.flag.save(this.flag.toJSON(),{success:function(e){return function(){return e.$(".flag-post-submit-button").removeClass("loading"),e.$el.modal("hide")}}(this),error:function(e){return function(t,o){return e.$(".flag-post-submit-button").removeClass("loading"),n.ERR.SHOW(o,e.$(".modal-error-space"))}}(this)})):void this.$(".error").removeClass("hide")},t.prototype.hide=function(){if(this.flag.isNew())return this.flag.destroy()},t}(n.View),t.exports=new i},{"../../../models/discussions/flag-model":63,"../../../models/shared-model":85,backbone:318,"backbone.stickit":317,underscore:445}],189:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;n=e("backbone"),d=e("underscore"),n.$=$,r=e("../../helpers/base-view"),i=e("../../helpers/collection-view-support"),c=e("../../../models/shared-model"),s=e("../../helpers/infinite-scroll-support"),u=e("./question-item-view"),l=e("../../../collections/discussions/my-bookmarks-collection"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.el="#my-bookmarks",t.prototype.viewIdentifier="myBookmarks",t.prototype.collection=l,t.prototype.itemViewClass=u,t.prototype.itemObj={isBookmarkTile:!0},t.prototype.initialize=function(){return this.bindCollectionSupportMethods(),this.subViews={},this.loaderDiv=this.$(".questions"),this.bindScrollMethods(),this.addCollectionListeners(),this.addViewListeners(),t.__super__.initialize.call(this)},t.prototype.addViewListeners=function(){return this.listenTo(n,n.E.LOAD_BOOKMARKS,this.show),this.listenTo(l,"showNoBookmarks",this.showNoBookmarks),this.listenTo(l,"hideNoBookmarks",this.hideNoBookmarks)},t.prototype.show=function(){return c.resetCurrentView(this.viewIdentifier),this.addScrollListener(),this.fetchBookmarkedQuestions(),this.$el.removeClass("hide")},t.prototype.adjustScroll=function(){var e,t;if(e=l.get(c.get("discussionQuestionId")))return c.set("discussionQuestionId",null),t="."+e.modelEl.toLowerCase()+"-"+e.cid+" .discussion-card",this.$(t)&&n.F.SCROLL_TO_ELEMENT(this.$(t),-300),n.F.HIGHLIGHT_TEMPORARILY(this.$(t))},t.prototype.showNoBookmarks=function(){return this.$(".no-questions").removeClass("hide"),this.$(".bookmark-empty-state").removeClass("hide")},t.prototype.hideNoBookmarks=function(){return this.$(".no-questions").addClass("hide"),this.$(".bookmark-empty-state").addClass("hide")},t.prototype.hide=function(){return this.switchOffScrollListener(),this.$el.addClass("hide")},t.prototype.fetchBookmarkedQuestions=function(){var e,t;return c.get("bookmarksLoadedOnce")?this.adjustScroll():(n.F.SHOW_LOADER(),t={reset:!0,success:function(e){return function(){return n.F.HIDE_LOADER(),c.set("bookmarksLoadedOnce",!0),l.length?(e.hideNoBookmarks(),e.adjustScroll()):e.showNoBookmarks()}}(this),error:function(e){return function(e,t){return n.F.HIDE_LOADER(),n.ERR.SHOW(t)}}(this)},e={},e.bookmarked=!0,t.data=$.param(e),l.fetch(t))},t}(r),d.extend(a.prototype,s,i),t.exports=new a},{"../../../collections/discussions/my-bookmarks-collection":19,"../../../models/shared-model":85,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"../../helpers/infinite-scroll-support":105,"./question-item-view":192,backbone:318,underscore:445}],190:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m;n=e("backbone"),f=e("underscore"),n.$=$,h=e("../../../models/user-model"),r=e("../../../models/config-model"),p=e("../../../models/shared-model"),l=e("./question-item-view"),i=e("../../../collections/discussions/discussion-contexts"),s=e("../../../collections/discussions/discussion-questions"),r=e("../../../models/config-model"),d=e("../../student-router"),u=e("../../../models/discussions/discussion-question-model"),l=e("./question-item-view"),a=e("../../helpers/feature-flags-helper"),m=e("sanitize-html"),e("./flag-question-view"),c={editTemplate:function(){return f.template($("#discussion-question-edit-template").html())},questionDetailTemplate:function(){return f.template($("#discussion-question-detail-template").html())},events:function(){return f.extend({},l.prototype.events,{"click .delete-question":"deleteQuestion","click .edit-question":"editQuestion","click .flag-question":"flagQuestion","click .cancel-edit":"cancelEdit","click .save-discussion":"save","click .answer-question":"scrollToNewAnswer","click .back":"backToAllDiscussions","click .context":"filterQuestionsByContext","click .answers":"scrollToAnswers","click .pin-discussion-contextually":"checkForPinnedDiscussion","click .pin-discussion-globally":"checkForPinnedDiscussion","click .unpin":"checkForPinnedDiscussion","change .tag-by":"contentDiscussionContextCheck","click .star-question":"fetchSegments","click .unstar-question":"unstarQuestion","click .mark-as-starred":"starQuestion","click #overlay":"removeFocusFromQuestion","change .segment-dropdown":"checkForErrorState"})},bindQuestionSupportMethods:function(){return f.bindAll(this,"show")},backToAllDiscussions:function(){var e,t;return n.trigger(n.E.RESET_CREATE_QUESTION),["discussionForum","discussionForumSearchResults"].indexOf(p.get("previousView"))===-1&&p.set("discussionQuestionId",null),"discussionForumSearchResults"===p.get("previousView")?(e={q:p.get("discussionSearchTerm"),contextPk:p.get("discussionSearchContext"),searchType:p.get("discussionsSearchType")},t=!!p.get("questionEdited"),n.trigger(n.E.SHOW_SEARCH_RESULTS_VIEW,e,t),n.T.MIXPANEL_TRACK("back to results")):(e={contextPk:p.get("discussionContext")||"All questions",sortBy:p.get("sortBy")||"hot"},d.navigate("/v/course/"+p.get("courseId")+"/discussions"),n.trigger(n.E.SHOW_DISCUSSION_FORUM,e))},show:function(e,t){var o,i,s;if(this.unstickit(),this.model=e,this.$el.find(".question-detail-div").append(this.questionDetailTemplate()()),i=this.template()(),this.$el.find(".question-div").append(i),o=this.editTemplate()(),this.$el.find(".edit-question-div").append(o),this.setDescription(),s=n.D.HIGHLIGHT_SEARCH(this.model.get("title"),"highlight"),this.$(".title").html(m(s)),r.checkDiscussionPermission("answer","read")||this.$(".answer-count-wrapper").addClass("hide"),p.set("questionOwnerId",this.model.get("owner").userId),this.model.get("isEditable")&&(this.$(".question-edit").removeClass("hide"),this.editor=CKEDITOR.replace("edit-discussion-description")),this.user=this.model.get("owner"),this.replaceWithProfilePic(),this.checkTAQuestions(),this.bindPinSupportMethods(),this.bindStarSupportMethods(),this.updateButtons(),this.checkStarredLabel(),this.showHidePinOption(),this.addCkeditorEvents(),this.stickit(),n.T.MIXPANEL_TRACK("Forum Question View",{question:e.get("id").toString()}),n.F.MOMENT_TIME(this.$(".question-timeago")),this.$(".loader-div").removeClass("hide"),this.$el.removeClass("hide"),this.options=t,this.options&&"questionEdit"===this.options.scrollTo&&this.updatePage(t),this.$(".title-edit").keyup(function(e){return function(){return e.validateAskQuestionCount()}}(this)),this.restrictEnterInTitle(),(null!=t?t.enableStarring:void 0)&&this.fetchSegments(),null!=t?t.removeStarring:void 0)return this.unstarQuestion()},filterQuestionsByContext:function(){return d.navigate("/v/course/"+p.get("courseId")+"/discussions"),n.trigger(n.E.SHOW_DISCUSSION_FORUM,{contextPk:this.model.get("context").pk})},disableTitleForContentDiscussion:function(){return"incontent"===this.model.get("context").externalType?this.$(".title-edit").attr("disabled",!0):this.$(".title-edit").attr("disabled",!1)},addValidationOnDescription:function(){var e;return e=CKEDITOR.instances["edit-discussion-description"].getData(),e?(this.$(".description-error").addClass("hide"),!0):(this.$(".description-error").removeClass("hide"),!1)},checkTAQuestions:function(){if(this.model.get("owner").isTA)return n.F.APPEND_QUARTER_LOGO(this.$(".discussion-user-image-question"))},restrictEnterInTitle:function(){return this.$(".title-edit").keypress(function(e){return function(t){return 13===t.keyCode?(t.preventDefault(),e.$(".title-edit").tooltip({placement:"right",title:"Line spaces are not allowed in \n questions to keep them concise. \n Please use description \n to add more details."}),e.$(".title-edit").tooltip("show")):e.removeToolTip()}}(this))},removeToolTip:function(){return this.$(".title-edit").tooltip("destroy")},scrollToNewAnswer:function(){return n.F.SCROLL_TO_ELEMENT(this.$(".new-answer-div"),-200)},scrollToAnswers:function(){return n.F.SCROLL_TO_ELEMENT(this.$(".answer-count-wrapper"),-20)},showQuestionDetails:function(){},updatePage:function(){var e;if(this.options)return e=this.options.scrollTo,setTimeout(function(t){return function(){return"newAnswer"===e?t.scrollToNewAnswer():"questionEdit"===e?t.editQuestion():void 0}}(this),300)},deleteQuestion:function(){if(confirm("Are you sure you want to delete this question?"))return this.model.destroy({success:function(e){return function(){return d.navigate("/v/course/"+p.get("courseId")+"/discussions"),n.trigger(n.E.SHOW_DISCUSSION_FORUM)}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},editQuestion:function(){return this.editor.setData(this.model.get("body")),this.$(".view-question-div").addClass("hide"),this.$(".edit-question-div").removeClass("hide"),this.$(".title-edit").focus(),this.disableTitleForContentDiscussion(),this.showOrHideContextSelection()},showOrHideContextSelection:function(){return r.checkDiscussionPermission("context","update")?(this.$(".context-selection").removeClass("hide"),this.setupContextDropdown(),this.setValueOfContext()):this.$(".context-selection").addClass("hide")},setValueOfContext:function(){return this.$(".tag-by").val(this.model.get("context").pk),this.$(".tag-by").trigger("change")},contentDiscussionContextCheck:function(){return this.previousTitle=this.model.get("title"),"incontent"===this.$(".tag-by option:selected").attr("data-type")?this.titleStateForContentDiscussion():this.titleStateForOtherContexts()},titleStateForContentDiscussion:function(){return this.$(".title-edit").attr("disabled",!0),this.$(".title-edit").val("Class Opinions")},titleStateForOtherContexts:function(){return this.$(".title-edit").val(this.previousTitle),this.$(".title-edit").attr("disabled",!1),this.$(".description-error").addClass("hide")},cancelEdit:function(){return this.model.rollback(),this.switchToViewMode()},checkForContextChangeToContentDiscussion:function(){if("incontent"===this.$(".tag-by option:selected").attr("data-type")&&"incontent"!==this.model.get("context").externalType){if(!confirm("Are you sure you want to change the context to Class Opinion? Note that the question title has been updated to 'Class Opinion'."))return void this.setValueOfContext();this.titleStateForContentDiscussion(),this.model.set("title",this.$(".title-edit").val()),!this.addValidationOnDescription()}},save:function(e){var t,o;if(e.preventDefault(),r.checkDiscussionPermission("context","update")&&this.checkForContextChangeToContentDiscussion(),"incontent"===this.$(".tag-by option:selected").attr("data-type")){if(!this.addValidationOnDescription())return}else if(this.validateAskQuestionCount()||this.validateTitle())return;return $(".save-discussion").addClass("loading"),this.model.set("body",n.F.TRIM_EMPTY_SPACES_IN_EDITOR(n.F.formatEditorContents(this.editor))),o={patch:!0,success:function(e){return function(){var t;return e.setDescription(),t=n.D.HIGHLIGHT_SEARCH(e.model.get("title"),"highlight"),e.$(".title").html(m(t)),e.switchToViewMode(),$(".save-discussion").removeClass("loading")}}(this),error:function(e){return function(e,t){return $(".save-discussion").removeClass("loading"),n.ERR.SHOW(t)}}(this)},t={body:this.model.get("body"),title:this.model.get("title"),contextPk:parseInt(this.$(".tag-by").val())},this.model.save(t,o),p.set("questionEdited",!0)},switchToViewMode:function(){return this.$(".view-question-div").removeClass("hide"),this.$(".edit-question-div").addClass("hide")},validateAskQuestionCount:function(){return n.F.wordCount(this.$(".title-edit").val()).words>50?(this.$(".error-div").removeClass("hide"),this.$(".error-div").children(".col-sm-12").text("To keep the question accurate, it can't exceed 50 words,  Use the description field above to add more details. It has "+n.F.wordCount(this.$(".title-edit").val()).words+" words."),this.$(".tip").addClass("hide"),!0):(this.$(".error-div").addClass("hide"),this.$(".tip").removeClass("hide"),!1)},validateTitle:function(){return n.F.wordCount(this.$(".title-edit").val()).words<5&&(this.$(".error-div").removeClass("hide"),this.$(".error-div").children(".col-sm-12").text("Question is too short."),this.$(".tip").addClass("hide"),!0)},hide:function(){var e,t;this.$(".discussion-card").remove(),null!=(t=this.answersView)&&t.remove(),this.removeCkeditorEvents();for(e in CKEDITOR.instances)"description"!==e&&CKEDITOR.instances[e].destroy(!0);return this.answersView=null,this.model&&(this.removePinSupportListeners(),this.removeStarSupportListeners()),this.$(".question-div, .answers-div, .question-detail-div").empty(),this.$el.addClass("hide")}},t.exports=c},{"../../../collections/discussions/discussion-contexts":13,"../../../collections/discussions/discussion-questions":16,"../../../models/config-model":54,"../../../models/discussions/discussion-question-model":62,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/feature-flags-helper":103,"../../student-router":117,"./flag-question-view":188,"./question-item-view":192,backbone:318,"sanitize-html":426,underscore:445}],191:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y,v,b,_,w,S=function(e,t){function o(){this.constructor=e}for(var n in t)C.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},C={}.hasOwnProperty;r=e("backbone"),w=e("underscore"),e("backbone.stickit"),r.$=$,g=e("../../../models/shared-model"),d=e("../../../models/discussions/discussion-question-model"),m=e("../../student-router"),_=e("../../../models/user-model"),n=e("./answers-view"),f=e("./question-item-view"),a=e("../../../collections/discussions/discussion-contexts"),u=e("../../../collections/discussions/discussion-questions"),b=e("../upvotes-support"),l=e("../pin-support"),s=e("./context-fill-mixin"),i=e("../../../models/config-model"),y=e("./single-answer-view"),p=e("./question-detail-support"),v=e("./star-support"),c=e("../../prevent-form-submit-image-upload-support"),e("./flag-question-view"),h=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return S(t,e),t.prototype.el="#discussion-question-detail",t.prototype.viewIdentifier="discussionQuestionDetail",t.prototype.className="margin-left-fixed-nav",t.prototype.initialize=function(){return w.bindAll(this,"findDataAndShow","appendAnswersView","hide"),this.listenTo(r,r.E.SHOW_QUESTION_DETAILS_VIEW,this.findDataAndShow),this.bindContextFillMethods(),this.addListeners(),this.bindCkEditorEvents(),t.__super__.initialize.call(this)},t.prototype.findDataAndShow=function(e){var t,o,n;return g.resetCurrentView(this.viewIdentifier),r.F.SHOW_LOADER(),n=u.get(g.get("discussionQuestionId")),n?(g.set("currentQuestionUser",n.get("owner").userId),this.show(n,e),r.F.HIDE_LOADER(),this.appendAnswersView()):(n=new d({id:g.get("discussionQuestionId")}),t={success:function(t){return function(){return r.F.HIDE_LOADER(),g.set("currentQuestionUser",n.get("owner").userId),t.show(n,e),t.appendAnswersView(e),document.title=n.get("title")+" | upGrad"}}(this),error:function(e){return function(e,t){return r.ERR.SHOW(t)}}(this)}),t||(t={}),g.get("discussionSearchTerm")&&(o={q:g.get("discussionSearchTerm")},t.data=$.param(o)),n.fetch(t)},t.prototype.appendAnswersView=function(e){var t,o,r,i;if(this.$(".loader-div").addClass("hide"),e&&(o=e.pageSize),!this.answerView)return t={question:this.model,pageSize:o},(null!=(r=this.options)&&null!=(i=r.scrollTo)?i.match(/answer/):void 0)&&(t.options=this.options),this.answersView=new n(t),this.$(".answers-div").append(this.answersView.render()),this.answersView.createEditor(),this.updatePage(this.options)},t}(f),w.extend(h.prototype,b,l,s,p,v,c),t.exports=new h},{"../../../collections/discussions/discussion-contexts":13,"../../../collections/discussions/discussion-questions":16,"../../../models/config-model":54,"../../../models/discussions/discussion-question-model":62,"../../../models/shared-model":85,"../../../models/user-model":87,"../../prevent-form-submit-image-upload-support":116,"../../student-router":117,"../pin-support":222,"../upvotes-support":274,"./answers-view":176,"./context-fill-mixin":179,"./flag-question-view":188,"./question-detail-support":190,"./question-item-view":192,"./single-answer-view":198,"./star-support":199,backbone:318,"backbone.stickit":317,underscore:445}],192:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y,v,b=function(e,t){function o(){this.constructor=e}for(var n in t)_.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},_={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),v=e("underscore"),n.$=$,p=e("../../student-router"),r=e("../../helpers/base-view"),h=e("../../../models/shared-model"),d=e("../../../collections/discussions/discussion-questions"),g=e("../user-image-initials-support"),m=e("../upvotes-support"),l=e("../pin-support"),y=e("../../../models/user-model"),u=e("../../../collections/discussions/my-bookmarks-collection"),i=e("../../../models/config-model"),f=e("../../helpers/snackbar"),a=e("../../helpers/feature-flags-helper"),s=e("../../viewer/discussion-question-view-mixin"),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.className="discussion-question item col-sm-12",t.prototype.template=function(){return v.template($("#discussion-question-template").html())},t.prototype.userImageSelector=".question-item-image",t.prototype.type="question",t.prototype.bindings={".question-name":{observe:"owner",onGet:function(){var e;return null!=(e=this.model.get("owner"))?e.fullname:void 0}},".question-item-image":{attributes:[{name:"src",observe:"owner",onGet:function(){return this.model.get("owner").photo}}]},".context":{observe:"context",onGet:function(){return this.model.get("context").label}},".question-title":"title",".title-edit":"title",".vote-count":"votes",".answers-count":"answerCount",".starred-block":{observe:"isStarred",update:function(e,t){if(a.isTaStarEnabled())return t?e.removeClass("hide"):e.addClass("hide")}},".question-timeago":{attributes:[{name:"title",observe:"createdAt"}]}},t.prototype.events={click:"showQuestionDetails","click .answers":"showQuestionDetails","click .question-name":"showUserProfile","click .question-item-image":"showUserProfile","click .upvote-question":"toggleVote","click .bookmark-question":"toggleBookmark","click .answer-question":"showAddAnswer","click .delete-question":"deleteQuestion","click .flag-question":"flagQuestion","click .edit-question":"editQuestion","click .context":"filterQuestionsByContext","click .question-upvotes":"showUpvotes","click .pin-discussion-contextually":"checkForPinnedDiscussion","click .pin-discussion-globally":"checkForPinnedDiscussion","click .unpin":"checkForPinnedDiscussion","click .star-question":"goToQuestionDetailView","click .unstar-question":"unstarQuestion"},t.prototype.initialize=function(e){return v.bindAll(this,"showQuestionDetails","showContextQuestions","showUserProfile","flagQuestion","filterQuestionsByContext","updateButtons","showUpvotes"),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"updateAnswerColor",this.updateAnswerColor),this.listenTo(this.model,"change:hasBookmarked",this.removeFromBookmarkList),this.listenTo(this.model,"unpinLocally",this.questionUnpinned),e&&(this.isBookmarkTile=e.isBookmarkTile),this.bindUpvoteSupportMethods(),this.bindPinSupportMethods(),t.__super__.initialize.call(this)},t.prototype.render=function(){var e;return this.$el.html(this.template()()),this.$(".discussion-description").addClass("hide"),this.stickit(),e=n.D.HIGHLIGHT_SEARCH(this.model.get("title"),"highlight"),this.$(".title").html(e),this.setDescription(),this.updateButtons(),this.user=this.model.get("owner"),this.replaceWithProfilePic(),this.checkTAQuestions(),this.showHidePinOption(),n.F.REASSIGN_TIMES(),this.enableTooltip(),this.$el},t.prototype.enableTooltip=function(){return this.$(".flag-question").tooltip({title:"Report Inappropriate",placement:"left"}),this.$(".ta-verified").tooltip({title:"Reviewed by TA",placement:"bottom"})},t.prototype.setDescription=function(){var e;return this.model.get("annotations")&&(e=v.find(this.model.get("annotations"),function(e){return"green-label"===e.type}),e?this.$(".answered-block").removeClass("hide"):this.$(".answered-block").addClass("hide")),this.$(".description").html(this.model.get("body"))},t.prototype.updateButtons=function(){var e,t;return this.initializeUpvoteState(),t=!0,e=!1,v.each(["answer","bookmark"],function(t){return function(o){if(i.checkDiscussionPermission(o,"create"))return t.$("."+o+"-question").removeClass("hide"),e=!0}}(this)),v.each(["answer","upvote"],function(e){return function(o){
return i.checkDiscussionPermission(o,"read")?e.$("."+o+"-count").removeClass("hide"):t=!1}}(this)),e&&this.$(".discussion-card-footer").removeClass("hide"),t||this.$(".separator").addClass("hide"),this.updateFollowButton(),this.updateAnswerColor(),this.model.get("isEditable")?(this.$(".edit-question, .delete-question").removeClass("hide"),this.$(".more-options").removeClass("hide")):this.$(".more-options").addClass("hide"),a.isTaStarEnabled()?this.$(".starring-options").removeClass("hide"):this.$(".starring-options").addClass("hide"),this.model.get("isStarable")&&(this.model.get("isStarred")?(this.$(".star-question").addClass("hide"),this.$(".unstar-question").removeClass("hide")):(this.$(".unstar-question").addClass("hide"),this.$(".star-question").removeClass("hide"))),n.F.IS_USER_LOGGED_IN(this.model.get("owner").userId)&&(this.listenTo(y,"change:profilePic",this.updateProfilePic),this.$(".flag-question").addClass("hide")),n.F.MOMENT_TIME(this.$(".question-timeago"))},t.prototype.filterQuestionsByContext=function(e){var t;return e.stopPropagation(),"discussionForum"!==h.get("currentView")?(p.navigate("/v/course/"+h.get("courseId")+"/discussions"),n.trigger(n.E.SHOW_DISCUSSION_FORUM,{contextPk:this.model.get("context").pk},t=!0)):n.trigger(n.E.SET_CONTEXT_VALUE,{contextPk:this.model.get("context").pk,fetchQuestions:!0})},t.prototype.showAddAnswer=function(e){return e.stopPropagation(),this.showQuestionDetails(e,{scrollTo:"newAnswer"})},t.prototype.editQuestion=function(e){return e.stopPropagation(),this.showQuestionDetails(e,{scrollTo:"questionEdit"})},t.prototype.showQuestionDetails=function(e,t){if(!e||!e.target.classList.contains("more-options")&&!e.target.classList.contains("dropdown-toggle"))return h.set("discussionQuestionId",this.model.get("id")),n.trigger(n.E.SHOW_QUESTION_DETAILS,t),p.navigate("/v/course/"+h.get("courseId")+"/question/"+this.model.get("id")),e?e.stopPropagation():void 0},t.prototype.showContextQuestions=function(){return p.navigate("/v/course/"+h.get("courseId")+"/discussions"),n.trigger(n.E.LOAD_FORUM_QUESTIONS)},t.prototype.deleteQuestion=function(e){if(e.stopPropagation(),confirm("Are you sure you want to delete this discussion?"))return this.model.destroy({success:function(e){return function(){if(!u.length)return u.trigger("showNoBookmarks")}}(this)})},t.prototype.goToQuestionDetailView=function(e){var t;return $(e.currentTarget).hasClass("star-question")?t={enableStarring:!0}:$(e.currentTarget).hasClass("unstar-question")&&(t={removeStarring:!0}),this.showQuestionDetails(e,t)},t.prototype.unstarQuestion=function(e){return e.preventDefault(),e.stopPropagation(),this.model.unstar(),this.model.get("isStarable")&&(this.$(".star-question").removeClass("hide"),this.$(".unstar-question").addClass("hide"),this.$(".starred-block").addClass("hide")),f.showToast({message:'Removed from <span style="font-weight: bold">Starred Questions</span>',dismiss:"x",redirect:!1})},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t}(r),v.extend(c.prototype,s,g,m,l),t.exports=c},{"../../../collections/discussions/discussion-questions":16,"../../../collections/discussions/my-bookmarks-collection":19,"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/base-view":99,"../../helpers/feature-flags-helper":103,"../../helpers/snackbar":109,"../../student-router":117,"../../viewer/discussion-question-view-mixin":174,"../pin-support":222,"../upvotes-support":274,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],193:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g=function(e,t){function o(){this.constructor=e}for(var n in t)y.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},y={}.hasOwnProperty;r=e("backbone"),m=e("underscore"),r.$=$,s=e("./discussions-base-view"),p=e("../../../models/shared-model"),l=e("../../../collections/discussions/discussion-questions"),i=e("../../../models/config-model"),f=e("../../../models/user-model"),n=e("../../../models/account-settings-model"),a=e("./discussions-collection-handler"),d=e("./search-and-filters-view"),h=e("../../../collections/discussions/discussion-suggestions"),u=e("../../../collections/discussions/discussion-facet-question-collection"),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.el="#discussion-forum",t.prototype.viewIdentifier="discussionForum",t.prototype.collection=l,t.prototype.ref="Discussion Home Page",t.prototype.events=function(){return m.extend({},s.prototype.events,{"mousedown .start-search":"goToSearchView","keyup .searchbox-input":"handleSearch"})},t.prototype.initialize=function(){return m.bindAll(this,"showView","fetchQuestions","hide"),this.loaderDiv=this.$(".questions"),this.listenTo(r,r.E.INITIALIZE_SEARCH_FILTER_VIEW_QUESTIONS_VIEW,this.initializeSearchView),this.listenTo(r,r.E.LOAD_FORUM_QUESTIONS,this.fetchAllQuestions),this.listenTo(r,r.E.SHOW_DISCUSSION_FORUM_VIEW,this.showView),this.listenTo(r,r.E.UPDATE_QUESTION_COUNT,this.appendDiscussionsCount),t.__super__.initialize.call(this)},t.prototype.showView=function(e,o){return null==o&&(o=!1),this.toggleGuidelinesDisplay(),p.get("currentView")!==this.viewIdentifier&&r.T.MIXPANEL_TRACK("Forum List View"),t.__super__.showView.call(this),this.$(".ask-a-question").hasClass("hide")&&this.$(".search-bar-and-filters").is(":empty")&&this.initializeSearchView(e,o),this.enableSort(),this.$el.removeClass("hide"),r.trigger("pageShown:"+this.viewIdentifier)},t.prototype.appendDiscussionsCount=function(e){var t;return this.$(".search-result-count").empty(),t=e?e:l.count,this.$(".search-result-count").text(t+" discussions")},t.prototype.initializeSearchView=function(e,t){var o;return o=new d({collection:this.collection}),this.$(".search-bar-and-filters").append(o.render(e,t))},t.prototype.toggleGuidelinesDisplay=function(){return"data-analytics"===p.get("programKey")?this.$(".community-guidelines-div").addClass("hide"):this.$(".community-guidelines-div").removeClass("hide")},t.prototype.enableDemo=function(){return["calendarMenuItem","supportMenuItem"].indexOf(r.Demo.getCurrentStep())!==-1&&r.Demo.hasStep("compactLeaderboard")?void r.Demo.show("compactLeaderboard"):(r.Demo.show("firstDiscussion"),n.get("id")?r.trigger(r.E.SHOW_FORUM_DEMO):n.fetch({success:function(e){return function(){return r.trigger(r.E.SHOW_FORUM_DEMO)}}(this)}))},t.prototype.enableSort=function(){return this.$(".sortBy").removeClass("disabled")},t.prototype.fetchAllQuestions=function(e,t){return!l.length||t?("All questions"===this.contextPk&&(e.getPinned=!0),this.fetchQuestions(e,function(e){return function(){return e.enableDemo(),e.appendDiscussionsCount()}}(this))):(this.removeEmptyState(),this.enableDemo(),this.appendDiscussionsCount())},t.prototype.goToSearchView=function(){var e,t,o;if(o=this.$(".searchbox-input").val().trim(),p.set("searchTerm",o),r.trigger(r.E.TRACK_SEARCH_RESULT_CLICKED,"Search button press"),r.trigger(r.E.HIDE_FORUM_SUGGESTIONS_VIEW),t=o,e={},t&&(e.q=t),this.contextPk&&"All questions"!==this.contextPk&&(e.contextPk=this.contextPk),t)return r.trigger(r.E.SHOW_SEARCH_RESULTS_VIEW,e),p.set("discussionSearchTerm",t),p.set("discussionSearchContext",this.contextPk)},t.prototype.validateAskQuestionCount=function(e){return e>510?(this.$(".start-search").addClass("disabled"),this.$(".charlimit-error-div").removeClass("hide"),this.$(".charlimit-error-div").empty().append("Search limit is 510 chars. It has "+e+" chars."),!1):(this.$(".start-search").removeClass("disabled"),this.$(".charlimit-error-div").addClass("hide"),!0)},t.prototype.handleSearch=function(e){var t,o,n;return n=this.$(".searchbox-input").val().trim(),n&&this.validateAskQuestionCount(n.length)?(r.trigger(r.E.ENABLE_SEARCH),13===e.keyCode?(r.trigger(r.E.TRACK_SEARCH_RESULT_CLICKED,"enter"),u.resetFacets=!0,r.D.CANCEL_SEARCH(),this.goToSearchView()):(o=function(e){return function(){return e.$('.filter-questions-by-module option:contains("All questions")').prop("selected",!0),r.trigger(r.E.SHOW_FORUM_SUGGESTIONS_VIEW,{q:n,contextPk:e.$(".filter-questions-by-module").val()})}}(this),t=function(e){return function(){return a.searchDiscussions(n,h,o,3)}}(this),r.F.SEARCH_DELAY(t,200))):(r.trigger(r.E.DISABLE_SEARCH),r.trigger(r.E.HIDE_FORUM_SUGGESTIONS_VIEW),r.trigger(r.E.HIDE_FACETS))},t}(s),t.exports=new c},{"../../../collections/discussions/discussion-facet-question-collection":14,"../../../collections/discussions/discussion-questions":16,"../../../collections/discussions/discussion-suggestions":18,"../../../models/account-settings-model":44,"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,"./discussions-base-view":184,"./discussions-collection-handler":185,"./search-and-filters-view":196,backbone:318,underscore:445}],194:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),u=e("underscore"),n.$=$,e("backbone.stickit"),a=e("../user-image-initials-support"),s=e("../../../models/shared-model"),i=e("../../student-router"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.className="discussion-question related-question-item item col-sm-12",t.prototype.template=function(){return u.template($("#related-question-item-template").html())},t.prototype.userImageSelector=".question-item-image",t.prototype.events={click:"showQuestionDetails"},t.prototype.bindings={".question-title":"title",".question-item-image":{attributes:[{name:"src",observe:"owner",onGet:function(){return this.model.get("owner").photo}}]},".question-name":{observe:"owner",onGet:function(){return this.model.get("owner").fullname}},".question-timeago":{attributes:[{name:"title",observe:"createdAt"}]}},t.prototype.initialize=function(){return u.bindAll(this,"render")},t.prototype.render=function(){return this.$el.html(this.template()()),this.unstickit(),this.model.get("title"),this.stickit(),this.user=this.model.get("owner"),this.replaceWithProfilePic(),n.F.MOMENT_TIME(this.$(".question-timeago")),this.$el},t.prototype.showQuestionDetails=function(e){return s.set("discussionQuestionId",this.model.get("id")),n.trigger(n.E.SHOW_QUESTION_DETAILS),i.navigate("/v/course/"+s.get("courseId")+"/question/"+this.model.get("id"))},t}(n.View),u.extend(r.prototype,a),t.exports=r},{"../../../models/shared-model":85,"../../student-router":117,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],195:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;n=e("backbone"),c=e("underscore"),n.$=$,r=e("../../helpers/base-view"),i=e("../../helpers/collection-view-support"),l=e("../../../models/shared-model"),a=e("../../../collections/discussions/discussion-related-questions"),s=e("./related-question-item-view"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.el="#related-questions",t.prototype.viewIdentifier="relatedQuestionsView",t.prototype.collection=a,t.prototype.appendToDivSelector="#related-questions-list",t.prototype.itemViewClass=s,t.prototype.initialize=function(){return c.bindAll(this,"show"),this.listenTo(n,n.E.SHOW_RELATED_QUESTIONS_VIEW,this.show),this.listenTo(n,n.E.HIDE_RELATED_QUESTIONS_VIEW,this.hide),this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.subViews={},t.__super__.initialize.call(this)},t.prototype.show=function(e){return this.trackSuggestions(),this.addAll(),this.visibilityOfShowAllResults(),this.$el.removeClass("hide")},t.prototype.trackSuggestions=function(){return n.T.MIXPANEL_TRACK("Search Suggestions",{action:"ask",count:a.hits})},t.prototype.visibilityOfShowAllResults=function(){return this.collection.hits>5?this.$("#show-all-results").removeClass("hide"):this.$("#show-all-results").addClass("hide")},t.prototype.hide=function(){return this.$el.addClass("hide")},t}(r),c.extend(u.prototype,i),t.exports=new u},{"../../../collections/discussions/discussion-related-questions":17,"../../../models/shared-model":85,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"./related-question-item-view":194,backbone:318,underscore:445}],196:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h=function(e,t){function o(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},f={}.hasOwnProperty;n=e("backbone"),p=e("underscore"),n.$=$,d=e("../../../collections/discussions/discussion-suggestions"),i=e("./discussions-collection-handler"),a=e("./discussions-base-view"),r=e("../../../models/config-model"),c=e("../../../models/shared-model"),s=e("../../../collections/discussions/discussion-contexts"),u=e("../../student-router"),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.viewIdentifier="searchAndFilterView",t.prototype.template=function(){return p.template($("#search-and-filter-template").html())},t.prototype.events={"click .ask-question-button":"showCreateQuestion","click .clear-search-input":"clearSearchInput","click .sort-option":"sortQuestions","change .filter-questions-by-module":"resetAskTagAndFetchQuestions"},t.prototype.initialize=function(e){return p.bindAll(this,"render"),this.listenTo(n,n.E.DESTROY_SEARCH_FILTER_VIEW,this.destroy),this.listenTo(s,"reset",this.emptyTagsDropdown),this.listenTo(n,n.E.SET_CONTEXT_VALUE,this.setValueFilterDropdown),this.listenTo(n,n.E.ENABLE_SEARCH,this.enableSearch),this.listenTo(n,n.E.DISABLE_SEARCH,this.disableSearch),this.collection=e.collection,t.__super__.initialize.call(this),this.timer=0},t.prototype.render=function(e,t){var o,r,i;return null==t&&(t=!1),this.$el.html(this.template()()),r=window.location.hash.split("#")[1],this.populateTagOptions(),this.checkSearchBoxForState(),this.$(".filter-questions-by-module").on("select2:open",function(e){return function(){return $(".select2-search__field").attr("placeholder","Search for topics")}}(this)),i=(null!=e?e.sortBy:void 0)||"hot",((null!=e?e.contextPk:void 0)||r)&&t?this.updateContextFilter((null!=e?e.contextPk:void 0)||r,i,!0):((null!=e?e.contextPk:void 0)||r)&&!t?this.collection.length?this.updateContextFilter((null!=e?e.contextPk:void 0)||r,i,!1):this.updateContextFilter((null!=e?e.contextPk:void 0)||r,i,!0):(c.set("discussionContext",null),c.set("sortBy",null),o=this.getData(),n.trigger(n.E.LOAD_FORUM_QUESTIONS,o,t=!0)),"discussionForum"===c.get("currentView")&&this.collection.count&&this.$(".search-result-count").text(this.collection.count+" discussions"),this.$el},t.prototype.emptyTagsDropdown=function(){return this.filledDropdown=!1,this.$(".filter-questions-by-module").empty()},t.prototype.hideSuggestions=function(){return n.trigger(n.E.HIDE_FORUM_SUGGESTIONS_VIEW)},t.prototype.clearSearchInput=function(e){return this.$(".searchbox-input").val(""),this.hideSuggestions(),this.checkSearchBoxForState(),n.trigger(n.E.HIDE_FACETS)},t.prototype.getData=function(){var e,t;return this.contextPk=this.$(".filter-questions-by-module").val(),e={},this.contextPk&&"All questions"!==this.contextPk&&(e.contextPk=this.contextPk),(t=this.$(".navbar-sort-posts").attr("val"))&&(e.orderBy=t),e},t.prototype.showCreateQuestion=function(){return r.checkDiscussionPermission("question","create")?(this.destroy(),n.trigger(n.E.REMOVE_EMPTY_STATE),n.trigger(n.E.SHOW_CREATE_QUESTION_FORM,this.$(".searchbox-input").val().trim()),"discussionForumSearchResults"===c.get("currentView")?(n.trigger(n.E.SHOW_DISCUSSION_FORUM,{doNotnItializeSearchFilterView:!0}),u.navigate("/v/course/"+c.get("courseId")+"/discussions")):void 0):n.ERR.SHOW("You do not have permission to create a question")},t.prototype.populateTagOptions=function(){if(s.length&&!this.filledDropdown)return this.filledDropdown=!0,n.trigger(n.E.FILL_ADD_COURSE_CONTEXT_DROPDOWN),this.tagsDdMain=this.$(".filter-questions-by-module").select2({containerCssClass:"edit-question-select-tags",dropdownCssClass:"edit-question-tags-list-item",placeholder:"All questions",matcher:function(e,t){return n.F.select2Matcher(e,t)}}),this.$(".open-list").click(function(e){return function(){return e.$(".filter-questions-by-module").select2("open")}}(this)),this.$(".select2-selection__arrow").empty().append('<span class="glyphicon glyphicon-chevron-down dropdown-arrow"></span>'),this.fillTagsDropdown(".filter-questions-by-module")},t.prototype.setValueFilterDropdown=function(e){if(e.contextPk&&this.$(".filter-questions-by-module").val()!==e.contextPk.toString()&&e.contextPk)return this.updateContextFilter(e.contextPk,e.sortBy,e.fetchQuestions)},t.prototype.checkSearchBoxForState=function(){return this.$(".searchbox-input").val().trim()?(this.$(".start-search").addClass("search-enabled"),this.$(".start-search").removeClass("search-disabled"),this.$(".clear-search-input").removeClass("hide")):(this.$(".start-search").addClass("search-disabled"),this.$(".start-search").removeClass("search-enabled"),this.$(".clear-search-input").addClass("hide"))},t.prototype.sortQuestions=function(e){var t,o,r;return r=$(e.target).html().trim(),n.T.MIXPANEL_TRACK("Forum Sort",{"Sort By":r,Topic:$(".select2-selection__placeholder").html()}),this.$(".navbar-sort-posts").text(r),this.$(".dropdown-menu").find(".sortby-selected").removeClass("sortby-selected"),this.$(e.currentTarget).addClass("sortby-selected"),this.$(".navbar-sort-posts").attr("val",$(e.target).attr("val")),c.set("sortBy",$(e.target).attr("val")),t=this.getData(),n.trigger(n.E.LOAD_FORUM_QUESTIONS,t,o=!0)},t.prototype.resetAskTagAndFetchQuestions=function(e,t){var o,r,i;if(c.set("discussionContext",$(e.target).val()),i=$(e.target).val(),this.$(".tag-by").val(i),this.$(".tag-by").trigger("change"),i&&"All questions"!==i?window.location.hash=i:window.location.hash="",t!==!1)return o=this.getData(),n.trigger(n.E.LOAD_FORUM_QUESTIONS,o,r=!0),n.T.MIXPANEL_TRACK("Forum Filter",{Topic:$(e.target).val()})},t.prototype.updateContextFilter=function(e,t,o){return this.$(".filter-questions-by-module").val(e.toString()),this.updateSort(t),this.$(".filter-questions-by-module").trigger("change",[o])},t.prototype.updateSort=function(e){var t;return e?(t=this.mapSortByValToText(e),this.$(".navbar-sort-posts").text(t),this.$(".navbar-sort-posts").attr("val",e),this.addSelectedClass(t)):"Discussion of the week"===this.$(".filter-questions-by-module option:selected").text()?(this.$(".navbar-sort-posts").text("Latest"),this.$(".navbar-sort-posts").attr("val","latest"),this.addSelectedClass("Latest")):void 0},t.prototype.mapSortByValToText=function(e){return"hot"===e?"Relevance":"latest"===e?"Latest":"popularity"===e?"Most Upvotes":"mostAnswers"===e?"Most Answers":void 0},t.prototype.addSelectedClass=function(e){var t;return this.$(".sort-option").removeClass("sortby-selected"),t=this.$(".sort-option"),p.each(t,function(t){return function(o){if(t.$(o).html()===e)return t.$(o).addClass("sortby-selected")}}(this))},t.prototype.fillTagsDropdown=function(e){var t;if(!(this.$(e).find("option").length>1))return t="<option>All questions</option>",s.each(function(e){return e.get("isSelectable")?t+="<option value='"+e.get("pk")+"'>"+e.get("label")+"</option>":e.get("children")&&e.get("children").length>0?(t+="<optgroup class='meta-tag' label='"+e.get("label")+"'>",p.each(e.get("children"),function(e){return t+="<option value="+e.pk+">"+e.label+"</option>"}),t+="</optgroup>"):void 0}),this.$(e).append(t)},t.prototype.enableSearch=function(){return this.$(".clear-search-input").removeClass("hide"),this.$(".start-search").addClass("search-enabled"),this.$(".start-search").removeClass("search-disabled")},t.prototype.disableSearch=function(){return this.$(".clear-search-input").addClass("hide"),this.$(".start-search").removeClass("search-enabled"),this.$(".start-search").addClass("search-disabled")},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=l},{"../../../collections/discussions/discussion-contexts":13,"../../../collections/discussions/discussion-suggestions":18,"../../../models/config-model":54,"../../../models/shared-model":85,"../../student-router":117,"./discussions-base-view":184,"./discussions-collection-handler":185,backbone:318,underscore:445}],197:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m=function(e,t){function o(){this.constructor=e}for(var n in t)g.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},g={}.hasOwnProperty;n=e("backbone"),f=e("underscore"),n.$=$,i=e("./discussions-base-view"),u=e("../../../collections/discussions/discussion-questions"),l=e("../../student-router"),p=e("../../../models/shared-model"),d=e("./search-and-filters-view"),s=e("./discussions-collection-handler"),h=e("../../../collections/discussions/discussion-suggestions"),r=e("../../../collections/discussions/discussion-facets-collection"),a=e("../../../collections/discussions/discussion-facet-question-collection"),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.el="#discussion-forum-search-results",t.prototype.viewIdentifier="discussionForumSearchResults",t.prototype.collection=a,t.prototype.events=function(){return f.extend({},i.prototype.events,{"click .back-to-discussions":"goToDiscussions","keyup .searchbox-input":"checkKeyCode","mousedown .start-search":"passNewContext"})},t.prototype.initialize=function(){return f.bindAll(this,"showView","hide","searchQuery","appendLabelToDiv","removeEmptyState","getSearchResults","trackSearchResultsClicked","getMixpanelObj"),this.listenTo(n,n.E.TRACK_SEARCH_RESULT_CLICKED,this.trackSearchResultsClicked),this.listenTo(n,n.E.SHOW_SEARCH_RESULTS_VIEW,this.showView),this.listenTo(n,n.E.PASS_NEW_SEARCH_CONTEXT,this.passNewContext),this.listenTo(n,n.E.FACETS_RESULTS_COUNT,this.appendSearchResultsCount),this.loaderDiv=this.$(".discussionquestions-list"),t.__super__.initialize.call(this)},t.prototype.showView=function(e,o){return null==o&&(o=!0),e&&this.changeUrl(e),t.__super__.showView.call(this),this.$(".search-bar-and-filters").is(":empty")&&this.initializeSearchView(e),o&&this.getSearchResults(e),this.hideSortAndFilter(),this.$el.removeClass("hide")},t.prototype.initializeSearchView=function(e){var t;return t=new d({collection:this.collection}),this.$(".search-bar-and-filters").append(t.render(e))},t.prototype.hideSortAndFilter=function(){return this.$(".filter-header").addClass("hide"),this.$(".questions-filter-div").addClass("hide"),this.$(".filter-wrapper").addClass("hide"),this.$(".search-result-div").removeClass("col-sm-3").addClass("col-sm-12")},t.prototype.getContextPk=function(){var e;return e=this.getData(),e.contextPk},t.prototype.getSearchKeyWords=function(){var e;return e=this.getData(),e.q},t.prototype.getData=function(){var e,t,o;return o=window.location.search.slice(1),e=o.split("&"),t={},f.each(e,function(e){var o;return o=e.split("="),t[o[0]]=o[1]}),"All questions"===decodeURIComponent(t.contextPk)&&delete t.contextPk,t},t.prototype.getSearchResults=function(e){return this.$(".searchbox-input").val(decodeURIComponent(this.getSearchKeyWords())),this.passNewContext(e),(null!=e?e.type:void 0)&&this.trackSearchResultsClicked("Show all results"),this.$el.removeClass("hide")},t.prototype.resetAskTagAndFetchQuestions=function(e,t){if(this.$(".tag-by").val($(e.target).val()),this.$(".tag-by").trigger("change"),t!==!1)return this.passNewContext()},t.prototype.passNewContext=function(e){var t,o;return o=this.$(".searchbox-input").val().trim(),p.set("searchTerm",o),this.trackSearchResultsClicked("Search button"),t={},t.searchType=(null!=e?e.searchType:void 0)||"allquestions",p.set("discussionsSearchType",t.searchType),a.searchType=t.searchType,t.q=o,p.set("discussionSearchTerm",o),(null!=e?e.contextPk:void 0)&&(p.set("discussionSearchContext",e.contextPk),t.contextPk=e.contextPk),this.changeUrl(t),this.searchQuery()},t.prototype.changeUrl=function(e){var t,o;return o="v/course/"+p.get("courseId")+"/discussions/search",t=[],e.q&&t.push(["q="+encodeURIComponent(e.q)]),e.contextPk&&t.push(["contextPk="+encodeURIComponent(e.contextPk)]),e.searchType&&t.push(["searchType="+encodeURIComponent(e.searchType)]),t.length&&(t=t.join("&"),o+="?"+t),l.navigate(o)},t.prototype.searchQuery=function(){var e;if(e=this.getData(),this.collection.resetFacets=!0,e.q)return this.fetchQuestions(e,this.appendLabelToDiv,this.hideFacetsFilter)},t.prototype.goToDiscussions=function(){var e;return n.T.MIXPANEL_TRACK("Back To Discussions"),l.navigate("/v/course/"+p.get("courseId")+"/discussions"),e=!0,p.set("discussionSearchTerm",null),p.set("discussionSearchContext",null),p.set("discussionsSearchType",null),n.trigger(n.E.SHOW_DISCUSSION_FORUM_VIEW,{backToDiscussions:!0},e=!0),this.collection.reset(),this.removeEmptyState()},t.prototype.hideFacetsFilter=function(){return n.trigger(n.E.HIDE_FACETS)},t.prototype.appendLabelToDiv=function(){var e;return n.T.MIXPANEL_TRACK("Searched",this.getMixpanelObj()),n.T.MIXPANEL_INCREMENT_PROPERTY("Number of searches"),e=new Date,n.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Forum Activity":e.toISOString()}),n.trigger(n.E.HIDE_FORUM_SUGGESTIONS_VIEW),r.length?n.trigger(n.E.SHOW_FACETS):this.hideFacetsFilter()},t.prototype.checkKeyCode=function(e){var t,o,r;return r=this.$(".searchbox-input").val().trim(),r?(n.trigger(n.E.ENABLE_SEARCH),13===e.keyCode?(e.preventDefault(),this.trackSearchResultsClicked("enter"),this.collection.resetFacets=!0,n.D.CANCEL_SEARCH(),this.passNewContext(),n.trigger(n.E.HIDE_FORUM_SUGGESTIONS_VIEW)):(o=function(e){return function(){return e.$('.filter-questions-by-module option:contains("All questions")').prop("selected",!0),n.trigger(n.E.SHOW_FORUM_SUGGESTIONS_VIEW,{q:r,contextPk:e.$(".filter-questions-by-module").val()})}}(this),t=function(e){return function(){return s.searchDiscussions(r,h,o,3)}}(this),n.F.SEARCH_DELAY(t,200))):(n.trigger(n.E.DISABLE_SEARCH),n.trigger(n.E.HIDE_FORUM_SUGGESTIONS_VIEW),n.trigger(n.E.HIDE_FACETS))},t.prototype.getMixpanelObj=function(e){var t;return t={Topic:this.$(".filter-questions-by-module").val(),Keyword:decodeURIComponent(this.getSearchKeyWords()),Results:u.count,Type:e,Ref:"forum"}},t.prototype.appendSearchResultsCount=function(e,t){var o,n;return t||(t=r.allTopicCount),e?(n=1===t?"result":"results",o="allquestions"===e.split(" ").join("").toLowerCase()?"<p>"+t+(" search "+n+" found </p>"):"<p>"+t+(" search "+n+" found in <b>")+e+"</b></p>"):o=p.get("searchResultCount"),this.$(".search-result-count").html(o),p.set("searchResultCount",o)},t.prototype.trackSearchResultsClicked=function(e){return n.T.MIXPANEL_TRACK("Searched",this.getMixpanelObj(e))},t}(i),t.exports=new c},{"../../../collections/discussions/discussion-facet-question-collection":14,"../../../collections/discussions/discussion-facets-collection":15,"../../../collections/discussions/discussion-questions":16,"../../../collections/discussions/discussion-suggestions":18,"../../../models/shared-model":85,"../../student-router":117,"./discussions-base-view":184,"./discussions-collection-handler":185,"./search-and-filters-view":196,backbone:318,underscore:445}],198:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y,v,b,_=function(e,t){function o(){this.constructor=e}for(var n in t)w.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},w={}.hasOwnProperty;r=e("backbone"),b=e("underscore"),e("backbone.stickit"),r.$=$,f=e("./question-item-view"),n=e("./answers-view"),p=e("../../../models/discussions/discussion-question-model"),m=e("../../../models/shared-model"),v=e("../upvotes-support"),c=e("../pin-support"),s=e("./context-fill-mixin"),h=e("./question-detail-support"),i=e("../../../models/config-model"),a=e("./create-answer-view"),l=e("../../../models/discussions/discussion-question-answers-model"),u=e("../../../collections/discussions/discussion-answers"),y=e("./star-support"),d=e("../../prevent-form-submit-image-upload-support"),g=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _(t,e),t.prototype.el="#single-answer-view",t.prototype.viewIdentifier="singleAnswerView",t.prototype.initialize=function(){return b.bindAll(this,"findDataAndShow","appendAnswerView","hide"),this.listenTo(r,r.E.SHOW_SINGLE_ANSWER_VIEW,this.findDataAndShow),this.bindContextFillMethods(),this.addListeners(),this.bindCkEditorEvents(),t.__super__.initialize.call(this)},t.prototype.findDataAndShow=function(e){var t,o,n;return m.resetCurrentView(this.viewIdentifier),t=e.scrollTo.split("/")[3],n=new l({questionId:m.get("discussionQuestionId")}),o={data:$.param({answerIds:t}),success:function(t){return function(o){return r.F.HIDE_LOADER(),u.length?(t.show(n,e),t.appendAnswerView(e),document.title=n.get("title")+" | upGrad"):r.trigger(r.E.SHOW_NOT_FOUND_STUDENT)}}(this),error:function(e){return function(e,t){return r.ERR.SHOW(t)}}(this)},n.fetch(o)},t.prototype.appendAnswerView=function(e){var t,o,r,i;if(this.$(".loader-div").addClass("hide"),!this.answersView)return t={question:this.model,viewQuestionDetailView:!0},(null!=(o=this.options)&&null!=(r=o.scrollTo)?r.match(/answer/):void 0)&&(t.options=this.options),this.answersView=new n(t),this.$(".answers-div").append(this.answersView.render()),null!=(i=this.answersView)&&i.createEditor(),this.updatePage(this.options)},t}(f),b.extend(g.prototype,v,c,s,h,y,d),t.exports=new g},{"../../../collections/discussions/discussion-answers":11,"../../../models/config-model":54,"../../../models/discussions/discussion-question-answers-model":61,"../../../models/discussions/discussion-question-model":62,"../../../models/shared-model":85,"../../prevent-form-submit-image-upload-support":116,"../pin-support":222,"../upvotes-support":274,"./answers-view":176,"./context-fill-mixin":179,"./create-answer-view":180,"./question-detail-support":190,"./question-item-view":192,"./star-support":199,backbone:318,"backbone.stickit":317,underscore:445}],199:[function(e,t,o){var n,r,i,s,a;n=e("backbone"),a=e("underscore"),n.$=$,r=e("../../../collections/segments"),i=e("../../helpers/snackbar"),s={bindStarSupportMethods:function(){return a.bindAll(this,"checkStarredLabel","fetchSegments","populateSegmentsDropdown","starQuestion","unstarQuestion","showStarOption","addStarSupportListeners"),this.addStarSupportListeners()},addStarSupportListeners:function(){return this.listenTo(this.model,"showStarOption",this.showStarOption)},checkStarredLabel:function(){return this.model.get("isStarable")?this.model.get("isStarred")?(this.$(".unstar-question").removeClass("hide"),this.$(".star-question").addClass("hide")):(this.$(".unstar-question").addClass("hide"),this.$(".star-question").removeClass("hide")):(this.$(".star-question").addClass("hide"),this.$(".unstar-question").addClass("hide"))},fetchSegments:function(){var e;return!this.segments||this.segments&&(null!=(e=this.segments)?e.sessionId:void 0)!==this.model.get("context").externalId?(n.F.SHOW_LOADER(),this.segments=new r,this.$(".segment-dropdown").empty(),this.segments.fetch({data:$.param({sessionId:this.model.get("context").externalId}),success:function(e){return function(t){return e.populateSegmentsDropdown(t),e.focusQuestion(),n.F.HIDE_LOADER(),e.segments.sessionId=e.model.get("context").externalId}}(this),error:function(e){return function(e,t){return n.F.HIDE_LOADER(),n.ERR.SHOW(t)}}(this)})):(this.$(".segment-dropdown-div").removeClass("hide"),this.populateSegmentsDropdown(this.segments),this.focusQuestion())},populateSegmentsDropdown:function(e){var t;if(this.segments.length)return this.tagsDd=this.$(".segment-dropdown").select2({
containerCssClass:"edit-question-select-tags",dropdownCssClass:"edit-question-tags-list-item",placeholder:"Select Segment",minimumResultsForSearch:-1}),this.$(".open-list").click(function(e){return function(){return e.$(".segment-dropdown").select2("open")}}(this)),this.$(".select2-selection__arrow").empty().append('<span class="glyphicon glyphicon-chevron-down dropdown-arrow"></span>'),this.$(".segment-dropdown").find("option").length>1||(t="",t+="<option></option>",this.segments.each(function(e){return function(e){var o;return o=e.get("name"),t+="<option value="+e.id+">"+o+"</option>"}}(this)),this.$(".segment-dropdown").append(t)),this.$(".segment-dropdown-div").removeClass("hide")},starQuestion:function(e){var t;return e.stopPropagation(),this.$(".segment-dropdown").val()?(this.$(".select-segment-error").addClass("hide"),t={segmentId:this.$(".segment-dropdown").val(),segmentLabel:this.$(".segment-dropdown option:selected").text()},this.model.star(t),this.$(".star-question").addClass("hide"),this.$(".unstar-question").removeClass("hide"),this.$(".starred-block").removeClass("hide"),this.$(".segment-dropdown-div").addClass("hide"),this.removeFocusFromQuestion(),i.showToast({message:'Added to <span style="font-weight: bold">Starred Questions</span>',dismiss:"x",redirect:!1})):this.$(".select-segment-error").removeClass("hide")},unstarQuestion:function(){return this.model.unstar(),this.showStarOption(),i.showToast({message:'Removed from <span style="font-weight: bold">Starred Questions</span>',dissmiss:"x",redirect:!1})},showStarOption:function(){if(this.model.get("isStarable"))return this.$(".star-question").removeClass("hide"),this.$(".unstar-question").addClass("hide"),this.$(".starred-block").addClass("hide")},focusQuestion:function(){return this.positionStarringButton(),this.$(".question-div").addClass("expose"),this.$("#overlay").fadeIn()},removeFocusFromQuestion:function(){return this.$(".question-div").removeClass("expose"),this.$("#overlay").fadeOut(),this.$(".segment-dropdown-div").addClass("hide"),this.$(".select-segment-error").addClass("hide")},checkForErrorState:function(){return this.$(".segment-dropdown").val()?this.$(".select-segment-error").addClass("hide"):this.$(".select-segment-error").removeClass("hide")},positionStarringButton:function(){var e,t;return e=this.$(".question-div").offset(),t=e.top+this.$(".question-div").height()+30,this.$(".mark-as-starred").css("top",t)},removeStarSupportListeners:function(){return this.model.off("showStarOption"),this.$(".select-segment-error").addClass("hide")}},t.exports=s},{"../../../collections/segments":32,"../../helpers/snackbar":109,backbone:318,underscore:445}],200:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),u=e("underscore"),n.$=$,e("backbone.stickit"),i=e("../../../models/shared-model"),r=e("../../student-router"),a=e("../../../collections/discussions/discussion-suggestions"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.template=function(){return u.template($("#suggestion-item-template").html())},t.prototype.events={click:"showQuestionDetails"},t.prototype.initialize=function(){return u.bindAll(this,"render")},t.prototype.render=function(){var e;return this.$el.html(this.template()()),this.unstickit(),e=n.D.HIGHLIGHT_SEARCH(this.model.get("highlightedTitle"),"highlight-bold"),this.$(".title").html(e),this.stickit(),this.$el},t.prototype.showQuestionDetails=function(e){return e.preventDefault(),e.stopPropagation(),i.set("discussionQuestionId",this.model.get("id")),n.trigger(n.E.SHOW_QUESTION_DETAILS),r.navigate("/v/course/"+i.get("courseId")+"/question/"+this.model.get("id")),n.T.MIXPANEL_TRACK("Search Suggestion Clicked",{index:this.model.get("index"),"search term":a.searchTerm})},t}(n.View),t.exports=s},{"../../../collections/discussions/discussion-suggestions":18,"../../../models/shared-model":85,"../../student-router":117,backbone:318,"backbone.stickit":317,underscore:445}],201:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;n=e("backbone"),c=e("underscore"),n.$=$,r=e("../../helpers/base-view"),i=e("../../helpers/collection-view-support"),s=e("../../../models/shared-model"),u=e("../../../collections/discussions/discussion-suggestions"),a=e("./suggestion-item-view"),d=e("sanitize-html"),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.viewIdentifier="suggestionsListView",t.prototype.collection=u,t.prototype.appendToDivSelector=".suggestions-list",t.prototype.itemViewClass=a,t.prototype.initialize=function(){return c.bindAll(this,"show"),this.listenTo(n,n.E.SHOW_FORUM_SUGGESTIONS_VIEW,this.show),this.listenTo(n,n.E.HIDE_FORUM_SUGGESTIONS_VIEW,this.hide),this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.subViews={},t.__super__.initialize.call(this)},t.prototype.show=function(e){var t;return this.$el=$("#suggestions"),t=d(e.q),this.$(".search-term").html(t),this.trackSuggestions(),u.length?(this.$(".result-text").text("Show all results on "),u.searchTerm=e.q,this.$(".results").addClass("results-enabled"),this.$(".results").removeClass("results-disabled"),this.$(".results").off("click"),this.$(".results").click(function(t){return function(o){return o.preventDefault(),o.stopPropagation(),e={q:t.$(".search-term").html(),contextPk:e.contextPk,type:"Show all results"},t.hide(),n.trigger(n.E.SHOW_SEARCH_RESULTS_VIEW,e)}}(this))):(this.$(".result-text").text("No results found on "),this.$(".results").addClass("results-disabled"),this.$(".results").removeClass("results-enabled"),this.$(".results").off("click")),this.addAll(),this.$el.removeClass("hide"),$("body").not(this.$(".dropdown-suggestion-container")).click(function(e){return function(t){return e.hide()}}(this))},t.prototype.trackSuggestions=function(){return n.T.MIXPANEL_TRACK("Search Suggestions",{action:"search",count:u.hits})},t.prototype.hide=function(){return this.$el.addClass("hide"),this.$(".results").off("click")},t}(r),c.extend(l.prototype,i),t.exports=new l},{"../../../collections/discussions/discussion-suggestions":18,"../../../models/shared-model":85,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"./suggestion-item-view":200,backbone:318,"sanitize-html":426,underscore:445}],202:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),l=e("underscore"),n.$=$,u=e("../../../models/user-model"),i=e("../../../models/shared-model"),a=e("../user-image-initials-support"),r=e("../../../models/config-model"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.template=function(){return l.template($("#ta-helpful").html())},t.prototype.userImageSelector=".answer-item-image",t.prototype.events={"change .helpful-feedback":"showFeedbackCommentBox","click .no-submit":"sendNoFeedback","click .yes-submit":"sendYesFeedback","blur .feedback-comment-input":"validateCommentSection"},t.prototype.initialize=function(e){return l.bindAll(this,"remove","showFeedbackCommentBox","sendNoFeedback","sendYesFeedback","sendFeedbackResponse","setNewComment"),this.model=e.answer,this.question=e.question},t.prototype.render=function(){return this.$el.html(this.template()()),this.user=this.question.get("owner"),this.replaceWithProfilePic(),this.trackEvent("response_feedback"),this.$el},t.prototype.showFeedbackCommentBox=function(){return"yes"===this.$(".helpful-feedback:checked").val()?(this.feedback="yes",this.$(".no-section").addClass("hide"),this.$(".yes-section").removeClass("hide")):(this.feedback="no",this.$(".yes-section").addClass("hide"),this.$(".no-section").removeClass("hide"))},t.prototype.sendNoFeedback=function(e){var t;if(e.preventDefault(),this.validateCommentSection())return this.$(".no-submit").addClass("loading"),t=function(e){return function(t){return e.$(".no-submit").removeClass("loading"),e.$(".feedback-block-container").empty(),e.setNewComment(t)}}(this),this.sendFeedbackResponse(t)},t.prototype.sendYesFeedback=function(e){var t;return e.preventDefault(),this.$(".yes-submit").addClass("loading"),t=function(e){return function(){return e.$(".yes-submit").removeClass("loading"),e.$(".feedback-block-container").empty(),e.$(".feedback-submitted").removeClass("hide")}}(this),this.sendFeedbackResponse(t)},t.prototype.trackEvent=function(e){return n.T.MIXPANEL_TRACK("Ta Response Feedback",{Type:e,Topic:this.feedback,"Parent Id":this.question.get("id").toString(),Id:this.model.get("id").toString()})},t.prototype.sendFeedbackResponse=function(e){var t,o,r,i,s,a;return a=n.C.DISCUSSIONS_PATH()+"/v1/answers/"+this.model.get("id")+"/feedback/",t=this.$(".feedback-comment-input").val()?{body:this.$(".feedback-comment-input").val()}:{},r={action:this.feedback,comments:t},o="application/json",i="json",s=function(e){return function(e){return n.ERR.SHOW(e)}}(this),this.trackEvent("response_feedback_submitted"),n.F.AJAX("POST",a,e,s,JSON.stringify(r),i,o)},t.prototype.setNewComment=function(e){var t,o;return t=this.$(".add-answer").val(),o=this.model.get("comments"),o.add(e.comment),this.model.trigger("showUnderReview",e.state),this.model.trigger("showComments")},t.prototype.validateCommentSection=function(){return""===this.$(".feedback-comment-input").val().trim()?(this.$(".error").removeClass("hide"),!1):(this.$(".error").addClass("hide"),!0)},t.prototype.remove=function(){return this.trackEvent("response_feedback_removed"),this.stopListening(),this.$el.remove()},t}(n.View),l.extend(s.prototype,a),t.exports=s},{"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],203:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),d=e("underscore"),n.$=$,i=e("../../student-router"),s=e("../../../models/shared-model"),l=e("../../../models/user-model"),u=e("../../../collections/discussions/upvotes"),r=e("../../helpers/collection-view-support"),c=e("./user-vote-item-view"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.el="#upvotes-list-modal",t.prototype.collection=u,t.prototype.itemViewClass=c,t.prototype.events={"click .close":"hide"},t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_UPVOTES,this.show),this.listenTo(n,n.E.HIDE_UPVOTES,this.hide),this.subViews={},this.bindCollectionSupportMethods()},t.prototype.show=function(e){return this.$(".loader-div").removeClass("hide"),u.itemId=e.itemId,u.type=e.type,this.fetchUpvotes(),this.$el.modal("show")},t.prototype.hide=function(){return this.removeOldItems(),this.$(".modal-title").text("Upvotes"),this.$el.modal("hide")},t.prototype.fetchUpvotes=function(){return u.fetch({success:function(e){return function(){return e.$(".loader-div").addClass("hide"),e.$(".modal-title").text("Upvotes ("+u.length+")"),e.addAll()}}(this),error:function(e){return function(t,o){return e.$(".loader-div").addClass("hide"),n.ERR.SHOW(o,e.$(".modal-error-space"))}}(this)})},t}(n.View),d.extend(a.prototype,r),t.exports=new a},{"../../../collections/discussions/upvotes":22,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/collection-view-support":100,"../../student-router":117,"./user-vote-item-view":204,backbone:318,"backbone.stickit":317,underscore:445}],204:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),l=e("underscore"),n.$=$,r=e("../../student-router"),i=e("../../../models/shared-model"),s=e("../user-image-initials-support"),a=e("../../../models/user-model"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.className="user-vote-item item",t.prototype.template=function(){return l.template($("#upvote-user-template").html())},t.prototype.userImageSelector=".user-profile-image",t.prototype.bindings={".user-profile-image":{attributes:[{observe:"photo",name:"src",onGet:function(){return this.model.get("photo")}}]},".user-name":"fullname"},t.prototype.events={"click .user-name":"showUserProfile","click .user-profile-image":"showUserProfile"},t.prototype.initialize=function(){},t.prototype.render=function(){return this.$el.html(this.template()()),this.stickit(),this.user=this.model.toJSON(),this.replaceWithProfilePic(),this.checkTAUpvotes(),this.$el},t.prototype.showUserProfile=function(){return n.trigger(n.E.HIDE_UPVOTES),r.navigate("/v/course/"+i.get("courseId")+"/profile/"+this.model.get("userId")+"/about"),i.set("profileId",this.model.get("userId")),n.trigger(n.E.DISPLAY_PROFILE)},t.prototype.checkTAUpvotes=function(){if(this.model.get("isTA"))return n.F.APPEND_QUARTER_LOGO(this.$(".user-profile-img-container"))},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t}(n.View),l.extend(u.prototype,s),t.exports=u},{"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],205:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),u=e("underscore"),n.$=$,a=e("../user-image-initials-support"),i=e("../../student-router"),s=e("../../../models/shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.template=function(){return u.template($("#leaderboard-compact-item-template").html())},t.prototype.className="leaderboard-item col-sm-12",t.prototype.userImageSelector=".user-image",t.prototype.bindings={".rank-and-name":{observe:"fullname",onGet:function(){return this.model.get("rank")+". "+this.model.get("fullname")}},".score":"score",".user-image":{attributes:[{observe:"photo",name:"src",onGet:function(){return this.model.get("photo")}}]}},t.prototype.events={click:"showUserProfile"},t.prototype.render=function(){return this.$el.html(this.template()()),this.stickit(),this.user=this.model.toJSON(),this.replaceWithProfilePic(),this.$el},t.prototype.showUserProfile=function(){return i.navigate("/v/course/"+s.get("courseId")+"/profile/"+this.model.get("userId")+"/about"),s.set("profileId",this.model.get("userId")),n.trigger(n.E.DISPLAY_PROFILE)},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t}(n.View),u.extend(r.prototype,a),t.exports=r},{"../../../models/shared-model":85,"../../student-router":117,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],206:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),l=e("underscore"),n.$=$,i=e("../../../collections/leaderboard-collection"),u=e("../../../models/shared-model"),s=e("./leaderboard-compact-item-view"),a=e("../../student-router"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.el=".leaderboard-compact",t.prototype.events={"click .view-full-leaderboard":"viewFullLeaderboard"},t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_COMPACT_LEADERBOARD,this.show),this.subViews={}},t.prototype.show=function(){return this.addFirstThree(),this.$el.removeClass("hide")},t.prototype.viewFullLeaderboard=function(){return a.navigate("/v/course/"+u.get("courseId")+"/leaderboard"),n.trigger(n.E.SHOW_LEADERBOARD_VIEW)},t.prototype.addFirstThree=function(){var e;return this.removeOldItems(),e=0,i.each(function(t){return function(o){if(e+=1,!(e>3))return t.addOne(o)}}(this))},t.prototype.addOne=function(e){var t,o;return o=new s({model:e}),t=o.render(),t.addClass(e.cid),t.addClass("leaderboard-item-"+e.get("rank")),this.$(".leaderboard-profiles").append(t),this.subViews[e.cid]=o},t.prototype.hide=function(){return this.removeOldItems(),this.$el.addClass("hide")},t.prototype.removeOldItems=function(){var e,t,o;t=[];for(e in this.subViews)this.subViews.hasOwnProperty(e)?(o=this.subViews[e],t.push(o.remove())):t.push(void 0);return t},t}(n.View),t.exports=new r},{"../../../collections/leaderboard-collection":24,"../../../models/shared-model":85,"../../student-router":117,"./leaderboard-compact-item-view":205,backbone:318,"backbone.stickit":317,underscore:445}],207:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),l=e("underscore"),i=e("../../student-router"),s=e("../../../models/shared-model"),n.$=$,u=e("../../../models/user-model"),a=e("../user-image-initials-support"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.template=function(){return l.template($("#leaderboard-item-template").html())},t.prototype.userImageSelector=".user-image",t.prototype.className="row leaderboard-item-card-wrapper",t.prototype.bindings={".name":"fullname",".rank":"rank",".score":"score",".city":"city",".user-image":{attributes:[{observe:"photo",name:"src",onGet:function(){return this.model.get("photo")}}]}},t.prototype.events={click:"showUserProfile"},t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.render=function(){return this.$el.html(this.template()()),this.stickit(),this.$el.addClass("user-"+this.model.get("userId")),this.model.get("userId")===u.get("id")&&(this.$(".you").removeClass("hide"),this.$el.addClass("my-profile")),1===this.model.get("rank")?this.$el.addClass("first"):2!==this.model.get("rank")&&3!==this.model.get("rank")||this.$el.addClass("other-two"),this.user=this.model.toJSON(),this.replaceWithProfilePic(),this.$el},t.prototype.showUserProfile=function(){return i.navigate("/v/course/"+s.get("courseId")+"/profile/"+this.model.get("userId")+"/about"),s.set("profileId",this.model.get("userId")),n.trigger(n.E.DISPLAY_PROFILE)},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t}(n.View),l.extend(r.prototype,a),t.exports=r},{"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],208:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h=function(e,t){function o(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},f={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),p=e("underscore"),n.$=$,r=e("../../helpers/base-view"),i=e("../../helpers/collection-view-support"),l=e("./leaderboard-search-view"),u=e("./leaderboard-item-view"),a=e("../../../collections/leaderboard-collection"),c=e("../../../models/shared-model"),d=e("../../../models/user-model"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.el=".leaderboard-container",t.prototype.viewIdentifier="leaderboard-main",t.prototype.itemViewClass=u,t.prototype.events={"click .next":"showNext","click .previous":"showPrevious","enter .page-input":"jumpToPage","blur .page-input":"jumpToPage","click .go-to-your-position":"goToYourPosition","click .return-to-leaderboard":"returnToLeaderboard","click .cross-button":"clearSearch"},t.prototype.initialize=function(){return this.subViews={},this.collection=a,this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.initializeAutoSuggestSearch(),this.listenTo(n,n.E.SHOW_LEADERBOARD,this.show),n.F.BIND_ENTER_EVENT(this.$(".page-input")),t.__super__.initialize.call(this)},t.prototype.show=function(){return c.resetCurrentView(this.viewIdentifier),this.bindAutoSearchEvents(),this.fetchData(this.collection.url()),this.$el.removeClass("hide")},t.prototype.hide=function(){return this.removeTypeaheadEvents(),this.$el.addClass("hide")},t.prototype.showNext=function(){if(this.collection.nextUrl)return this.fetchData(this.collection.nextUrl)},t.prototype.showPrevious=function(){if(this.collection.previousUrl)return this.fetchData(this.collection.previousUrl)},t.prototype.fetchData=function(e,t){return n.F.SHOW_LOADER(),this.collection.fetch({reset:!0,url:e,success:function(e){return function(o){if(e.setPageNumber(),e.toggleNextPrev(),n.F.HIDE_LOADER(),window.scroll(0,0),t)return t()}}(this),error:function(e,t){return n.F.HIDE_LOADER(),n.ERR.SHOW(t)}})},t.prototype.toggleNextPrev=function(){return 1===this.totalPages?void this.$(".leaderboard-footer").addClass("hide"):(parseInt(this.collection.pageNum)===this.totalPages?this.$(".next").addClass("hide"):this.$(".next").removeClass("hide"),1===parseInt(this.collection.pageNum)?this.$(".previous").addClass("hide"):this.$(".previous").removeClass("hide"))},t.prototype.setPageNumber=function(){return this.totalPages||(this.totalPages=Math.ceil(this.collection.count/10),this.$(".page-count").text("of "+this.totalPages)),this.$(".page-input").val(this.collection.pageNum),this.$(".page-input").attr("max",this.totalPages)},t.prototype.jumpToPage=function(e,t){var o,n;if(t=t?t:this.$(".page-input").val(),o=parseInt(t),!(isNaN(t)||o!==parseFloat(t)||o<1||o>this.totalPages)&&t){if(this.$(".page-input").removeClass("error"),o===this.collection.pageNum)return;return n=this.collection.url()+("?page="+t),this.fetchData(n)}this.$(".page-input").addClass("error")},t.prototype.goToYourPosition=function(){var e,t;return t=d.get("id"),this.$(".user-"+t).length?(n.F.SCROLL_TO_ELEMENT(this.$(".user-"+t),-100),this.$(".user-"+t+" .leaderboard-item-card").addClass("highlighted"),this.toggleButtons()):(e=this.collection.url()+("?page=rank&userId="+t),this.fetchData(e,function(e){return function(){return n.F.SCROLL_TO_ELEMENT(e.$(".user-"+t),-100),e.toggleButtons()}}(this)))},t.prototype.resultOnClickAction=function(e){var t;return this.$(".user-"+e).length?(n.F.SCROLL_TO_ELEMENT(this.$(".user-"+e),-100),this.$(".user-"+e+" .leaderboard-item-card").addClass("highlighted")):(t=this.collection.url()+("?page=rank&userId="+e),this.fetchData(t,function(t){return function(){return n.F.SCROLL_TO_ELEMENT(t.$(".user-"+e),-100)}}(this)))},t.prototype.returnToLeaderboard=function(){return this.jumpToPage(null,this.collection.pageNum),this.$(".user-"+d.get("id")+" .leaderboard-item-card").removeClass("highlighted"),this.toggleButtons()},t.prototype.toggleButtons=function(){return this.$(".go-to-your-position").toggleClass("hide"),this.$(".return-to-leaderboard").toggleClass("hide")},t}(r),p.extend(s.prototype,i,l),t.exports=new s},{"../../../collections/leaderboard-collection":24,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"./leaderboard-item-view":207,"./leaderboard-search-view":209,backbone:318,"backbone.stickit":317,underscore:445}],209:[function(e,t,o){var n,r,i,s,a,u,l;n=e("backbone"),l=e("underscore"),n.$=$,i=e("../../student-router"),u=e("../../../collections/user-profile-collections/peers"),s=e("../../../models/shared-model"),a=e("../profiles/student-search-item-view"),r={initializeAutoSuggestSearch:function(){return this.element=this.$(".leaderboard-search-input"),this.element.typeahead({highlight:!0,hint:!1,minLength:3},{name:"profile",source:this.searchStudentBloodHound(),displayKey:"name",limit:1e3,templates:{suggestion:function(e){var t;return t=new a({model:new n.Model(e)}),t.render()}}})},bindAutoSearchEvents:function(){return this.element.bind("typeahead:select",function(e){return function(t,o){return e.goToProfileOnSelect(o),e.$(".cross-button").removeClass("hide")}}(this)),this.element.bind("typeahead:open",function(e){return function(e,t){return $("body").addClass("freeze-background")}}(this)),this.element.bind("typeahead:close",function(e){return function(e,t){return $("body").removeClass("freeze-background")}}(this)),this.element.bind("typeahead:asyncrequest",function(e){return function(t,o,n){return e.$(".search-button").removeClass("hide").addClass("loading")}}(this)),this.element.bind("typeahead:asyncreceive",function(e){return function(t,o,n){return e.$(".search-button").addClass("hide").removeClass("loading")}}(this)),this.element.bind("keyup",function(e){return function(){if(""===e.element.val().trim())return e.fetchData(e.collection.url()),e.$(".search-button").removeClass("loading")}}(this))},removeTypeaheadEvents:function(){return this.element.unbind("typeahead:select"),this.element.unbind("typeahead:open"),this.element.unbind("typeahead:close"),this.element.unbind("typeahead:asyncrequest"),this.element.unbind("typeahead:asyncreceive"),this.element.unbind("keyup")},toggleNoResults:function(){return this.noProfilesFound?($(".tt-menu .tt-dataset-profile").html("<div class='no-result'>No results found</div>"),$(".tt-menu").show()):($(".tt-menu .tt-dataset-profile .no-result").remove(),$(".tt-menu").hide())},searchStudentBloodHound:function(){return new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:n.C.MEDIA_PATH()+"/search/profiles?key=%QUERY",wildcard:"%QUERY",transform:function(e){return function(t){return e.noProfilesFound=!(t.data.profiles.length>0),e.toggleNoResults(),t.data.profiles}}(this)}})},goToProfileOnSelect:function(e){return this.resultOnClickAction(e.userId)},clearSearch:function(e){return this.$(".cross-button").addClass("hide"),this.element.val(""),this.element.trigger("keyup")}},t.exports=r},{"../../../collections/user-profile-collections/peers":40,"../../../models/shared-model":85,"../../student-router":117,"../profiles/student-search-item-view":235,backbone:318,underscore:445}],210:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m=function(e,t){function o(){this.constructor=e}for(var n in t)g.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},g={}.hasOwnProperty;l=e("../student-router"),n=e("backbone"),f=e("underscore"),r=e("../../models/config-model"),c=e("../../models/shared-model"),p=e("../../models/user-model"),d=e("./user-image-initials-support"),a=e("../helpers/helper-methods"),s=e("../../models/progress-models/enrolled-courses-progress"),h=e("../zoom-image-support"),i=e("../helpers/countdown-timer"),e("./tours/demo-tour"),e("./tours/tour-constants"),e("../not-found-view"),e("../platform-access-view"),e("./viewer-files/index"),e("./courses/course-list-view"),e("../helpers/mathjax-handler"),e("../helpers/web-push-notification"),e("./cache-utils/cache-retry-util"),e("./consent-modal-view"),n.$=$,u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.events={"click .view-courses":"showMyCourses","click .maintenance-space .close":"hideMaintenanceMessage","click .browser-support-message .close":"hideBrowserSupportMessage","click .demo-apply-now-button":"launchApplicationPage","click .image-editor":"openImageModal","click .close-image-modal":"closeImageModal"},t.prototype.el="body",t.prototype.userImageSelector=".viewer-user-image-navbar",t.prototype.initialize=function(){var e;if(f.bindAll(this,"hideMaintenanceMessage","hideBrowserSupportMessage","hideTimedNotification"),document.title="upGrad",this.setMaxScreenSize(),this.bindZoomSupportMethods(),a.ADD_COOKIE_TO_HEADERS(),this.listenTo(n,n.E.VIEW_NOT_FOUND,this.viewNotFound),this.listenTo(n,n.E.BUILD_APP_BY_CONFIG,this.buildAppByConfig),this.listenTo(n,n.E.VIEW_COURSES,this.fetchAndShowCourses),this.listenTo(n,n.E.CLEAR_COURSE_SPECIFIC_DATA,this.clearCourseSpecificData),this.listenTo(n,n.E.HIDE_TIMED_NOTIFICATION,this.hideTimedNotification),n.trigger(n.E.INITIAL_PROGRESS_CHECK_ON_LOAD),this.listenTo(p,"change:profilePic",this.setUserImage),this.listenTo(n,n.E.PREPARE_PLATFORM_FOR_IFRAME,this.preparePlatformForIframe),this.listenTo(n,n.E.NAVIGATE_BASED_ON_IFRAME,this.courseNavigationBasedOnIframe),this.bindZoomSupportMethods(),n.History.started||n.history.start({pushState:!0,root:"/"}),this.setTimeAgo(),this.setUserImage(),this.$(".viewer-user-image-navbar").last().addClass("nav-profile-image"),n.T.MIXPANEL_IDENTIFY(),n.T.MIXPANEL_REGISTER(a.getSessionId()),a.trimInputValues(),this.checkForRunningTimedQuiz(),n.trigger(n.E.CONSENT_CHECK),n.F.isDemoPlatform()&&(n.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Demo Platform Viewed":!0}),e="Demo",c.set("courseType",e),n.T.MIXPANEL_REGISTER("",e),this.$(".demo-apply-now-block").removeClass("hide"),$("body").addClass("demo-experience")),a.isUnsupportedBrowser())return n.F.SHOW_BROWSER_NOT_SUPPORTED_MESSAGE()},t.prototype.setMaxScreenSize=function(){c.get("startupIndia")?$("body").css("min-height",$(window).height()+200):$("body").css("min-height",$(window).height()+100),window.innerWidth<976&&(this.$(".main-container").addClass("hide"),this.$(".not-supported").removeClass("hide"))},t.prototype.preparePlatformForIframe=function(){return c.set("viewingInIframe",!0),$(".viewer-main-navbar").addClass("hide"),n.trigger(n.E.HIDE_MENU_ITEM,"fullScreenButton")},t.prototype.courseNavigationBasedOnIframe=function(e,t){var o;return o=c.get("viewingInIframe")?"/v/if/course/":"/v/course/",t?l.navigate(o+e,!0):l.navigate(o+e)},t.prototype.buildAppByConfig=function(){var e;return e=r.modules,n.F.isStartupIndia()&&(e=f.difference(e,["intercom"])),f.each(e,function(e){var t;return t=e.replace(/([A-Z])/g,function(e){return"_"+e}).toUpperCase(),r.showModule(e)?(n.trigger(n.E.SHOW_MENU_ITEM,e),n.trigger(n.E["ADD_"+t+"_LISTENER"])):(n.trigger(n.E.HIDE_MENU_ITEM,e),n.trigger(n.E["REMOVE_"+t+"_LISTENER"]))})},t.prototype.launchApplicationPage=function(){var e,t;return e=c.get("programKey"),t="entrepreneurship"===e?"https://www.upgrad.com/programs/entrepreneurship/":"digital-marketing"===e?"https://www.upgrad.com/programs/digital-marketing/apply":"content-marketing"===e?"https://www.upgrad.com/programs/content-marketing/apply":"product-management"===e?"https://www.upgrad.com/programs/product-management/apply":"data-analytics"===e?"https://www.upgrad.com/programs/data-science/apply":"software-engineering"===e?"https://www.upgrad.com/software-engineering/?utm_source=demo&utm_medium=demo_platform&utm_campaign=Demo":"blockchain-technology"===e?"https://www.upgrad.com/programs/blockchain-technology/apply?utm_source=Demo_Apply":"https://www.upgrad.com/#programs",window.open(t,"_open"),n.T.MIXPANEL_TRACK("Demo Tour",{Action:"full_course",Course:e})},t.prototype.setUserImage=function(){if(p)return this.user=p.toJSON(),this.replaceWithProfilePic()},t.prototype.setTimeAgo=function(){return setInterval(function(){return n.F.REASSIGN_TIMES()},3e4)},t.prototype.viewNotFound=function(){return n.trigger(n.E.SHOW_NOT_FOUND_STUDENT)},t.prototype.showMyCourses=function(){return Cookies.remove("upgrad-last-active-course-id"),window.location=window.location.origin+"/v/courses"},t.prototype.fetchAndShowCourses=function(){
return this.fetchProgressForAllEnrolledCourses(function(e){return function(){return n.trigger(n.E.SHOW_PROGRESS_FOR_ENROLLED_COURSES)}}(this)),l.navigate("/v/courses"),n.F.HIDE_LOADER(),n.trigger(n.E.SHOW_COURSES)},t.prototype.clearCourseSpecificData=function(){return c.set("bookmarksLoadedOnce",!1),n.trigger(n.E.RESET_COLLECTIONS)},t.prototype.fetchProgressForAllEnrolledCourses=function(e){return s.fetch({success:function(){if(e)return e()}})},t.prototype.hideMaintenanceMessage=function(){return this.$(".maintenance-space").addClass("hide")},t.prototype.hideBrowserSupportMessage=function(){return this.$(".browser-support-message").addClass("hide")},t.prototype.checkForRunningTimedQuiz=function(){var e,t,o;return o=n.C.ASSESSMENT_PATH()+"/v2/timed_quizsession/",t=function(e){return function(t){var o,r,s,u,l,d;if(t.quizId)return u=60*t.quizDuration,s=moment(t.sessionStartTime),r=moment(t.serverTime),o=new moment,l=a.getTimeDiff(s,r),l>0?u-=l:u+=l,e.$(".timed-assessment-notification").removeClass("hide"),d=new n.Model({secs:0,totalTime:u,startTime:o,errorTime:0}),e.timer=new i({model:d}),e.$(".timer-container").append(e.timer.render()),e.timer.start(),e.listenTo(e.timer,"time-up",e.hideTimedNotification),e.$(".continue-timed-assessment").attr("href","/t/course/"+(t.courseId||c.get("courseId"))+"/quiz/"+t.quizId+"/session/"+t.id)}}(this),e=function(e){return n.ERR.SHOW(e)},n.F.AJAX("GET",o,t,e)},t.prototype.hideTimedNotification=function(){return this.$(".timed-assessment-notification").addClass("hide")},t}(n.View),f.extend(u.prototype,d,h),t.exports=new u},{"../../models/config-model":54,"../../models/progress-models/enrolled-courses-progress":76,"../../models/shared-model":85,"../../models/user-model":87,"../helpers/countdown-timer":101,"../helpers/helper-methods":104,"../helpers/mathjax-handler":106,"../helpers/web-push-notification":111,"../not-found-view":112,"../platform-access-view":115,"../student-router":117,"../zoom-image-support":292,"./cache-utils/cache-retry-util":121,"./consent-modal-view":144,"./courses/course-list-view":158,"./tours/demo-tour":271,"./tours/tour-constants":273,"./user-image-initials-support":275,"./viewer-files/index":283,backbone:318,underscore:445}],211:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),a=e("underscore"),n.$=$,s=e("../../../models/shared-model"),i=e("../../student-router"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.tagName="a",t.prototype.className="course-option",t.prototype.template=function(){return a.template($("#course-option-template").html())},t.prototype.events={click:"activateModuleGroup"},t.prototype.initialize=function(){return a.bindAll(this,"render"),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model,"activateModuleGroup",this.activateModuleGroup),this.listenTo(this.model,"toggleSelectedState",this.toggleSelectedState)},t.prototype.activateModuleGroup=function(){return s.set("moduleGroupId",this.model.id),this.toggleSelectedState(),n.trigger(n.E.SHOW_MODULES_FOR_SELECTED_GROUP),n.T.MIXPANEL_TRACK("Course select",{Action:"click","Module Group ID":this.model.id.toString(),"Module Group Name":this.model.get("name")})},t.prototype.render=function(){return this.$el.html(this.template()(this.model.toJSON())),this.toggleSelectedState(),this.$el},t.prototype.toggleSelectedState=function(){return s.get("moduleGroupId")===this.model.id?($(".course-option").removeClass("selected"),this.$el.addClass("selected")):this.$el.removeClass("selected")},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=r},{"../../../models/shared-model":85,"../../student-router":117,backbone:318,"backbone.stickit":317,underscore:445}],212:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),d=e("underscore"),n.$=$,c=e("../../../models/shared-model"),l=e("../../student-router"),r=e("../../helpers/collection-view-support"),i=e("../viewer-files/utils/course-getters"),s=e("./module-group-item-view"),a=e("../../../collections/module-groups"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.el=".course-sidemenu",t.prototype.itemViewClass=s,t.prototype.collection=a,t.prototype.appendToDivSelector=".sidemenu",t.prototype.events={"click .course-options":"toggleCourseOptions","mouseenter .course-options":"openCourseOptions",mouseleave:"closeCourseOptions"},t.prototype.initialize=function(){return d.bindAll(this,"show","hide","toggleCourseOptions","scrollHandler","setScrollHandler","removeScrollHandler","openCourseOptions","closeCourseOptions"),this.listenTo(n,n.E.SHOW_MODULE_GROUPS_SIDEBAR,this.show),this.listenTo(n,n.E.HIDE_MODULE_GROUPS_SIDEBAR,this.hide),this.subViews={},this.bindCollectionSupportMethods(),t.__super__.initialize.call(this)},t.prototype.show=function(){if(this.collection.length>1&&(this.addAll(),this.$el.removeClass("hide"),this.scrollHandler(),this.setScrollHandler(),c.get("viewingInIframe")))return this.$el.addClass("is-loading-in-iframe")},t.prototype.hide=function(){return this.$el.addClass("hide"),this.removeScrollHandler()},t.prototype.scrollHandler=function(){var e;return e=n.F.getTopNavbarHeight(),$(document).scrollTop()>e?this.$el.addClass("fixed"):this.$el.removeClass("fixed")},t.prototype.setScrollHandler=function(){return $(document).scroll(this.scrollHandler)},t.prototype.removeScrollHandler=function(){return $(document).off("scroll",this.scrollHandler)},t.prototype.openCourseOptions=function(){return $("#modules").addClass("active-nav"),n.trigger(n.E.NPS_NOTIFICATION_CLOSE)},t.prototype.closeCourseOptions=function(){return $("#modules").removeClass("active-nav"),n.trigger(n.E.NPS_NOTIFICATION_SHOW)},t.prototype.toggleCourseOptions=function(){return $("#modules").toggleClass("active-nav")},t}(n.View),d.extend(u.prototype,r,i),t.exports=new u},{"../../../collections/module-groups":25,"../../../models/shared-model":85,"../../helpers/collection-view-support":100,"../../student-router":117,"../viewer-files/utils/course-getters":291,"./module-group-item-view":211,backbone:318,"backbone.stickit":317,underscore:445}],213:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),s=e("../../../collections/modules"),r=e("../../../collections/module-groups"),c=e("underscore"),n.$=$,u=e("../../../models/shared-model"),l=e("../../../models/user-model"),a=e("../../student-router"),d=e("sanitize-html"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.className="module item default",t.prototype.template=function(){return c.template($("#module-template").html())},t.prototype.bindings={".module-number":{observe:"number",onGet:function(){return n.F.getModuleText(this.model)}},".module-name":"name",".module-type":"moduleType",".date":{observe:"deadlineIso",onGet:function(){return this.hideDueDateAndProgress()?"--/--/--":n.F.formattedDateWithTimezone(this.model.get("deadlineIso"),{format:"Do MMM 'YY",removeTimeZoneAbbr:!0})}},".time":{observe:"progress",onGet:function(e){var t;return t="",e?this.model.getFormattedTimeRemaining():"--"}},".submission-message":{observe:["totalNumberOfSubmissions","progress"],update:function(e,t){return this.showSubmissionInfo()}}},t.prototype.events={"click .module-body":"showSessions"},t.prototype.initialize=function(e){if(c.bindAll(this,"render","destroy","toggleVisibility","showSessions","setModuleColors","displaySessionProgress","showSubmissionInfo","getSubmissionDeadlineClass","showLockedUI","navigateToSessions"),this.listenTo(this.model,"change:visibility",this.toggleVisibility),this.listenTo(this.model,"updateProgressIcon",this.updateProgressIcon),this.listenTo(this.model,"showActiveModule",this.showActiveModule),this.listenTo(this.model,"remove",this.destroy),this.listenTo(this.model,"change:moduleGroupId",this.updateModuleGroup),e.parentView)return this.parentView=e.parentView},t.prototype.showSubmissionInfo=function(){var e,t,o,n;return n=this.model.get("totalNumberOfSubmissions"),o=this.model.completedSubmissionsCount(),t=this.model.pendingSubmissionsCount(),e=this.getSubmissionDeadlineClass(),this.model.isUnavailable()?this.setSubmissionInfo("--"):n&&o===n?this.setSubmissionInfo(o+" done"):t?this.setSubmissionInfo(t+" "+e).addClass(e):this.setSubmissionInfo('<span class="small-font">Nil</span>'),this.$(".submission-message").removeClass("hide")},t.prototype.setSubmissionInfo=function(e){return this.$(".submission-message").html(e)},t.prototype.getSubmissionDeadlineClass=function(){return this.model.deadlineInFuture()?"left":"due"},t.prototype.showTags=function(){return this.model.get("isIncludedInProgress")?this.$(".module-is-optional").addClass("hide"):this.$(".module-is-optional").removeClass("hide")},t.prototype.setModuleColors=function(){return this.$(".module-name").dotdotdot({ellipsis:"...",watch:!0,tolerance:2}),this.$(".module-heading").css("background-image",this.model.getBackground()),this.$(".module-icon").css("color",this.model.getBackground())},t.prototype.showLockedUI=function(){var e;if(this.$el.addClass("locked"),this.$(".progress-submission-container").addClass("hide"),this.model.isUnavailable()&&!l.isTeacher())return e=n.F.formattedDateWithTimezone(this.model.get("availableFromIso"),{format:"Do MMM 'YY",removeTimeZoneAbbr:!0}),this.$(".availability-date").text(e),this.$(".unlocks-on-container").removeClass("hide")},t.prototype.updateProgressIcon=function(){var e;return this.$el.removeClass("locked active completed pending default"),(null!=(e=this.model.get("progress"))?e.isLocked:void 0)||this.model.isUnavailable()?(this.addModuleClass("locked"),this.showLockedUI()):u.get("currentComponent")&&u.get("currentComponent").get("moduleId")===this.model.get("id")?this.addModuleClass("active"):this.isCompleted()?this.addModuleClass("completed"):this.addModuleClass("pending"),"locked"!==this.model.get("moduleStatus")&&this.$el.removeClass("locked"),this.displaySessionProgress()},t.prototype.addModuleClass=function(e){return this.model.set("moduleStatus",e),this.$el.addClass(e)},t.prototype.isCompleted=function(){var e,t;return t=null!=(e=this.model.get("progress"))?e.userProgress:void 0,100===parseInt(t)},t.prototype.showActiveModule=function(){return this.$el.removeClass("locked active completed pending"),this.$el.addClass("active")},t.prototype.render=function(){return this.model.get("description")||this.model.set("description",{html:"There is no description for this module."}),this.$el.html(this.template()()),this.$el.addClass("module-"+this.model.cid),["RESOURCE","LIVE_LECTURE","CASE_STUDY","PROJECT","REMEDIAL_CONTENT"].indexOf(this.model.get("moduleType"))===-1&&this.$el.addClass("main-content"),"CASE_STUDY"===this.model.get("moduleType")&&this.$el.addClass("case-study"),"PROJECT"===this.model.get("moduleType")&&this.$el.addClass("project"),this.$(".module-icon").addClass("module-icon-"+this.model.cid),this.setModuleColors(),this.model.isUnavailable()&&this.showLockedUI(),this.showTags(),this.$(".module-description").append(d(this.model.get("description").html)),this.stickit(),this.toggleVisibility(),this.addSILPChanges(),this.$el},t.prototype.addSILPChanges=function(){if(u.get("startupIndia"))return this.$(".time-remaining-text").text("Estimated Time"),this.$(".submissions-remaining").addClass("hide")},t.prototype.hideDueDateAndProgress=function(){return this.model.isUnavailable()||this.model.isResource()},t.prototype.displaySessionProgress=function(){var e,t,o,n,r;if(this.$(".sessions-progress").empty(),n=Math.round(this.model.get("progress").userProgress),!this.hideDueDateAndProgress())return n&&(t=null!=(o=this.model.get("gradient"))?o.to:void 0,r=n+"%",this.$(".sessions-progress").append("<div class='session-item-progress' style='background-color:"+t+";width:"+r+"'></div>")),n?(e=n+"% completed",this.$(".session-progress-count").removeClass("not-started")):(e="Not started",this.$(".session-progress-count").addClass("not-started")),this.$(".session-progress-count").text(e)},t.prototype.showSessions=function(){var e,t;return e={"Module Id":this.model.get("id").toString(),"Module Type":this.model.get("type"),"Module Status":this.model.get("moduleStatus")},n.T.MIXPANEL_TRACK("Module Card Click",e),(null!=(t=this.model.get("progress"))?t.isLocked:void 0)?(this.$(".module-locked-icon").addClass("animated shake"),n.F.ON_ANIMATION_END(this.$(".module-locked-icon"),function(e){return function(){return e.$(".module-locked-icon").removeClass("animated").removeClass("shake")}}(this))):(u.set("moduleId",this.model.get("id")),u.set("moduleType",this.model.get("moduleType")),this.navigateToSessions())},t.prototype.navigateToSessions=function(){var e;return e=u.get("courseId")+"/module/"+u.get("moduleId"),n.trigger(n.E.NAVIGATE_BASED_ON_IFRAME,e,!0)},t.prototype.updateModuleGroup=function(){var e,t;if(this.destroy(),e=r.get((null!=(t=this.model.get("moduleGroup"))?t.id:void 0)||"RESOURCE"),null!=e&&e.trigger("addModule",this.model),!e)return s.trigger("createNewModuleGroup",this.model)},t.prototype.destroy=function(){return this.parentView&&this.parentView.model.trigger("removeModule",this.model),this.stopListening(),this.$el.remove()},t.prototype.toggleVisibility=function(){return this.model.get("visibility")?this.$el.removeClass("hide"):this.$el.addClass("hide")},t}(n.View),t.exports=i},{"../../../collections/module-groups":25,"../../../collections/modules":26,"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,backbone:318,"backbone.stickit":317,"sanitize-html":426,underscore:445}],214:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m=function(e,t){function o(){this.constructor=e}for(var n in t)g.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},g={}.hasOwnProperty;n=e("backbone"),f=e("underscore"),n.$=$,c=e("./module-item-view"),p=e("../../../collections/modules"),a=e("../../../collections/enrollments"),u=e("../../../collections/module-groups"),h=e("../../../models/shared-model"),r=e("../../helpers/base-view"),s=e("../../../models/progress-models/course-progress-model"),i=e("../../helpers/collection-view-support"),l=e("./module-groups-sidebar-view"),d=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.el="#modules",t.prototype.viewIdentifier="moduleView",t.prototype.appendToDivSelector=".modules-list",t.prototype.initialize=function(){return f.bindAll(this,"addAll","addOne","showView","hide","updateModuleProgressIcons","performAfterAddingItems","showHeading","enableInactivityDetection","disableInactivityDetection","resetTimer","markDemoItems"),this.subViews={},this.listenTo(n,n.E.SHOW_MODULES_VIEW,this.showView),this.listenTo(n,n.E.HIDE_ALL_MODULES,this.hideAllModules),this.listenTo(n,n.E.UPDATE_MODULES_PROGRESS,this.updateModuleProgressIcons),this.listenTo(n,n.E.UPDATE_ACTIVE_MODULE,this.updateActiveModule),this.listenTo(n,n.E.ADD_MODULE_LIST_LISTENERS,this.addModuleListListeners),this.listenTo(n,n.E.ENABLE_DEMO_ON_GROUP_MODULE,this.enableDemo),t.__super__.initialize.call(this)},t.prototype.addModuleListListeners=function(){return this.removeCollectionListeners(),this.collection=p,this.itemViewClass=c,this.bindCollectionSupportMethods(),this.addCollectionListeners()},t.prototype.showView=function(){var e;return h.resetCurrentView(this.viewIdentifier),$(".module-tab-title").removeClass("active"),e=p.filter(function(e){return function(e){return e.isResource()}}(this)),e.length?this.$(".resources-header").removeClass("hide"):this.$(".resources-header").addClass("hide"),p.length?(this.$(".course-not-started-empty-state").addClass("hide"),this.$(".no-modules-empty-state").addClass("hide"),this.$(".modules-heading-block").removeClass("hide")):(h.get("filterWithModuleType")?this.$(".no-modules-empty-state").removeClass("hide"):this.$(".course-not-started-empty-state").removeClass("hide"),this.$(".modules-heading-block").addClass("hide")),this.$el.removeClass("hide"),n.T.MIXPANEL_TRACK("Course Page View",{}),this.enableDemo(),n.trigger(n.E.SHOW_MODULE_GROUPS_SIDEBAR),this.enableInactivityDetection(),this.showHeading()},t.prototype.showHeading=function(){var e,t;return this.$(".active-module-group-no").text("Course "+(null!=(e=u.get(h.get("moduleGroupId")))?e.get("number"):void 0)),this.$(".active-module-group-name").text(null!=(t=u.get(h.get("moduleGroupId")))?t.get("name"):void 0)},t.prototype.enableDemo=function(){if(this.markDemoItems(),h.get("currentView")===this.viewIdentifier&&(["firstSession","discussionsMenuItem"].indexOf(n.Demo.getCurrentStep())!==-1&&($(".demo-case-study").length?n.Demo.show("firstCaseStudy"):$(".demo-project").length?n.Demo.show("firstProject"):$(".demo-module").length&&n.Demo.show("firstModule")),"courseMenuItem"===n.Demo.getCurrentStep()))return n.Demo.show("firstModule")},t.prototype.appendToAnotherList=function(e){var t,o;return o=new c({model:e}),o.template=function(){return f.template($("#resource-template").html())},t=o.render(),t.addClass("resource-item").removeClass("hide"),t.find(".resource-type-icon img").attr("src",this.getResourceTypeIcon(e.get("moduleType"))).removeClass("hide"),this.$(".resources-list").append(t)},t.prototype.getResourceTypeIcon=function(e){switch(e){case"LIVE_LECTURE":return"/resource-live.png";case"REMEDIAL_CONTENT":return"/resource-remedial.png";case"CAREER_SERVICES":return"/resource-career.png";case"CONCEPT":return"/resource-concept.png";default:return"/resource-concept.png"}},t.prototype.skipAddOne=function(e){return e.isResource()},t.prototype.getModuleGroupToDisplay=function(){var e;return u.length>1&&(e=u.get(h.get("moduleGroupId")),e||(e=u.first())),e},t.prototype.performAfterAddingItems=function(){var e;if(this.$(".resources-list").empty(),p.each(function(e){return function(t){if(t.isResource())return e.appendToAnotherList(t)}}(this)),e=this.getModuleGroupToDisplay())return e.trigger("toggleSelectedState"),this.$(".module-group-heading").removeClass("hide")},t.prototype.getFirstNonResourceModuleGroup=function(){var e;return e=u.find(function(e){return"number"==typeof e.get("id")})},t.prototype.markDemoItems=function(){var e,t,o,n,r,i;if(!this.markedDemoItems)return n=$(".main-content:first"),e=$(".case-study:first"),i=$(".project:first"),n&&n.length&&(n.addClass("demo-module"),t=n[0].className.split(" "),t.length&&(o=f.find(t,function(e){return 0===e.indexOf("module-")}),r=p.get(o.split("-")[1]),h.set("demoModule",r))),null!=e&&e.addClass("demo-case-study"),null!=i&&i.addClass("demo-project"),this.markedDemoItems=!0},t.prototype.hide=function(){return this.$el.addClass("hide"),this.disableInactivityDetection(),n.trigger(n.E.HIDE_MODULE_GROUPS_SIDEBAR)},t.prototype.enableInactivityDetection=function(){return this.inactivityTimer=0,$(document).ready(this.resetTimer),$(document).keypress(this.resetTimer),$(document).click(this.resetTimer)},t.prototype.resetTimer=function(){return clearTimeout(this.inactivityTimer),this.inactivityTimer=setTimeout(this.showInactivityFeedback,3e5),this.$(".module-start-icon").removeClass("animated pulse infinite")},t.prototype.disableInactivityDetection=function(){return clearTimeout(this.inactivityTimer),$(document).unbind("ready",this.resetTimer),$(document).unbind("keypress",this.resetTimer),$(document).unbind("click",this.resetTimer)},t.prototype.showInactivityFeedback=function(){return this.$(".module-start-icon").addClass("animated pulse infinite")},t.prototype.updateActiveModule=function(){if((!n.F.isDemoPlatform()&&!n.F.isStartupIndia()||!n.F.isTourAvailable())&&h.get("currentComponent"))return p.each(function(e){return function(e){if(h.get("currentComponent").get("moduleId")===e.get("id")&&!e.isUnavailable())return e.trigger("showActiveModule")}}(this))},t.prototype.updateModuleProgressIcons=function(){return f.each(s.get("modules"),function(e){return function(e){var t;return t=p.get(e.id),null!=t&&t.set("progress",e),null!=t?t.trigger("updateProgressIcon"):void 0}}(this)),n.trigger("pageShown:"+this.viewIdentifier)},t}(r),f.extend(d.prototype,i),t.exports=new d},{"../../../collections/enrollments":23,"../../../collections/module-groups":25,"../../../collections/modules":26,"../../../models/progress-models/course-progress-model":75,"../../../models/shared-model":85,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"./module-groups-sidebar-view":212,"./module-item-view":213,backbone:318,underscore:445}],215:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),u=e("underscore"),n.$=$,i=e("../student-router"),s=e("../../models/shared-model"),a=e("./user-image-initials-support"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.tagName="li",t.prototype.className="notification-item",t.prototype.template=function(){return u.template($("#notification-template").html())},t.prototype.userImageSelector=".notification-user-image",t.prototype.bindings={".badge-name":"badgeName",".notification-user-primary-text":{observe:"text",onGet:function(){if(this.model.get("text"))return $($.parseHTML(this.model.get("text"))[0]).text()}},".notification-user-image":{attributes:[{name:"src",observe:"photoUrl",onGet:function(){return this.model.get("photoUrl")}}]},".notification-user-secondary-text":{observe:"notificationContent",onGet:function(){var e;if(this.model.get("notificationContent"))return e=$($.parseHTML(this.model.get("notificationContent"))[0]).text(),'"'+e+'"'}}},t.prototype.events={click:"showItemAndMarkRead"},t.prototype.initialize=function(){u.bindAll(this,"show","render","markRead","remove","destroy","toggleVisibility"),this.listenTo(this.model,"change:visibility",this.toggleVisibility),this.listenTo(this.model,"destroy",this.destroy),this.listenTo(this.model,"enableTooltip",this.enableTooltip),this.listenTo(this.model,"remove",this.destroy)},t.prototype.show=function(){return this.$el.html(this.template()(this.model.toJSON())),this.$(".notifications-url").attr("href",this.model.get("url")),this.$(".notification-time").attr("title",this.model.get("createdAt")),this.model.get("readStatus")&&this.$el.addClass("read-notification"),this.stickit(),this.user={fullname:this.model.get("actionUser"),photo:this.model.get("photoUrl")},this.replaceWithProfilePic(),this.$el},t.prototype.showItemAndMarkRead=function(e){return this.markRead(e),"event"===this.model.get("notificationType")?(s.set("courseId",this.model.get("courseId")),n.trigger(n.E.SHOW_CALENDAR_VIEW,{notificationModel:this.model})):this.model.get("url")?this.showItem():void 0},t.prototype.markRead=function(e){var t;return e.preventDefault(),(t=this.model.get("readStatus"))?void this.$el.addClass("read-notification"):(this.model.set("readStatus",1),this.$el.addClass("read-notification"),this.model.save())},t.prototype.toggleVisibility=function(){return this.model.get("visibility")?this.$el.removeClass("hide"):this.$el.addClass("hide")},t.prototype.showItem=function(){return"forum"===this.model.get("notificationType")?this.showDiscussionQuestion():"course"===this.model.get("notificationType")?this.showSegment():"grades"===this.model.get("notificationType")?this.openUrl():void 0},t.prototype.openUrl=function(){return window.open(this.model.get("url"),"_blank")},t.prototype.showDiscussionQuestion=function(){var e,t,o,r,a;return a=this.model.get("url"),t=a.split("/"),r=t[1],s.set("discussionQuestionId",r),a.indexOf("answer")>-1?(e=t[3],i.navigate("/v/course/"+s.get("courseId")+"/question/"+r+"/answer/"+e),n.trigger(n.E.SHOW_SINGLE_ANSWER,{scrollTo:a}),t.length>4?(o=t[5],i.navigate("/v/course/"+s.get("courseId")+"/question/"+r+"/answer/"+e+"/comment/"+o)):void 0):(n.trigger(n.E.SHOW_QUESTION_DETAILS,{scrollTo:a,pageSize:1e3}),i.navigate("/v/course/"+s.get("courseId")+"/question/"+r))},t.prototype.showSegment=function(){var e,t;if(!this.model.get("isLocked")){if(t=this.model.get("url"),e=t.split("/"),s.set("componentId",e[9]),s.set("segmentId",e[7]),s.set("sessionId",e[5]),s.set("moduleId",e[3]),s.get("componentId")||s.get("segmentId"))return i.navigate("/v/course/"+s.get("courseId")+"/session/"+s.get("sessionId")+"/segment/"+s.get("segmentId"),!0);if(s.get("moduleId"))return window.open(window.location.origin+"/v/course/"+s.get("courseId")+"/module/"+s.get("moduleId"),"_self");if(s.get("courseId"))return window.open(window.location.origin+"/v/course/"+s.get("courseId"),"_self")}},t.prototype.enableTooltip=function(){if(this.model.get("isLocked"))return this.$(".notifications-url").tooltip({title:"You need to finish some modules prior to accessing this."})},t.prototype.remove=function(){},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),u.extend(r.prototype,a),t.exports=r},{"../../models/shared-model":85,"../student-router":117,"./user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],216:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h=function(e,t){function o(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},f={}.hasOwnProperty,m=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};n=e("backbone"),p=e("underscore"),n.$=$,u=e("../../collections/notifications"),s=e("./notification-item-view"),r=e("../../models/config-model"),a=e("../../models/notification-model"),d=e("../../models/user-model"),c=e("../../models/shared-model"),i=e("../helpers/infinite-scroll-support"),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.el=".notification-li-dropdown",t.prototype.subviews={},t.prototype.collection=u,t.prototype.events={click:"hideUnreadText","click .notification-selector-item":"filter","click .notification-group-selector":"preventClosingDropdown"},t.prototype.initialize=function(){return p.bindAll(this,"render","updateNotificationModel","addOne","addAll","markAllNotificationsSeen","filter","preventClosingDropdown"),this.subviews.notifications={},this.selectedTab="all",this.scrollDiv=$(".append-notifications"),this.loaderDiv=$(".infinite-scroll-loader"),this.listenTo(n,n.E.RENDER_NOTIFICATIONS,this.render),this.listenTo(u,"reset",this.addAll),this.listenTo(u,"add",this.addOne),this.listenTo(u,"addPushedModel",this.addPushedModel),this.$(".notification-dropdown").on("mousewheel",function(e){return e.stopPropagation()}),this.bindScrollMethods(),$(".notification-dropdown").on("shown.bs.dropdown",function(e){return function(t){return e.addScrollListener()}}(this)),$(".notification-dropdown").on("hide.bs.dropdown",function(e){return function(t){return e.switchOffScrollListener()}}(this))},t.prototype.render=function(){var e;return this.count=0,e=d.get("email"),socket.emit("join socket",e),socket.on("notification",function(t){return function(o){var r,i;if("doselect_hook"===o.notificationType)return i=o.url.split("/")[1],void n.trigger("update-question-"+i,o);if("quizsession_timer"===o.notificationType)return void n.trigger(n.E.HIDE_TIMED_NOTIFICATION);if(o.targetUser===e&&(o.courseId===c.get("courseId")||!o.courseId)){if(u.where({uniqueId:o.uniqueId}).length)return t.updateNotificationModel(o);if(r=new a(o),u.addModel(r),r.get("isPopup"))return n.trigger(n.E.SHOW_BADGE_POPUP,r)}}}(this)),socket.on("reconnect",function(){return socket.emit("join socket",e)}),socket.on("reconnecting",function(){}),this.fetchNotificationsAndCount()},t.prototype.fetchNotificationsAndCount=function(){var e;return e=d.get("email"),this.removeOldNotifications(),u.fetch({reset:!0,data:{user:e,courseId:Cookies.get("upgrad-last-active-course-id")},success:function(t){return function(){return $.get(n.C.NOTIFICATIONS_PATH()+"/notificationsCount?courseId="+Cookies.get("upgrad-last-active-course-id")+"&user="+encodeURIComponent(e),function(e){return e.count?($(".notification-count").text(e.count),$(".notification-count").removeClass("hide")):$(".notification-count").addClass("hide"),t.count=e.count,u.pageObj.all=u.nextUrl})}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t,$(".notification-error-space"))}}(this)})},t.prototype.removeOldNotifications=function(){return u.each(function(e){return function(t){return e.subviews.notifications[t.get("id")].destroy()}}(this))},t.prototype.hideUnreadText=function(){return $(".notification-count").addClass("hide"),$(".notification-count").text("0"),this.addScrollListener(),this.count=0,this.markAllNotificationsSeen(),n.T.MIXPANEL_TRACK("Notifications View",{})},t.prototype.preventClosingDropdown=function(e){return e.stopPropagation()},t.prototype.filter=function(e){var t;return this.$(".notification-discussion-empty-state,.notification-course-empty-state").addClass("hide"),$(".notification-selector-item").removeClass("active"),t=e.target.classList,$(e.target).addClass("active"),m.call(t,"notification-all")>=0?(this.showAllNotifications(),this.selectedTab="all"):m.call(t,"notification-discussion")>=0?(this.showDiscussionNotifications(),this.selectedTab="forum"):m.call(t,"notification-course")>=0&&(this.selectedTab="course",this.showCourseNotifications()),n.T.MIXPANEL_TRACK("Notifications View",{category:this.selectedTab})},t.prototype.showAllNotifications=function(){return this.sort(),this.$(".notification-discussion-empty-state,.notification-course-empty-state,.empty-state-notification").addClass("hide"),u.nextUrl=u.pageObj.all,0===u.length&&this.$(".empty-state-notification").removeClass("hide"),u.each(function(e){return e.set("visibility",!0)})},t.prototype.showDiscussionNotifications=function(){return this.$(".notification-discussion-empty-state,.notification-course-empty-state,.empty-state-notification").addClass("hide"),this.switchOffScrollListener(),u.each(function(e){return function(e){return"forum"===e.get("notificationType")?e.set("visibility",!0):e.set("visibility",!1)}}(this)),u.nextUrl=u.pageObj.forum,u.nextUrl?this.addScrollListener():u.fetch({remove:!1,data:{filter:"forum"},success:function(e){return function(){var t;if(e.addScrollListener(),u.pageObj.forum=u.nextUrl,t=u.where({visibility:!0}).length,!t)return e.$(".notification-course-empty-state,.empty-state-notification").addClass("hide"),e.$(".notification-discussion-empty-state").removeClass("hide")}}(this)})},t.prototype.showCourseNotifications=function(){return this.$(".notification-discussion-empty-state,.notification-course-empty-state,.empty-state-notification").addClass("hide"),this.switchOffScrollListener(),this.$(".empty-state-notification").addClass("hide"),u.each(function(e){return function(e){return["course","event"].indexOf(e.get("notificationType"))!==-1?e.set("visibility",!0):e.set("visibility",!1)}}(this)),u.nextUrl=u.pageObj.course,u.nextUrl?this.addScrollListener():u.fetch({remove:!1,data:{filter:"course"},success:function(e){return function(){var t;if(e.addScrollListener(),u.pageObj.course=u.nextUrl,t=u.where({visibility:!0}).length,!t)return e.$(".notification-discussion-empty-state,.empty-state-notification").addClass("hide"),e.$(".notification-course-empty-state").removeClass("hide")}}(this)})},t.prototype.updateNotificationModel=function(e){var t;return t=u.where({
uniqueId:e.uniqueId})[0],t.set(e),this.count||(this.count=0),t.get("countUpdated")&&0!==this.count||(t.set("countUpdated",!0),this.count++,$(".notification-count").text(this.count),$(".notification-count").removeClass("hide")),this.sort()},t.prototype.sort=function(){return u.sort(),this.sortUiElements()},t.prototype.markAllNotificationsSeen=function(){var e;return e=d.get("email"),$.post(n.C.NOTIFICATIONS_PATH()+"/notifications/markSeen",{user:e,courseId:Cookies.get("upgrad-last-active-course-id")},function(e,t){}),u.each(function(e){return function(e){return e.set("countUpdated",!1)}}(this))},t.prototype.addAll=function(){return u.each(this.addOne),n.F.REASSIGN_TIMES()},t.prototype.addPushedModel=function(e){return 0===this.count&&$(".notification-count").removeClass("hide"),this.count++,$(".notification-count").text(this.count),this.addOne(e,!0)},t.prototype.addOne=function(e,t){var o;return e.set("visibility",!0),e.set("countUpdated",!0),this.$(".empty-state-notification").addClass("hide"),this.$(".unread-notifications").addClass("hide"),o=new s({model:e}),this.subviews.notifications[e.id]=o,t===!0?("all"!==this.selectedTab&&(e.get("notificationType")===this.selectedTab?e.set("visibility",!0):e.set("visibility",!1)),this.$(".append-notifications").prepend(o.show())):this.$(".append-notifications").append(o.show()),e.trigger("enableTooltip")},t.prototype.sortUiElements=function(){return u.each(function(e){return function(e){return e.trigger("destroy")}}(this)),u.each(function(e){return function(t){var o;return o=new s({model:t}),e.subviews.notifications[t.id]=o,e.$(".append-notifications").append(o.show())}}(this)),n.F.REASSIGN_TIMES()},t}(n.View),p.extend(l.prototype,i),t.exports=new l},{"../../collections/notifications":27,"../../models/config-model":54,"../../models/notification-model":73,"../../models/shared-model":85,"../../models/user-model":87,"../helpers/infinite-scroll-support":105,"./notification-item-view":215,backbone:318,underscore:445}],217:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),s=e("underscore"),e("backbone.stickit"),n.$=$,i=e("../../models/nps-rating-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.template=function(){return s.template($("#nps-notification-confirm").html())},t.prototype.events={"click .nps-notification-ok-button":"closeNotification","click .cancel-btn":"cancel"},t.prototype.initialize=function(){return s.bindAll(this,"render"),t.__super__.initialize.call(this)},t.prototype.render=function(){return this.$el.html(this.template()()),$("body").append(this.$el),this.$("#nps-notification-confirm-modal").modal("show")},t.prototype.cancel=function(){return this.$("#nps-notification-confirm-modal").modal("hide"),this.destroy()},t.prototype.closeNotification=function(){return n.trigger(n.E.NPS_NOTIFICATION_CLOSE),i.set("showNotification",!1),i.save(null,{type:"POST"}),this.cancel()},t.prototype.destroy=function(){return this.remove()},t}(n.View),t.exports=r},{"../../models/nps-rating-model":74,backbone:318,"backbone.stickit":317,underscore:445}],218:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,u=e("../../models/shared-model"),s=e("../../models/nps-rating-model"),a=e("./dashboard-components/nps-rating-typeform"),r=e("./nps-notification-confirm-modal"),e("backbone.stickit"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.model=s,t.prototype.bindings={".notification-message":{observe:"rating",onGet:function(e){var t;return e?(this.$(".nps-open-button").text("Go to Feedback Form"),t="Please fill up the feedback form to help us improve the program."):(this.$(".nps-open-button").text("Let Us Know"),t="How likely are you to recommend this program to your friends or colleagues?"),t}}},t.prototype.events={"click .nps-open-button":"surveyPopupSetup","click .nps-notification-close":"closeNotificationBar"},t.prototype.el=".nps-notification-wrapper",t.prototype.initialize=function(){return l.bindAll(this,"surveyPopupSetup","openSurveyPopUp","closeNotificationBar","hide"),this.listenTo(n,n.E.NPS_NOTIFICATION_CLOSE,this.hide),this.listenTo(n,n.E.NPS_NOTIFICATION_SHOW,this.showOrHide),this.listenTo(n,n.E.SHIFT_NOTIFICATION_BAR_RIGHT,this.shiftRight),this.listenTo(n,n.E.UNSHIFT_NOTIFICATION_BAR_RIGHT,this.unshiftRight),this.stickit(),t.__super__.initialize.call(this)},t.prototype.shiftRight=function(){return this.$el.addClass("shift-right")},t.prototype.unshiftRight=function(){return this.$el.removeClass("shift-right")},t.prototype.surveyPopupSetup=function(){return this.hide(),3===this.model.get("npsState")?(n.F.SHOW_LOADER(),this.model.npsViewedSave(function(e){return function(){return n.F.HIDE_LOADER(),e.openSurveyPopUp()}}(this),function(e){return function(e,t){return n.ERR.SHOW(t)}}(this))):this.openSurveyPopUp()},t.prototype.openSurveyPopUp=function(){var e;return e=new a({model:this.model}),e.render()},t.prototype.closeNotificationBar=function(){return this.openConfirmNotificationCloseModal()},t.prototype.openConfirmNotificationCloseModal=function(){var e;return e=new r({model:this.model}),e.render()},t.prototype.hide=function(){return this.$el.addClass("hide"),n.trigger(n.E.REMOVE_NOTIFICATION_BAR_OFFSET)},t.prototype.showOrHide=function(){return 0!==this.model.get("npsState")&&this.model.get("showNotification")&&this.model.get("npsActive")?(this.$el.removeClass("hide"),n.trigger(n.E.ADD_NOTIFICATION_BAR_OFFSET)):this.hide()},t}(n.View),t.exports=new i},{"../../models/nps-rating-model":74,"../../models/shared-model":85,"./dashboard-components/nps-rating-typeform":166,"./nps-notification-confirm-modal":217,backbone:318,"backbone.stickit":317,underscore:445}],219:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.tagName="label",t.prototype.template=function(){if($("#mcq-option-template").length)return i.template($("#mcq-option-template").html())},t.prototype.initialize=function(){return i.bindAll(this,"show")},t.prototype.show=function(){return this.$el.html(this.template()(this.model.toJSON())),this.$el.attr("for",this.model.get("id")),this.$el.find("input").attr("id",this.model.get("id")),this.$el},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=r},{backbone:318,"backbone.stickit":317,underscore:445}],220:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.tagName="label",t.prototype.template=function(){if($("#poll-option-template").length)return i.template($("#poll-option-template").html())},t.prototype.initialize=function(){return i.bindAll(this,"show")},t.prototype.show=function(){return this.$el.html(this.template()(this.model.toJSON())),this.$el.attr("for",this.model.get("id")),this.$el.find("input").attr("id",this.model.get("id")),this.$el},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=r},{backbone:318,underscore:445}],221:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.tagName="label",t.prototype.template=function(){if($("#scq-option-template").length)return i.template($("#scq-option-template").html())},t.prototype.initialize=function(){return i.bindAll(this,"show")},t.prototype.show=function(){return this.$el.html(this.template()(this.model.toJSON())),this.$el.attr("for",this.model.get("id")),this.$el.find("input").attr("id",this.model.get("id")),this.$el},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=r},{backbone:318,"backbone.stickit":317,underscore:445}],222:[function(e,t,o){var n,r,i,s,a,u;n=e("backbone"),u=e("underscore"),n.$=$,a=e("../../models/user-model"),r=e("../../models/config-model"),s=e("../../models/shared-model"),i={bindPinSupportMethods:function(){return u.bindAll(this,"bindPinEvents","showHidePinOption","checkForPinnedDiscussion","questionUnpinned","questionPinned","showPinningOption","showUnpinningOption","checkPinned"),this.bindPinEvents()},bindPinEvents:function(){return this.listenTo(this.model,"pinned",this.questionPinned),this.listenTo(this.model,"unpinned",this.questionUnpinned)},showHidePinOption:function(){var e,t,o,n;if(e=a.isTeacher()||a.isTA()||a.isAdmin()||a.isStudentTa(),e&&r.checkDiscussionPermission("pin","create")&&(this.$(".discussion-pin-unpin").removeClass("hide"),"true"===(null!=(o=this.model.get("properties"))?o.pinned:void 0)&&(s.set("pinnedType",null!=(n=this.model.get("properties"))?n.pinnedType:void 0),this.showUnpinningOption())),this.checkPinned(),t=u.find(this.model.get("annotations"),function(e){return"meta-header"===e.type}))return this.$(".annotation-text").text(t.text)},checkForPinnedDiscussion:function(e){var t,o;if(e.preventDefault(),e.stopPropagation(),"true"===(null!=(t=this.model.get("properties"))?t.pinned:void 0)){if("contextual"===this.model.get("properties").pinnedType){if(confirm("Are you sure you want to unpin this discussion from the topic?"))return this.unpinCall()}else if(confirm("Are you sure you want to unpin this discussion from all questions?"))return this.unpinCall()}else if(e.currentTarget.innerText.indexOf("Topic")>-1&&s.set("pinnedType","contextual"),e.currentTarget.innerText.indexOf("All")>-1&&s.set("pinnedType","global"),confirm("Are you sure you want to pin this discussion?"))return null!=(o=s.get("pinnedQuestion"))&&o.trigger("unpinLocally"),s.set("pinnedQuestion",this.model),this.model.pin(s.get("pinnedType"))},unpinCall:function(){return s.set("pinnedQuestion",null),this.model.unpin()},questionUnpinned:function(){return this.model.get("properties")||this.model.set("properties",{}),this.model.get("properties").pinned="false",this.model.set("properties").pinned_type=null,this.showPinningOption(),this.checkPinned()},questionPinned:function(){return this.model.get("properties")||this.model.set("properties",{}),this.model.get("properties").pinned="true",this.showUnpinningOption(),this.checkPinned()},showPinningOption:function(){return this.$(".pin-discussion-contextually").removeClass("hide"),this.$(".pin-discussion-globally").removeClass("hide"),this.$(".unpin").addClass("hide")},showUnpinningOption:function(){return"contextual"===s.get("pinnedType")?(this.$(".pin-discussion-contextually").addClass("hide"),this.$(".pin-discussion-globally").addClass("hide"),this.$(".unpin-discussion-globally").addClass("hide"),this.$(".unpin-discussion-contextually").removeClass("hide")):(this.$(".pin-discussion-contextually").addClass("hide"),this.$(".pin-discussion-globally").addClass("hide"),this.$(".unpin-discussion-contextually").addClass("hide"),this.$(".unpin-discussion-globally").removeClass("hide"))},checkPinned:function(){var e;return"true"===(null!=(e=this.model.get("properties"))?e.pinned:void 0)?(s.set("pinnedQuestion",this.model),this.$(".pin-logo").removeClass("hide"),this.$(".pin-image").removeClass("hide"),this.$(".answered-block").css("top","7em")):(this.$(".pin-logo").addClass("hide"),this.$(".pin-image").addClass("hide"),this.$(".answered-block").css("top","3.5em"))},removePinSupportListeners:function(){return this.model.off("pinned"),this.model.off("unpinned")}},t.exports=i},{"../../models/config-model":54,"../../models/shared-model":85,"../../models/user-model":87,backbone:318,underscore:445}],223:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;i=e("underscore"),n=e("backbone"),n.$=$,e("backbone.stickit"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.template=function(){return i.template($("#badge-template").html())},t.prototype.className="badge-item item",t.prototype.initialize=function(){return this.listenTo(this.model,"enableTooltip",this.enableTooltip)},t.prototype.bindings={".badge-name":"name",".badge-image":{attributes:[{name:"src",observe:"image",onGet:function(){return this.model.get("image").URL}}]},".badge-count":{observe:"count",onGet:function(){return 1===this.model.get("count")&&this.$(".badge-count-div").addClass("hide"),"x"+this.model.get("count")}}},t.prototype.enableTooltip=function(){return this.$(".tooltip-div").tooltip({title:this.model.get("name"),placement:"bottom"})},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t.prototype.render=function(){return this.$el.html(this.template()(this.model.toJSON())),this.stickit(),this.$el},t}(n.View),t.exports=r},{backbone:318,"backbone.stickit":317,underscore:445}],224:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;l=e("underscore"),n=e("backbone"),n.$=$,a=e("../../helpers/collection-view-support"),i=e("../../../collections/user-profile-collections/badges"),r=e("./badge-item-view"),u=e("../../../models/shared-model"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.el=".user-profile-badges",t.prototype.collection=i,t.prototype.itemViewClass=r,t.prototype.initialize=function(){return this.subViews={},this.listenTo(n,n.E.SHOW_BADGES,this.fetchAndShowBadges),this.listenTo(n,n.E.HIDE_BADGES,this.hide),this.bindCollectionSupportMethods()},t.prototype.fetchAndShowBadges=function(){return i.fetch({reset:!0,data:$.param({courseId:u.get("courseId"),userId:u.get("profileId")}),success:function(e){return function(){return e.show()}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},t.prototype.show=function(){return this.$el.removeClass("hide"),this.$(".list-area").html("<div class='badges-list owl-carousel'></div>"),i.length?(this.$(".badges-empty").addClass("hide"),i.each(function(e){return function(t){return e.addOne(t)}}(this)),this.performAfterAddingItems()):n.F.IS_USER_LOGGED_IN(u.get("profileId"))?this.$(".badges-empty").removeClass("hide"):this.hide()},t.prototype.hide=function(){return this.$(".badges-empty").addClass("hide"),this.$(".list-area").empty(),this.$el.addClass("hide")},t.prototype.performAfterAddingItems=function(){return this.enableTooltip(),this.$(".owl-carousel").owlCarousel({items:5,nav:!0,mouseDrag:!1}),i.length>5?(this.$(".owl-next,.owl-prev").removeClass("hide"),this.$(".owl-prev").html('<span class="glyphicon glyphicon-chevron-left"></span>'),this.$(".owl-next").html('<span class="glyphicon glyphicon-chevron-right"></span>')):this.$(".owl-next,.owl-prev").addClass("hide")},t.prototype.enableTooltip=function(){return this.collection.each(function(e){return e.trigger("enableTooltip")})},t}(n.View),l.extend(s.prototype,a),t.exports=new s},{"../../../collections/user-profile-collections/badges":37,"../../../models/shared-model":85,"../../helpers/collection-view-support":100,"./badge-item-view":223,backbone:318,underscore:445}],225:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;i=e("underscore"),n=e("backbone"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.el=".user-profile-progress",t.prototype.initialize=function(){return this.listenTo(n,n.E.FILL_USER_PROGRESS,this.fill),this.listenTo(n,n.E.SHOW_USER_PROGRESS,this.show),this.listenTo(n,n.E.HIDE_USER_PROGRESS,this.hide)},t.prototype.fill=function(e){return this.model=e,this.$(".your-progress").replaceWith("<div id='your-progress-"+this.model.cid+"' style='height: 10em; width: 8em'></div>"),this.$(".batch-progress").replaceWith("<div id='batch-progress-"+this.model.cid+"' style='height: 10em; width: 8em'></div>"),this.createChart("You",this.model.get("course").userProgress,"your-progress-"+this.model.cid),this.createChart("Batch",this.model.get("course").averageProgress,"batch-progress-"+this.model.cid)},t.prototype.show=function(){return this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$el.addClass("hide")},t.prototype.createChart=function(e,t,o){var n,r,i,s;return s="80%",n=[{text:t+"%",align:"center",size:12,y:"45%"}],i=[{category:"your progress","column-1":t,color:"green"},{category:"-","column-1":100-t,color:"lightgrey"}],n.push({text:e,align:"center",size:15,y:"80%",color:"#333333"}),r="",AmCharts.makeChart(o,{type:"pie",balloonText:r,innerRadius:s,sequencedAnimation:!1,startDuration:0,titleField:"category",valueField:"column-1",aField:"ABC",allLabels:n,labelText:"",colorField:"color",balloon:{animationDuration:0,borderColor:"#33333",borderThickness:0,color:"#FFF",fillAlpha:1,fillColor:"#000000",fixedPosition:!1,shadowAlpha:0,fontSize:12,horizontalPadding:3,showBullet:!1},dataProvider:i})},t}(n.View),t.exports=new r},{backbone:318,underscore:445}],226:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;c=e("underscore"),n=e("backbone"),n.$=$,i=e("../../../collections/user-profile-collections/education-history"),s=e("./education-item-view"),a=e("../../../models/user-profile-models/education-model"),r=e("../../helpers/collection-view-support"),l=e("../../../models/shared-model"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.el=".education",t.prototype.subViews=[],t.prototype.itemViewClass=s,t.prototype.events={"click .add-edu-record":"addEducation"},t.prototype.initialize=function(){return this.subViews=[],this.collection=i,this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.listenTo(this.collection,"reset",this.toggleAdd),this.listenTo(this.collection,"toggleEmptyState",this.toggleEmptyState),this.listenTo(this.collection,"enableAdd",this.enableAdd)},t.prototype.toggleAdd=function(){return this.toggleEmptyState(),n.F.IS_USER_LOGGED_IN(l.get("profileId"))?this.$(".add-edu-record").removeClass("hide"):this.$(".add-edu-record").addClass("hide")},t.prototype.toggleEmptyState=function(){return this.collection.length?this.$(".empty-state-edu").addClass("hide"):(this.$(".empty-state-edu").removeClass("hide"),n.F.IS_USER_LOGGED_IN(l.get("profileId"))?(this.$(".self").removeClass("hide"),this.$(".other").addClass("hide")):(this.$(".other .first-line").text(l.get("userFirstname")+" has not added his education details yet."),this.$(".other").removeClass("hide"),this.$(".self").addClass("hide")))},t.prototype.enableAdd=function(){return this.$(".add-edu-record").removeClass("disabled")},t.prototype.addEducation=function(){var e,t;return this.$(".add-edu-record").addClass("disabled"),e=new a,t=new s({model:e}),this.subViews.push(t),this.$(".empty-state-edu").addClass("hide"),this.$(".education-list").prepend(t.render())},t}(n.View),c.extend(u.prototype,r),t.exports=new u},{"../../../collections/user-profile-collections/education-history":38,"../../../models/shared-model":85,"../../../models/user-profile-models/education-model":89,"../../helpers/collection-view-support":100,"./education-item-view":227,backbone:318,underscore:445}],227:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;c=e("underscore"),n=e("backbone"),n.$=$,i=e("../../../collections/user-profile-collections/education-history"),l=e("../../../models/user-model"),u=e("../../../models/shared-model"),r=e("../../../models/config-model"),a=e("../../helpers/helper-methods"),e("backbone.stickit"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.className="edu-item",t.prototype.template=function(){return c.template($("#education-template").html())},t.prototype.bindings={".edu-title":"degree",".institution":"schoolName",".start-date":"startDate",".end-date":{observe:"endDate",onGet:function(){return this.model.get("isCurrent")?"Present":this.model.get("endDate")}},".edu-title-input":"degree",".institution-input":"schoolName",".start-date-input":"startDate",".end-date-input":"endDate"},t.prototype.events={"click .edit-button":"editEducation","click .delete-button":"deleteEducation","click .delete":"deleteEducation","submit .edu-form":"saveEdit","click .profile-work-cancel-btn":"cancelEdit","keyup .time-period":"formatDate"},t.prototype.initialize=function(){return c.bindAll(this,"render","editEducation","deleteEducation","validateInfo","saveEdit","cancelEdit"),this.listenTo(this.model,"destroy",this.destroy)},t.prototype.isLoggedInUserProfile=function(){return u.get("profileId")===l.get("id")},t.prototype.render=function(){return this.$el.html(this.template()()),this.stickit(),this.currentSavedModel=this.model.clone(),this.model.isNew()&&(this.$(".info-section").addClass("hide"),this.$(".experience-form").removeClass("hide")),r.checkProfilePermission("education","create")&&this.isLoggedInUserProfile()&&(this.$(".edit-button,.delete-button").removeClass("hide"),this.$(".info-section").addClass("edit-my-user")),this.validateForm(),this.$el},t.prototype.editEducation=function(){return this.$(".info-section").addClass("hide"),this.$(".experience-form").removeClass("hide"),this.$(".experience-form").find(".save-button").removeClass("button-loader-profile")},t.prototype.validateForm=function(){return this.$(".edu-form").validate({rules:{"experience-form-title":{required:!0,minlength:1},"experience-form-company-name":{required:!0,minlength:1},"education-start-year":{required:!0,pastDateFormatCheck:!0},"education-end-year":{required:!0,dateFormatCheck:!0}}})},t.prototype.saveEdit=function(e){if(e.preventDefault(),$(e.currentTarget).valid())return this.validateInfo()?this.model.isNew()?(this.$(".experience-form .save-button").addClass("button-loader-profile"),this.model.save(this.model.toJSON(),{success:function(e){return function(){return e.$(".experience-form .save-button").removeClass("button-loader-profile"),e.currentSavedModel=e.model.clone(),i.add(e.model,{silent:!0}),i.trigger("toggleEmptyState"),i.trigger("enableAdd"),e.$(".experience-form").addClass("hide"),e.$(".info-section").removeClass("hide")}}(this),error:function(e){return function(t,o){return n.ERR.SHOW(o),e.$(".experience-form .save-button").removeClass("button-loader-profile")}}(this)})):(this.$(".experience-form .save-button").addClass("button-loader-profile"),this.model.save(this.model.toJSON(),{success:function(e){return function(){return e.currentSavedModel=e.model.clone(),e.$(".save-button").removeClass("loading"),e.$(".experience-form .save-button").removeClass("button-loader-profile"),e.$(".experience-form").addClass("hide"),e.$(".info-section").removeClass("hide")}}(this),error:function(e){return function(){return e.$(".save-button").removeClass("loading"),e.$(".experience-form .save-button").removeClass("button-loader-profile")}}(this)})):void 0},t.prototype.cancelEdit=function(){return this.model.isNew()?(this.destroy(),this.model.destroy(),i.trigger("toggleEmptyState"),i.trigger("enableAdd"),u.set("addingEducation",!1)):(this.model.set(this.currentSavedModel.attributes),this.$(".experience-form").addClass("hide"),this.$(".info-section").removeClass("hide"))},t.prototype.validateInfo=function(){var e,t,o,n,r,i;return r=this.model.get("startDate").split("/"),t=null!=(o=this.model.get("endDate"))?o.split("/"):void 0,!(t&&(e=parseInt(r[1])>parseInt(t[1]),n=parseInt(r[1])===parseInt(t[1]),i=parseInt(r[0])>parseInt(t[0]),e||n&&i))||(this.$(".error-message-row").removeClass("hide"),this.$(".error-message-text").text("Please be sure the start year and month is not after the end year and month."),!1)},t.prototype.deleteEducation=function(){if(confirm("Are you sure you want to delete this education?"))return this.model.destroy(),i.trigger("toggleEmptyState")},t.prototype.formatDate=function(e){return a.formatDate1(e)},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=s},{"../../../collections/user-profile-collections/education-history":38,"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/helper-methods":104,backbone:318,"backbone.stickit":317,underscore:445}],228:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;c=e("underscore"),n=e("backbone"),n.$=$,a=e("../../../collections/user-profile-collections/experiences"),u=e("./job-item-view"),i=e("../../../models/user-profile-models/experience-model"),r=e("../../helpers/collection-view-support"),l=e("../../../models/shared-model"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.el=".jobs",t.prototype.itemViewClass=u,t.prototype.events={"click .add-exp-record":"addJob"},t.prototype.initialize=function(){return this.subViews=[],this.collection=a,this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.listenTo(this.collection,"reset",this.toggleAdd),this.listenTo(this.collection,"toggleEmptyState",this.toggleEmptyState),this.listenTo(this.collection,"enableAdd",this.enableAdd)},t.prototype.toggleAdd=function(){return this.toggleEmptyState(),n.F.IS_USER_LOGGED_IN(l.get("profileId"))?this.$(".add-exp-record").removeClass("hide"):this.$(".add-exp-record").addClass("hide")},t.prototype.toggleEmptyState=function(){return this.collection.length?this.$(".empty-state-work").addClass("hide"):(this.$(".empty-state-work").removeClass("hide"),n.F.IS_USER_LOGGED_IN(l.get("profileId"))?(this.$(".self").removeClass("hide"),this.$(".other").addClass("hide")):(this.$(".other .first-line").text(l.get("userFirstname")+" has not added any work history."),this.$(".other").removeClass("hide"),this.$(".self").addClass("hide")))},t.prototype.enableAdd=function(){return this.$(".add-exp-record").removeClass("disabled")},t.prototype.addJob=function(){var e,t;return this.$(".add-exp-record").addClass("disabled"),e=new i,t=new u({model:e}),this.subViews.push(t),this.$(".empty-state-work").addClass("hide"),this.$(".experiences-list").prepend(t.render())},t}(n.View),c.extend(s.prototype,r),t.exports=new s},{"../../../collections/user-profile-collections/experiences":39,"../../../models/shared-model":85,"../../../models/user-profile-models/experience-model":90,"../../helpers/collection-view-support":100,"./job-item-view":229,backbone:318,underscore:445}],229:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;c=e("underscore"),n=e("backbone"),n.$=$,i=e("../../../collections/user-profile-collections/experiences"),l=e("../../../models/user-model"),u=e("../../../models/shared-model"),r=e("../../../models/config-model"),s=e("../../helpers/helper-methods"),e("backbone.stickit"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.className="exp-item",t.prototype.template=function(){return c.template($("#job-template").html())},t.prototype.events={"click .edit-button":"editJob","click .delete-button":"deleteJob","click .delete":"deleteJob","submit .job-form":"saveEdit","click .profile-work-cancel-btn":"cancelEdit","keyup .time-period":"formatDate"},t.prototype.bindings={".exp-title":"title",".company-name":"companyName",".exp-title-input":"title",".company-name-input":"companyName",".start-date":"startDate",".end-date":{observe:"endDate",onGet:function(){return this.model.get("isCurrent")?"Present":this.model.get("endDate")}},".start-date-input":"startDate",".end-date-input":"endDate",".is-current":{observe:"isCurrent",onSet:function(e){return!!e},onGet:function(){return this.model.get("isCurrent")}}},t.prototype.initialize=function(){return c.bindAll(this,"render","editJob","deleteJob","cancelEdit","saveEdit","validateInfo","toggleToDate"),this.listenTo(this.model,"destroy",this.destroy),this.listenTo(this.model,"change:isCurrent",this.toggleToDate)},t.prototype.render=function(){return this.$el.html(this.template()()),this.stickit(),this.currentSavedModel=this.model.clone(),this.model.isNew()&&(this.$(".info-section").addClass("hide"),this.$(".experience-form").removeClass("hide")),r.checkProfilePermission("work","create")&&this.isLoggedInUserProfile()&&(this.$(".edit-button,.delete-button").removeClass("hide"),this.$(".info-section").addClass("edit-my-user")),this.validateForm(),this.$el},t.prototype.editJob=function(){return this.$(".experience-form").removeClass("hide"),this.$(".experience-form").find(".save-button").removeClass("button-loader-profile"),this.$(".info-section").addClass("hide"),this.toggleToDate()},t.prototype.validateForm=function(){return this.$(".job-form").validate({rules:{"experience-form-title":{required:!0,minlength:1},"experience-form-company-name":{required:!0,minlength:1},"experience-form-start-year":{required:!0,pastDateFormatCheck:!0},"experience-form-end-year":{required:!0,pastDateFormatCheck:!0}}})},t.prototype.saveEdit=function(e){if(e.preventDefault(),$(e.currentTarget).valid())return n.F.IS_USER_LOGGED_IN(u.get("profileId"))&&this.validateInfo()?this.model.isNew()?(this.$(".experience-form .save-button").addClass("button-loader-profile"),this.model.save({},{success:function(e){return function(){return e.$(".save-button").removeClass("loading"),e.$(".experience-form .save-button").removeClass("button-loader-profile"),e.currentSavedModel=e.model.clone(),i.add(e.model,{silent:!0}),i.trigger("toggleEmptyState"),i.trigger("enableAdd"),e.$(".experience-form").addClass("hide"),e.$(".info-section").removeClass("hide")}}(this),error:function(e){return function(t,o){return n.ERR.SHOW(o),e.$(".save-button").removeClass("loading"),e.$(".experience-form .save-button").removeClass("button-loader-profile")}}(this)})):(this.$(".experience-form .save-button").addClass("button-loader-profile"),this.model.save(this.model.toJSON(),{success:function(e){return function(){return e.currentSavedModel=e.model.clone(),e.$(".experience-form .save-button").removeClass("button-loader-profile"),e.$(".experience-form").addClass("hide"),e.$(".info-section").removeClass("hide")}}(this),error:function(e){return function(t,o){return n.ERR.SHOW(o),e.$(".experience-form .save-button").removeClass("button-loader-profile")}}(this)})):void 0},t.prototype.toggleToDate=function(){
return this.model.get("isCurrent")?(this.model.set("endDate",""),this.$(".to-text,.end-date-input").addClass("hide")):this.$(".to-text,.end-date-input").removeClass("hide")},t.prototype.cancelEdit=function(){return this.model.isNew()?(this.destroy(),this.model.destroy(),i.trigger("toggleEmptyState"),i.trigger("enableAdd")):(this.model.set(this.currentSavedModel.attributes),this.$(".experience-form").addClass("hide"),this.$(".info-section").removeClass("hide"))},t.prototype.validateInfo=function(){var e,t,o,n,r,i;return r=this.model.get("startDate").split("/"),t=null!=(o=this.model.get("endDate"))?o.split("/"):void 0,!(t&&(e=parseInt(r[1])>parseInt(t[1]),n=parseInt(r[1])===parseInt(t[1]),i=parseInt(r[0])>parseInt(t[0]),e||n&&i))||(this.$(".error-message-row").removeClass("hide"),this.$(".error-message-text").text("Please be sure the start year and month is not after the end year and month."),!1)},t.prototype.isLoggedInUserProfile=function(){return u.get("profileId")===l.get("id")},t.prototype.deleteJob=function(){if(confirm("Are you sure you want to delete this job?"))return this.model.destroy(),i.trigger("toggleEmptyState")},t.prototype.formatDate=function(e){return s.formatDate1(e)},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=a},{"../../../collections/user-profile-collections/experiences":39,"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/helper-methods":104,backbone:318,"backbone.stickit":317,underscore:445}],230:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;i=e("underscore"),n=e("backbone"),n.$=$,e("backbone.stickit"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.el=".user-profile-stats",t.prototype.bindings={".progressbar":{attributes:[{name:"value",observe:"progress"}]},".score":{observe:"score",onGet:function(){return this.model.get("score")+" points"}},".rank":"forumRank",".question":"questionCount",".response":"answerCount"},t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_PROFILE_STATUS,this.show),this.listenTo(n,n.E.HIDE_PROFILE_STATUS,this.hide)},t.prototype.show=function(e,t){return null==t&&(t=!1),this.unstickit(),this.model=e,t?(this.$(".your-forum-stats-label").removeClass("hide"),this.$(".stats-label").addClass("hide")):(this.$(".your-forum-stats-label").addClass("hide"),this.$(".stats-label").removeClass("hide")),this.stickit(),this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$el.addClass("hide")},t}(n.View),t.exports=new r},{backbone:318,"backbone.stickit":317,underscore:445}],231:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;u=e("underscore"),n=e("backbone"),n.$=$,s=e("../../../models/shared-model"),r=e("../../student-router"),a=e("../user-image-initials-support"),e("backbone.stickit"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.className="same-city-profile-item",t.prototype.template=function(){return u.template($("#peer-item-template").html())},t.prototype.userImageSelector=".peer-image",t.prototype.events={click:"showProfile"},t.prototype.bindings={".peer-image":{attributes:[{name:"src",onGet:function(){var e;return null!=(e=this.model.get("profilePic"))?e.url:void 0}}]}},t.prototype.initialize=function(){return u.bindAll(this,"render"),this.listenTo(this.model,"enableTooltip",this.enableTooltip)},t.prototype.render=function(){return this.$el.html(this.template()(this.model.toJSON())),this.stickit(),this.user=this.model.toJSON(),this.replaceWithProfilePic(),this.$el},t.prototype.showProfile=function(){var e;return s.set("profileId",parseInt(this.model.get("userId"))),s.set("userCity",null!=(e=this.model.get("address"))?e.city:void 0),r.navigate("/v/course/"+s.get("courseId")+"/profile/"+this.model.get("userId")+"/about"),n.trigger(n.E.DISPLAY_PROFILE)},t.prototype.enableTooltip=function(){var e;return e=this.model.get("firstname"),this.model.get("lastname")&&(e+=" "+this.model.get("lastname")),this.$(".peer-image").tooltip({title:e})},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),u.extend(i.prototype,a),t.exports=i},{"../../../models/shared-model":85,"../../student-router":117,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],232:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;c=e("underscore"),n=e("backbone"),n.$=$,i=e("../../student-router"),s=e("../../../collections/user-profile-collections/same-city-collection"),r=e("../../helpers/collection-view-support"),l=e("../../../models/shared-model"),a=e("./same-city-profile-item-view"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.el=".user-profile-same-city",t.prototype.events={"click .show-all-peers":"showMoreProfiles"},t.prototype.collection=s,t.prototype.itemViewClass=a,t.prototype.initialize=function(){return this.subViews={},this.listenTo(n,n.E.SHOW_SAME_CITY_PROFILES,this.show),this.listenTo(n,n.E.HIDE_SAME_CITY_PROFILES,this.hide),this.bindCollectionSupportMethods(),this.addCollectionListeners()},t.prototype.show=function(e){var t;return this.collection.fetch({reset:!0,data:$.param({pageSize:8,city:l.get("userCity"),excludeUser:e.get("userId"),courseId:l.get("courseId")})}),this.$(".same-city").text("Also from "+(null!=(t=e.get("address"))?t.city:void 0)),this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$(".show-all-peers").remove(),this.$el.addClass("hide")},t.prototype.performAfterAddingItems=function(){var e;return this.collection.length?(this.collection.count>8&&(this.$(".same-city-profile-item").last().remove(),e="<div class='show-all-peers same-city-profile-item'>\n\t<div class='peer-image'>\n\t\t<div class='user-image-initials'>+"+(this.collection.count-7)+"</div>\n\t</div>\n</div>",this.$(".samecitypeers-list").append(e)),this.collection.each(function(e){return e.trigger("enableTooltip")})):void this.hide()},t.prototype.showMoreProfiles=function(){return n.T.MIXPANEL_TRACK("Click Student Directory",{"Ref Page":"Profile"}),i.navigate("/v/course/"+l.get("courseId")+"/student-directory"),$(".student-search-input").val(l.get("userCity")),n.trigger(n.E.VIEW_STUDENT_DIRECTORY,l.get("userCity"))},t}(n.View),c.extend(u.prototype,r),t.exports=new u},{"../../../collections/user-profile-collections/same-city-collection":42,"../../../models/shared-model":85,"../../helpers/collection-view-support":100,"../../student-router":117,"./same-city-profile-item-view":231,backbone:318,underscore:445}],233:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f=function(e,t){function o(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},m={}.hasOwnProperty;h=e("underscore"),n=e("backbone"),n.$=$,c=e("./student-item-view"),p=e("../../../collections/user-profile-collections/peers"),u=e("../../../models/shared-model"),r=e("../../helpers/base-view"),s=e("../../helpers/infinite-scroll-support"),i=e("../../helpers/collection-view-support"),a=e("../../student-router"),d=e("./student-search-item-view"),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.el=".student-directory-container",t.prototype.viewIdentifier="studentDirectory",t.prototype.itemViewClass=c,t.prototype.subViews=[],t.prototype.events={"focus .student-search":"mixpanelTrackSearch"},t.prototype.initialize=function(){return h.bindAll(this,"refreshStudentsOnSelect"),this.subViews={},this.collection=p,this.loaderDiv=this.$(".peers-list"),this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.element=$(".student-search-input"),this.element.typeahead({highlight:!0,hint:!1,minLength:3},{name:"city",source:this.searchCityBloodHound(),limit:1e3,templates:{header:'<div class="cities tt-section-heading">Cities</div>',suggestion:function(e){return $("<div class='search-list-item'><img src='/custom/location.svg' class='search-list-image'> </img>\t "+e+"</div>")}}},{name:"profile",source:this.searchStudentBloodHound(),displayKey:"name",limit:1e3,templates:{header:'<div class="profiles tt-section-heading">Students</div>',suggestion:function(e){var t;return t=new d({model:new n.Model(e)}),t.render()}}}),this.listenTo(n,n.E.SHOW_STUDENT_DIRECTORY,this.show),this.bindScrollMethods(),t.__super__.initialize.call(this)},t.prototype.hide=function(){return this.switchOffScrollListener(),this.element.unbind("typeahead:select"),this.element.unbind("typeahead:open"),this.element.unbind("typeahead:close"),this.element.unbind("typeahead:asyncrequest"),this.element.unbind("typeahead:asyncreceive"),this.element.unbind("keyup"),this.$el.addClass("hide")},t.prototype.show=function(e){if(u.resetCurrentView(this.viewIdentifier),this.$el.removeClass("hide"),n.T.MIXPANEL_TRACK("Student Directory View"),p.models.length||e||p.fetch({success:function(){return p.models.length?this.$(".student-directory-empty-state").addClass("hide"):this.$(".student-directory-empty-state").removeClass("hide")},error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)}),this.addScrollListener(),this.element.bind("typeahead:select",function(e){return function(t,o){return e.refreshStudentsOnSelect(o)}}(this)),this.element.bind("typeahead:open",function(e){return function(e,t){return $("body").addClass("freeze-background")}}(this)),this.element.bind("typeahead:close",function(e){return function(e,t){return $("body").removeClass("freeze-background")}}(this)),this.element.bind("typeahead:asyncrequest",function(e){return function(t,o,n){return e.$(".main-button").addClass("loading")}}(this)),this.element.bind("typeahead:asyncreceive",function(e){return function(t,o,n){return e.$(".main-button").removeClass("loading")}}(this)),this.element.bind("keyup",function(e){return function(){if(""===e.element.val().trim())return e.$(".main-button").removeClass("loading"),p.fetch({reset:!0})}}(this)),e)return this.refreshStudentsOnSelect(e)},t.prototype.toggleNoResults=function(){return this.noCitiesFound&&this.noProfilesFound?($(".tt-menu .tt-dataset-city").html("<div class='no-result'>No results found</div>"),$(".tt-menu").show()):($(".tt-menu .tt-dataset-city .no-result").remove(),$(".tt-menu").hide())},t.prototype.hideStudentProfiles=function(){return p.each(function(e){return e.trigger("hide")})},t.prototype.refreshStudentsOnSelect=function(e){return this.hideStudentProfiles(),p.reset(),"object"==typeof e?(u.set("profileId",parseInt(e.userId)),u.set("userCity",e.city),a.navigate("/v/course/"+u.get("courseId")+"/profile/"+e.userId+"/about"),n.trigger(n.E.DISPLAY_PROFILE)):(n.T.MIXPANEL_TRACK("Directory City Search",{User:u.get("current_email")}),p.fetch({url:n.C.MEDIA_PATH()+"/userprofiles/?&city="+e+"&pageSize=12",success:function(){return p.models.length?this.$(".student-directory-empty-state").addClass("hide"):this.$(".student-directory-empty-state").removeClass("hide")},error:function(e,t){return n.ERR.SHOW(t)}}))},t.prototype.searchCityBloodHound=function(){return new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:n.C.MEDIA_PATH()+"/search/profiles?key=%QUERY",wildcard:"%QUERY",transform:function(e){return function(t){return e.noCitiesFound=!(t.data.cities.length>0),e.toggleNoResults(),t.data.cities}}(this)}})},t.prototype.searchStudentBloodHound=function(){return new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:n.C.MEDIA_PATH()+"/search/profiles?key=%QUERY",wildcard:"%QUERY",transform:function(e){return function(t){return e.noProfilesFound=!(t.data.profiles.length>0),e.toggleNoResults(),t.data.profiles}}(this)}})},t.prototype.mixpanelTrackSearch=function(){return n.T.MIXPANEL_TRACK("Start Directory Search",{})},t}(r),h.extend(l.prototype,s,i),t.exports=new l},{"../../../collections/user-profile-collections/peers":40,"../../../models/shared-model":85,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"../../helpers/infinite-scroll-support":105,"../../student-router":117,"./student-item-view":234,"./student-search-item-view":235,backbone:318,underscore:445}],234:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;u=e("underscore"),n=e("backbone"),n.$=$,i=e("../../../models/shared-model"),r=e("../../student-router"),a=e("../user-image-initials-support"),e("backbone.stickit"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.tagName="div",t.prototype.className="student-item col-sm-6",t.prototype.template=function(){return u.template($("#student-item-template").html())},t.prototype.userImageSelector=".student-image",t.prototype.events={"click .inner-student-item":"showProfile"},t.prototype.bindings={".student-image":{attributes:[{name:"src",observe:"profilePic",onGet:function(){var e;return null!=(e=this.model.get("profilePic"))?e.url:void 0}}]},".student-name":"name",".location-name":{observe:"address",onGet:function(){var e,t;return(null!=(e=this.model.get("address"))?e.city:void 0)||this.$(".student-location").addClass("hide"),null!=(t=this.model.get("address"))?t.city:void 0}},".student-currentPosition":{observe:"currentPosition",onGet:function(){return this.model.get("currentPosition")||this.$(".student-currentPosition").addClass("hide"),this.model.get("currentPosition")}},".comma":{observe:["currentPosition","currentCompany"],update:function(e,t){return t[0]&&t[1]?e.removeClass("hide"):e.addClass("hide")}},".student-currentCompany":{observe:"currentCompany",onGet:function(){return this.model.get("currentCompany")||this.$(".student-currentCompany").addClass("hide"),this.model.get("currentCompany")}},".student-rank":{observe:"score",onGet:function(){return this.model.get("score")||this.$(".student-score").addClass(""),this.model.get("score")}}},t.prototype.initialize=function(){return u.bindAll(this,"render","hide"),this.listenTo(this.model,"hide",this.hide)},t.prototype.render=function(){return this.$el.html(this.template()(this.model.toJSON())),this.stickit(),this.user=this.model.toJSON(),this.replaceWithProfilePic(),this.$el},t.prototype.hide=function(){return this.$el.remove(),this.stopListening()},t.prototype.showProfile=function(){var e;return i.set("profileId",parseInt(this.model.get("userId"))),i.set("userFirstname",this.model.get("firstname")),i.set("userCity",null!=(e=this.model.get("address"))?e.city:void 0),r.navigate("/v/course/"+i.get("courseId")+"/profile/"+this.model.get("userId")+"/about"),n.trigger(n.E.DISPLAY_PROFILE)},t}(n.View),u.extend(s.prototype,a),t.exports=s},{"../../../models/shared-model":85,"../../student-router":117,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],235:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;s=e("underscore"),n=e("backbone"),n.$=$,i=e("../user-image-initials-support"),a=e("sanitize-html"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.userImageSelector=".search-list-image",t.prototype.render=function(){return this.$el.html("<div class='search-list-item'>\n\t<img src='"+this.model.get("photo")+"' class='search-list-image'>\n\t"+a(this.model.get("name"))+"\n</div>"),this.user={fullname:this.model.get("name"),userId:this.model.get("userId"),profilePic:{url:this.model.get("profilePic")}},this.replaceWithProfilePic(),this.$el},t}(n.View),s.extend(r.prototype,i),t.exports=r},{"../user-image-initials-support":275,backbone:318,"sanitize-html":426,underscore:445}],236:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;u=e("underscore"),n=e("backbone"),n.$=$,e("backbone.stickit"),e("./user-bio-view"),e("./experience-view"),e("./education-history-view"),e("./badges-view"),e("./course-progress-view"),a=e("../../../models/user-profile-models/peer-model"),s=e("../../../models/user-model"),r=e("../../../models/config-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.el="#user-about",t.prototype.model=a,t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_ABOUT,this.show),this.listenTo(n,n.E.HIDE_ABOUT,this.hide),this.subViews={}},t.prototype.show=function(e){return this.model=e,this.$el.removeClass("hide"),this.showAllWidgets(),r.showSubModule("dashboard","courseProgress")&&this.model.get("id")===s.get("id")?n.trigger(n.E.SHOW_USER_PROGRESS):n.trigger(n.E.HIDE_USER_PROGRESS)},t.prototype.hide=function(){return this.$el.addClass("hide"),this.hideAllWidgets()},t.prototype.hideAllWidgets=function(){return n.trigger(n.E.HIDE_BIO,this.model),n.trigger(n.E.HIDE_PEER_GROUP,this.model),n.trigger(n.E.HIDE_WORK_EXPERIENCE,this.model),n.trigger(n.E.HIDE_EDUCATION,this.model),n.trigger(n.E.HIDE_BADGES,this.model),n.trigger(n.E.HIDE_SAME_CITY_PROFILES,this.model)},t.prototype.showAllWidgets=function(){var e;if(n.trigger(n.E.SHOW_BIO,this.model),n.trigger(n.E.SHOW_PEER_GROUP,this.model),r.showSubModule("userProfile","work")&&n.trigger(n.E.SHOW_WORK_EXPERIENCE,this.model),r.showSubModule("userProfile","badges")&&n.trigger(n.E.SHOW_BADGES),r.showSubModule("userProfile","education")&&n.trigger(n.E.SHOW_EDUCATION,this.model),null!=(e=this.model.get("address"))?e.city:void 0)return n.trigger(n.E.SHOW_SAME_CITY_PROFILES,this.model)},t}(n.View),u.extend(i.prototype),t.exports=new i},{"../../../models/config-model":54,"../../../models/user-model":87,"../../../models/user-profile-models/peer-model":92,"./badges-view":224,"./course-progress-view":225,"./education-history-view":226,"./experience-view":228,"./user-bio-view":237,backbone:318,"backbone.stickit":317,underscore:445}],237:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;u=e("underscore"),n=e("backbone"),n.$=$,e("backbone.stickit"),a=e("../../../models/user-model"),r=e("../../../models/config-model"),i=e("../../../models/shared-model"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.el=".user-bio",t.prototype.events={"click .edit-button":"showEdit","click .save":"save","click .user-details-cancel":"cancelEdit"},t.prototype.bindings={"#user-summary-input":"biography",".user-details-summary":{observe:"biography",onGet:function(){return this.model.get("biography")?(this.$(".user-details-summary").removeClass("hide"),this.$(".empty-state-bio").addClass("hide"),this.model.get("biography")):this.showEmptyState()}}},t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_BIO,this.show),this.listenTo(n,n.E.HIDE_BIO,this.hide)},t.prototype.showEmptyState=function(){var e;this.$(".user-details-summary").addClass("hide"),this.$(".empty-state-bio").removeClass("hide"),this.isLoggedInUserProfile()?(this.$(".self").removeClass("hide"),this.$(".other").addClass("hide")):(this.$(".self").addClass("hide"),this.$(".other").removeClass("hide"),e=i.get("startupIndia")||!this.model.get("gender")?"him/her":"female"===this.model.get("gender").toLowerCase()?"her":"him",this.$(".other .first-line").text("Apparently, "+this.model.get("firstname")+" prefers to keep an air of mystery about "+e+"."))},t.prototype.showEdit=function(){return this.$(".edit-button").addClass("hide"),this.$(".user-summary").addClass("hide"),this.$(".user-bio-form").removeClass("hide")},t.prototype.cancelEdit=function(e){return this.model.set("biography",this.currentSavedBio),this.showView()},t.prototype.showView=function(){if(this.currentSavedBio=this.model.get("biography"),this.$(".user-bio-form").addClass("hide"),this.$(".user-summary").removeClass("hide"),this.isLoggedInUserProfile()&&r.checkProfilePermission(null,"update"))return this.enableEditing()},t.prototype.isLoggedInUserProfile=function(){return this.model.get("userId")===a.get("id")},t.prototype.enableEditing=function(){return this.$(".edit-button").removeClass("hide")},t.prototype.disableEditing=function(){return this.$(".edit-button").addClass("hide")},t.prototype.show=function(e){return this.unstickit(),this.model=e,this.isLoggedInUserProfile()&&r.checkProfilePermission(null,"update")?this.enableEditing():this.disableEditing(),this.stickit(),this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$(".user-bio-form").addClass("hide"),this.$(".user-summary").removeClass("hide"),this.$el.addClass("hide")},t.prototype.save=function(e){if(n.F.IS_USER_LOGGED_IN(this.model.get("userId")))return e.preventDefault(),this.$(".save").addClass("loading"),this.model.save(this.model.toJSON(),{patch:!0,success:function(e){return function(){return e.$(".save").removeClass("loading"),e.showView()}}(this),error:function(e){return function(t,o){return e.$(".save").removeClass("loading"),n.ERR.SHOW(o)}}(this)})},t}(n.View),t.exports=new s},{"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,backbone:318,"backbone.stickit":317,underscore:445}],238:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;d=e("underscore"),n=e("backbone"),n.$=$,l=e("../../../models/shared-model"),r=e("../../helpers/collection-view-support"),i=e("../../helpers/infinite-scroll-support"),s=e("../discussions/question-item-view"),a=e("../../../collections/discussions/my-questions-collection"),u=e("../../student-router"),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.el="#user-discussions",t.prototype.collection=a,t.prototype.itemViewClass=s,t.prototype.events={"click .post-a-question":"showDiscussionMainPage"},t.prototype.hide=function(){return this.$el.addClass("hide")},t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_DISCUSSIONS,this.show),this.listenTo(n,n.E.HIDE_DISCUSSIONS,this.hide),this.listenTo(a,"addNewQuestion",this.addNewQuestion),this.listenTo(l,"change:courseId",this.clearLastVisitedUser),this.loaderDiv=this.$(".discussionquestions-list"),this.bindCollectionSupportMethods(),this.subViews={},this.bindScrollMethods()},t.prototype.show=function(e){return this.model=e,this.addCollectionListeners(),this.addScrollListener(),this.fetchQuestions(),this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$(".no-questions").addClass("hide"),this.removeCollectionListeners(),this.switchOffScrollListener(),this.$el.addClass("hide")},t.prototype.showDiscussionMainPage=function(){return u.navigate("/v/course/"+l.get("courseId")+"/discussions"),n.trigger(n.E.SHOW_DISCUSSION_FORUM)},t.prototype.adjustScroll=function(){var e,t;if(e=a.get(l.get("discussionQuestionId")))return l.set("discussionQuestionId",null),t="."+e.modelEl.toLowerCase()+"-"+e.cid+" .discussion-card",this.$(t)&&n.F.SCROLL_TO_ELEMENT(this.$(t),-300),n.F.HIGHLIGHT_TEMPORARILY(this.$(t))},t.prototype.addNewQuestion=function(e){if(n.F.IS_USER_LOGGED_IN(this.lastVisitedProfileId))return a.add(e,{silent:!0}),a.trigger("prepend",e)},t.prototype.showEmptyState=function(){return this.$(".no-questions").removeClass("hide"),this.$(".my-question-empty-state").removeClass("hide"),n.F.IS_USER_LOGGED_IN(this.model.get("userId"))?(this.$(".you").removeClass("hide"),this.$(".other").addClass("hide"),this.$(".post-a-question").removeClass("hide")):(this.$(".other").text(l.get("userFirstname")+" has not asked any questions!"),this.$(".other").removeClass("hide"),this.$(".you").addClass("hide"),this.$(".post-a-question").addClass("hide"))},t.prototype.hideEmptyState=function(){return this.$(".no-questions").addClass("hide"),this.$(".my-question-empty-state").addClass("hide")},t.prototype.clearLastVisitedUser=function(){return this.lastVisitedProfileId=null},t.prototype.fetchQuestions=function(){var e,t;return this.lastVisitedProfileId!==this.model.get("userId")?(this.removeOldItems(),this.lastVisitedProfileId=this.model.get("userId"),n.F.SHOW_LOADER(),t={reset:!0,success:function(e){return function(){return e.toggleEmptyState(),n.F.HIDE_LOADER()}}(this),error:function(e){return function(e,t){return n.F.HIDE_LOADER(),n.ERR.SHOW(t)}}(this)},e={contextType:"course",contextId:l.get("courseId")},e.owner=this.model.get("userId"),t.data=$.param(e),a.fetch(t)):(this.toggleEmptyState(),n.F.HIDE_LOADER(),this.adjustScroll())},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),d.extend(c.prototype,i,r),t.exports=new c},{"../../../collections/discussions/my-questions-collection":20,"../../../models/shared-model":85,"../../helpers/collection-view-support":100,"../../helpers/infinite-scroll-support":105,"../../student-router":117,"../discussions/question-item-view":192,backbone:318,underscore:445}],239:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f=function(e,t){function o(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},m={}.hasOwnProperty;h=e("underscore"),n=e("backbone"),n.$=$,e("backbone.stickit"),e("./profile-stats-view"),e("./user-about-view"),e("./user-discussions-view"),e("./same-city-profile-view"),e("./experience-view"),e("./education-history-view"),d=e("../../../models/user-profile-models/peer-model"),u=e("../../../models/shared-model"),r=e("../../helpers/base-view"),c=e("../../../models/user-model"),i=e("../discussions/question-item-view"),s=e("../../../collections/discussions/discussion-questions"),l=e("../user-image-initials-support"),a=e("../../student-router"),p=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.el="#user-profile",t.prototype.model=d,t.prototype.viewIdentifier="userProfileView",t.prototype.collection=s,t.prototype.itemViewClass=i,t.prototype.userImageSelector=".user-profile-image",t.prototype.events={"click .edit-user-image":"openImageUploadModal","submit .profile-image-upload-form":"uploadImage","click .basic-info-save":"saveDetails","click .message-button":"messageEmbedReload","click .edit-social-links":"openSocialProfileEdit","submit .social-profile-form":"updateSocialProfiles","click .location-edit-button":"openNameCityEdit","click .about":"switchToAboutView","click .discussions":"switchToDiscussionsView","change #image-input":"showCropTool","click .cancel-photo-upload":"cancelPhotoUpload","click .cancel-edit-name-city":"cancelEditNameCity"},t.prototype.bindings={".city":{observe:"address",onGet:function(){var e,t;if(null!=(e=this.model.get("address"))?e.city:void 0)return null!=(t=this.model.get("address"))?t.city:void 0}},".fullname-heading":"name","#firstname":"firstname","#lastname":"lastname","#user-city-input":{observe:"address",onGet:function(){var e;return null!=(e=this.model.get("address"))?e.city:void 0}},".facebook-profile-icon":{attributes:[{observe:"facebookURL",name:"href",onGet:function(){return this.updateSocialMediaLinks("facebook"),this.model.get("facebookURL")}}]},".facebook-input":{observe:"facebookURL",onGet:function(){return this.model.get("facebookURL")},onSet:function(e){return e.indexOf("http")===-1?"https://"+e:e}},".twitter-profile-icon":{attributes:[{observe:"twitterURL",name:"href",onGet:function(e){return this.updateSocialMediaLinks("twitter"),"https://twitter.com/"+e}}]},".twitter-input":"twitterURL",".linkedIn-profile-icon":{attributes:[{observe:"linkedInURL",name:"href",onGet:function(){return this.updateSocialMediaLinks("linkedIn"),this.model.get("linkedInURL")}}]},".linkedIn-input":{observe:"linkedInURL",onGet:function(){return this.model.get("linkedInURL")},onSet:function(e){return e.indexOf("http")===-1?"https://"+e:e}},".user-profile-image":{attributes:[{observe:"profilePic",name:"src",onGet:function(){var e;return null!=(e=this.model.get("profilePic"))?e.url:void 0}}]}},t.prototype.updateSocialMediaLinks=function(e){if(this.model.get(e+"URL")||this.$("."+e+"-profile-icon").addClass("hide"),(n.F.IS_USER_LOGGED_IN(this.model.get("userId"))||this.model.get(e+"URL"))&&this.$("."+e+"-profile-icon").removeClass("hide"),n.F.IS_USER_LOGGED_IN(this.model.get("userId")))return this.model.get(e+"URL")?this.$("."+e+"-profile-icon").removeClass("disabled"):this.$("."+e+"-profile-icon").addClass("disabled")},t.prototype.hide=function(){return this.unstickit(),n.trigger(n.E.HIDE_DISCUSSIONS),n.trigger(n.E.HIDE_ABOUT),this.$el.addClass("hide")},t.prototype.initialize=function(){return h.bindAll(this,"saveDetails","validateDetails","render","uploadImage","messageEmbedReload","openSocialProfileEdit","updateSocialProfiles","cropImage","showCropTool","cancelPhotoUpload"),this.listenTo(n,n.E.SHOW_PROFILE,this.showProfile),this.listenTo(n,n.E.SHOW_USER_DISCUSSIONS,this.showDiscussions),this.subViews={},this.saveImageEvent(),n.F.BIND_ENTER_EVENT(this.$el),t.__super__.initialize.call(this)},t.prototype.showProfile=function(){return this.show(),this.$(".user-tab.about").addClass("selected"),this.$(".user-tab.discussions").removeClass("selected"),n.trigger(n.E.HIDE_DISCUSSIONS),n.trigger(n.E.SHOW_ABOUT,this.model)},t.prototype.showDiscussions=function(){return this.$(".user-tab.about").removeClass("selected"),this.$(".user-tab.discussions").addClass("selected"),this.show(),n.trigger(n.E.HIDE_ABOUT),n.trigger(n.E.SHOW_DISCUSSIONS,this.model)},t.prototype.switchToAboutView=function(){return a.navigate("/v/course/"+u.get("courseId")+"/profile/"+u.get("profileId")+"/about"),n.trigger(n.E.DISPLAY_PROFILE)},t.prototype.switchToDiscussionsView=function(){return a.navigate("/v/course/"+u.get("courseId")+"/profile/"+u.get("profileId")+"/discussions",!0)},t.prototype.show=function(){var e,t;return this.model=u.get("recentlyViewedUser"),u.resetCurrentView(this.viewIdentifier),this.type="other",this.$el.removeClass("hide"),window.scrollTo(0,0),n.F.IS_USER_LOGGED_IN(this.model.get("userId"))&&setTimeout(function(e){return function(){return e.setCleanCity()}}(this),5e3),this.validateDetails(),this.enableEditingIfViewingSelf(),this.stickit(),this.user=this.model.toJSON(),this.replaceWithProfilePic(),this.model.get("ta")||this.model.get("teacher")?n.F.APPEND_QUARTER_LOGO(this.$(".edit-user-image"),"/custom/QuarterG-BIG.svg"):n.F.REMOVE_QUARTER_LOGO(this.$(".edit-user-image")),this.$(".image-profile-background").css("background-image","url('"+(null!=(t=this.model.get("profilePic"))?t.url:void 0)+"')"),e={Viewee:this.model.id.toString(),Viewer:c.get("id").toString(),Type:this.type},n.T.MIXPANEL_TRACK("Profile Page View",e),n.T.MIXPANEL_INCREMENT_PROPERTY("Profile Views"),this.currentSavedModel=this.model.clone()},t.prototype.setCleanCity=function(){var e,t;return e=this.$("#user-city-input")[0],t={types:["(cities)"]},this.autocomplete=new google.maps.places.Autocomplete(e,t),
google.maps.event.addListener(this.autocomplete,"place_changed",function(e){return function(){return e.validateCity()}}(this))},t.prototype.validateCity=function(e){var t,o;return o=this.$("#user-city-input"),t=new google.maps.Geocoder,t.geocode({address:$(o).val()},function(t){return function(n,r){var i,s;return"OK"!==r?t.$(".city-error").removeClass("hide"):(s=n[0],s&&s.address_components&&s.address_components.length&&s.types.indexOf("postal_code")===-1?(i=s.address_components[0],t.$(o).val(i.long_name),t.$(".city-error").addClass("hide"),e?e():void 0):t.$(".city-error").removeClass("hide"))}}(this))},t.prototype.saveImageEvent=function(){return this.$("#image-input").on("change",function(e){return function(){return e.$(".user-image-upload").submit()}}(this))},t.prototype.enableEditingIfViewingSelf=function(){return n.F.IS_USER_LOGGED_IN(this.model.get("userId"))?(this.$(".edit-social-links").removeClass("hide"),this.$(".user-profile-image").addClass("edit-user-image"),this.$(".location-edit-button").removeClass("hide"),this.$(".image-edit-button").removeClass("hide"),this.type="Own"):(this.$(".edit-social-links").addClass("hide"),this.$(".user-profile-image").removeClass("edit-user-image"),this.$(".location-edit-button").addClass("hide"),this.$(".image-edit-button").addClass("hide"),this.type="other")},t.prototype.updateSocialProfiles=function(e){if(e.preventDefault(),this.$(e.currentTarget).valid())return this.$(".social-profile-submit-button").addClass("button-loader-profile"),n.F.IS_USER_LOGGED_IN(this.model.get("userId"))?this.model.save(this.model.toJSON(),{patch:!0,success:function(e){return function(){return e.$(".social-profile-submit-button").removeClass("button-loader-profile"),e.$("#edit-social-profile-modal").modal("hide")}}(this),error:function(e){return function(){}}(this)}):void 0},t.prototype.cancelPhotoUpload=function(e){return e.preventDefault(),$("#image-input").val(""),$("#user-profile-image-display").cropper("destroy"),$("#image-input-label").removeClass("hide"),$("#crop-profile-image-modal").modal("hide")},t.prototype.openSocialProfileEdit=function(e){return e.preventDefault(),this.$(".social-profile-form").validate({errorPlacement:function(e){return function(t,o){"linkedin_input"===o.attr("name")?(e.$(".linkedin-error").removeClass("hide"),e.$(".linkedin-error").text(t.text())):"facebook_input"===o.attr("name")&&(e.$(".facebook-error").removeClass("hide"),e.$(".facebook-error").text(t.text()))}}(this),rules:{linkedin_input:{checkLinkedInLink:!0},facebook_input:{checkFbLink:!0}}}),this.$("#edit-social-profile-modal").modal("show")},t.prototype.openImageUploadModal=function(){if(n.F.IS_USER_LOGGED_IN(this.model.get("userId")))return this.$("#crop-profile-image-modal").modal("show"),$("#user-profile-image-display").prop("src","")},t.prototype.messageEmbedReload=function(e){return e.preventDefault(),window.top.location.href=this.$(".message-button").attr("href")},t.prototype.saveDetails=function(e){if(e.preventDefault(),n.F.IS_USER_LOGGED_IN(this.model.get("userId"))){if(!this.$(".profile-form").valid())return;return this.validateCity(function(e){return function(){return e.$(".profile-form .basic-info-save").addClass("button-loader-profile"),e.model.set("firstname",e.$("#firstname").val().trim()),e.model.set("lastname",e.$("#lastname").val().trim()),e.model.set("address",{city:e.$("#user-city-input").val()}),e.model.save(e.model.toJSON(),{patch:!0,success:function(){return e.currentSavedModel=e.model.clone(),e.$(".profile-form .basic-info-save").removeClass("button-loader-profile"),e.$("#edit-name-city-profile-modal").modal("hide")},error:function(t,o){return e.$(".profile-form .basic-info-save").removeClass("button-loader-profile"),n.ERR.SHOW(o,e.$(".modal-error-space"))}})}}(this))}},t.prototype.validateDetails=function(){return this.$(".profile-form").validate({rules:{"profile-form-city":{required:!0,minlength:0},"profile-form-role":{required:!0,minlength:0},firstname:{required:!0,alphabetOnly:[]},lastname:{required:!0,alphabetOnly:[]}}})},t.prototype.cropImage=function(e){return this.$("#user-profile-image-display").prop("src",e.currentTarget.result),$("#user-profile-image-display").cropper({aspectRatio:1,minCropBoxWidth:150,minCropBoxHeight:150,viewMode:1,zoomable:!1,crop:function(){}})},t.prototype.showCropTool=function(){var e,t;if($("#image-input-label").addClass("hide"),e=new FormData,e.append("file",$("#image-input")[0].files[0]),t=new FileReader,$("#image-input")[0].files[0]){if(this.$(".image-type-error-message,.image-error-message").addClass("hide"),$("#image-input")[0].files[0].size){if($("#image-input")[0].files[0].size>5e6)return void this.$(".image-error-message").removeClass("hide");if(["jpeg","jpg","png"].indexOf($("#image-input")[0].files[0].type.split("/")[1])===-1)return void this.$(".image-type-error-message").removeClass("hide");this.$(".image-error-message").addClass("hide")}return t.onload=function(e){return function(t){return e.cropImage(t)}}(this),t.readAsDataURL($("#image-input")[0].files[0])}},t.prototype.uploadImage=function(e){var t;if(e.preventDefault(),$("#image-input")[0].files[0]){if($("#image-input")[0].files[0].size){if($("#image-input")[0].files[0].size>5e6)return void this.$(".image-error-message").removeClass("hide");if(["jpeg","jpg","png"].indexOf($("#image-input")[0].files[0].type.split("/")[1])===-1)return void this.$(".image-type-error-message").removeClass("hide")}return t=$("#image-input")[0].files[0].name,$("#user-profile-image-display").cropper("getCroppedCanvas").toBlob(function(e){return function(o){var r;return r=new FormData,r.append("file",o,t),r.append("shouldCreateThumbnail",!0),e.$(".save-button").addClass("button-loader-profile"),$.ajax({url:n.C.MEDIA_PATH()+"/file/upload",type:"POST",data:r,processData:!1,contentType:!1}).done(function(t){var o,r;if(t=JSON.parse(t),t.success)return e.model.set("profilePic",{url:t.data.url}),e.$(".user-profile-header .user-image-initials-wrapper").addClass("hide"),e.$("img.user-profile-image").removeClass("hide"),e.$(".image-profile-background").css("background-image","url('"+(null!=(o=e.model.get("profilePic"))?o.url:void 0)+"')"),e.$(".crop-image").attr("src",null!=(r=e.model.get("profilePic"))?r.url:void 0),c.set("profilePic",{url:e.model.get("profilePic").url,URL:e.model.get("profilePic").url}),e.model.save(e.model.toJSON(),{patch:!0}),n.T.MIXPANEL_TRACK("Profile Pic Changed"),n.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Profile Pic Changed":!0})}).fail(function(e,t,o){return n.ERR.SHOW(o),$("#image-input-label").removeClass("hide")}).complete(function(){return $("#image-input").val(""),e.$(".save-button").removeClass("button-loader-profile"),$("#user-profile-image-display").cropper("destroy"),$("#crop-profile-image-modal").modal("hide"),$("#image-input-label").removeClass("hide")})}}(this))}},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t.prototype.cancelEditNameCity=function(e){return this.model.set(this.currentSavedModel.attributes)},t.prototype.openNameCityEdit=function(e){return e.preventDefault(),this.$("#edit-name-city-profile-modal").modal("show"),this.$(".profile-form").validate().resetForm(),this.$(".profile-form input").removeClass("error"),this.$(".city-error").addClass("hide")},t}(r),h.extend(p.prototype,l),t.exports=new p},{"../../../collections/discussions/discussion-questions":16,"../../../models/shared-model":85,"../../../models/user-model":87,"../../../models/user-profile-models/peer-model":92,"../../helpers/base-view":99,"../../student-router":117,"../discussions/question-item-view":192,"../user-image-initials-support":275,"./education-history-view":226,"./experience-view":228,"./profile-stats-view":230,"./same-city-profile-view":232,"./user-about-view":236,"./user-discussions-view":238,backbone:318,"backbone.stickit":317,underscore:445}],240:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g=function(e,t){function o(){this.constructor=e}for(var n in t)y.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},y={}.hasOwnProperty;n=e("backbone"),m=e("underscore"),n.$=$,h=e("./question-viewers/single-option-item-view"),u=e("./question-viewers/multiple-option-item-view"),d=e("./question-viewers/poll-item-view"),c=e("./question-viewers/open-response-item-view"),l=e("./question-viewers/numerical-item-view"),f=e("./question-viewers/submission-item-view"),s=e("./question-viewers/content-discussion-item-view"),r=e("./question-viewers/class-opinion-item-view"),i=e("./question-viewers/code-editor-item-view"),a=e("./question-viewers/doselect-code-editor-item-view"),p=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.initialize=function(){return m.bindAll(this,"destroy"),this.listenTo(n,n.E.INIT_QUESTION_ITEM,this.renderView)},t.prototype.initQuestionItemView=function(e){var t,o;switch(e.get("type")){case"radio":t=h;break;case"checkbox":t=u;break;case"poll":t=d;break;case"text":t=c;break;case"numeric":t=l;break;case"submission":t=f;break;case"forum":t=e.get("isClassOpinion")?r:s;break;case"code":t=(null!=(o=e.get("code"))?o.codeDsRef:void 0)||e.get("isTimed")?a:i}return t},t.prototype.renderView=function(e,t){var o,n,r,i,s;if(o=this.initQuestionItemView(e))return i=new o({model:e,templateEl:t}),r=i.render(),"UIX"===(null!=(s=e.get("code"))?s.codeDsType:void 0)&&(n=!0),e.get("quiz").trigger("appendViewerQuestion",r,n)},t.prototype.destroy=function(){return console.log("QuestionFactory: destroy called"),this.stopListening()},t}(n.View),t.exports=p},{"./question-viewers/class-opinion-item-view":241,"./question-viewers/code-editor-item-view":242,"./question-viewers/content-discussion-item-view":244,"./question-viewers/doselect-code-editor-item-view":246,"./question-viewers/multiple-option-item-view":247,"./question-viewers/numerical-item-view":248,"./question-viewers/open-response-item-view":249,"./question-viewers/poll-item-view":250,"./question-viewers/single-option-item-view":252,"./question-viewers/submission-item-view":253,backbone:318,underscore:445}],241:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;n=e("backbone"),d=e("underscore"),a=e("./question-item-view"),i=e("./discussion-answers-view"),s=e("../../../models/content-discussion-question"),u=e("../../../models/quiz-model"),c=e("../../../models/user-model"),l=e("../../../models/shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.className="question forum-question hide",t.prototype.template=function(){return d.template($("#class-opinion-template").html())},t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.events=d.extend({},a.prototype.events,{"click .open-modal":"openDiscussionInModal","hidden.bs.modal .class-opinion-container":"hideDiscussionModal"}),t.prototype.trackEvent=function(e){return n.T.MIXPANEL_TRACK("Class Discussion",{"Question Id":this.model.get("discussion").forumId.toString(),Position:"In-Content","Segment Id":l.get("segmentId"),Type:e})},t.prototype.captureProgress=function(){var e;return e=this.model.get("quiz"),e.trigger("progress-on-quiz-complete",this.model)},t.prototype.activateQuestion=function(){return this.trackEvent("Shown"),t.__super__.activateQuestion.call(this)},t.prototype.getDiscussionQuestion=function(e){return this.contentDiscussionModel=new s,this.contentDiscussionModel.set("id",this.model.get("discussion").forumId),this.model.set("isFirstLoad",!0),this.contentDiscussionModel.fetch({success:function(t){return function(){return t.$(".class-opinion-content-discussion-container").removeClass("hide"),t.addQuizTitle(),e()}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},t.prototype.initAnswersView=function(){return this.answersView=new i({question:this.contentDiscussionModel,questionModel:this.model,initialPageSize:2,type:"In-Content"}),this.answersView.render()},t.prototype.render=function(){return t.__super__.render.call(this),this.getDiscussionQuestion(function(e){return function(){return e.$(".question-description").html(e.contentDiscussionModel.get("body")),e.updateOpenModalButton(),e.showOpenModalButton()}}(this)),this.$el.find(".class-opinion-content-discussion-container").append(this.initAnswersView()),this.$(".post-answer").addClass("hide"),this.captureProgress(),this.$el},t.prototype.addQuizTitle=function(){return this.$(".discussion-header").text(this.contentDiscussionModel.get("title"))},t.prototype.hideOrShowAnswerSubmit=function(){return this.contentDiscussionModel.get("hasAnswered")?this.contentDiscussionModel.trigger("hideAnswerSubmit"):this.contentDiscussionModel.trigger("showAnswerSubmit")},t.prototype.openDiscussionInModal=function(){return this.model.get("isFirstLoad")&&(this.$(".load-more-container").addClass("hide"),this.$("#answer-loader").removeClass("hide"),this.answersView.fetchAnswersOnPageLoad(),this.model.set("isFirstLoad",!1)),this.$el.css("height",this.$(".class-opinion-container").height()),this.$(".modal-dialog-holder").addClass("modal-dialog"),this.$(".modal-content-holder").addClass("modal-content"),this.$(".class-opinion-container").addClass("modal").modal("show").removeClass("view-only"),this.$(".modal-header").removeClass("hide"),this.hideOrShowAnswerSubmit(),this.$(".open-modal-container").addClass("hide"),this.trackEvent("Open Discussion")},t.prototype.hideDiscussionModal=function(){return this.$el.css("height","auto"),this.$(".modal-dialog-holder").removeClass("modal-dialog"),this.$(".modal-content-holder").removeClass("modal-content"),this.$(".modal-header").addClass("hide"),this.$(".class-opinion-container").removeClass("modal view-only").modal("hide").addClass("fade in").show().addClass("view-only"),this.showOpenModalButton(),this.updateOpenModalButton(),this.hideRecentAnswer(),this.trackEvent("Exit")},t.prototype.showOpenModalButton=function(){return this.$(".post-answer").addClass("hide"),this.$(".response-added").addClass("hide"),this.$(".add-your-response").addClass,this.$(".open-modal-container").removeClass("hide")},t.prototype.updateOpenModalButton=function(){return this.$(".open-modal").addClass("hide"),this.contentDiscussionModel.get("hasAnswered")?this.$(".view-discussion").removeClass("hide"):this.contentDiscussionModel.get("answerCount")?this.$(".add-your-response").removeClass("hide"):this.$(".submit-first-response").removeClass("hide")},t.prototype.hideRecentAnswer=function(){return this.$(".recent-answer .video-discussion-answer").length&&this.$(".answer-list-container .video-discussion-answer").length>1?this.$(".class-opinion-container").addClass("hide-recent"):this.$(".class-opinion-container").removeClass("hide-recent")},t.prototype.destroy=function(){return this.answersView.remove(),this.stopListening(),this.$el.remove()},t}(a),t.exports=r},{"../../../models/content-discussion-question":55,"../../../models/quiz-model":82,"../../../models/shared-model":85,"../../../models/user-model":87,"./discussion-answers-view":245,"./question-item-view":251,backbone:318,underscore:445}],242:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),a=e("underscore"),i=e("./question-item-view"),s=e("../../../models/shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.template=function(){return a.template($("#code-editor-template").html())},t.prototype.className="question hide",t.prototype.bindings={".test-case-results .input-data":{observe:"testcase-input",update:function(e,t){return e.html(t)}},".test-case-results .output-data":{observe:"testcase-output",update:function(e,t){return e.html(t)}},".test-case-results .your-output-data":{observe:"testcase-your-output",update:function(e,t){return a.isString(t)?(this.$(".your-output").removeClass("hide"),e.html(t||"No output")):this.$(".your-output").addClass("hide")}},".test-case-feedback":{observe:"testcase-feedback",update:function(e,t){return t?(e.removeClass("hide"),e.find(".data").html(t)):e.addClass("hide")}},".submit-question":{observe:["isEditable","testRunCount"],update:function(e,t){return t[0]&&t[1]?this.$(".submit-question").removeClass("disabled").removeAttr("data-original-title"):(this.$(".submit-question").addClass("disabled"),t[0]?(this.$(".submit-question span").text("Submit"),this.$(".submit-question").attr("data-original-title",'Please do a "Test Run" before you finally submit your code')):(this.$(".submit-question span").text("Submitted"),this.$(".submit-question").removeAttr("data-original-title").removeAttr("title")))}},".code-output":{observe:["output","color"],update:function(e,t){if(a.isString(t[0]))return e.html(t[0]||"No output").css("color",t[1])}},".optimal-solution-tab":{observe:"answer",update:function(e,t){if(t)return e.removeClass("inactive").tooltip("disable")}},".editor-optimal-solution pre":{observe:"answer",update:function(e,t){if(t)return e.html(t)}},".editor-input-container":{observe:"code",update:function(e,t){if(null!=t?t.inputRequired:void 0)return e.removeClass("hide")}},".input-data":{observe:"codeAnswer",update:function(e,t){if(null!=t?t.input:void 0)return e.val(t)},onGet:function(e){var t;return(null!=(t=this.model.get("codeAnswer"))?t.input:void 0)||""},onSet:function(e){var t;return null!=(t=this.model.set("codeAnswer"))&&(t.input=e),this.model.get("codeAnswer")}}},t.prototype.events=function(){return a.extend({},i.prototype.events,{"click .reset-code":"reset","click .submit-question":"submitQuestion","click .try-run":"tryQuestion","click .test-case-tab":"clickTestCaseTab","click .optimal-solution-tab":"clickOptimalSolutionTab","click .out-put-tab":"activateOutputTab","click .input-header":"toggleInputBox","focus .input-data":"showInputPanel"})},t.prototype.initialize=function(){return a.bindAll(this,"render"),t.__super__.initialize.call(this)},t.prototype.render=function(){return t.__super__.render.call(this),setTimeout(function(e){return function(){return e.setEditor()}}(this)),this.$(".submit-question").removeClass("hide"),this.setOutputValueAndTestCases(),this.runCount=0,this.attachFirstClickEventListener(),this.updateEditableNote(),this.$('[data-toggle="tooltip"]').tooltip(),this.$el},t.prototype.updateEditableNote=function(){if(!this.model.get("isInfinitelyEditable"))return this.$(".not-editable").removeClass("hide")},t.prototype.toggleInputBox=function(e,t){var o;return o=this.$(".editor-input-container"),o.hasClass("collapsed")||t?(this.$(".editor-input-container").removeClass("collapsed"),this.$(".input-header .input-direction").removeClass("glyphicon-chevron-left").addClass("glyphicon-chevron-right")):(this.$(".editor-input-container").addClass("collapsed"),this.$(".input-header .input-direction").removeClass("glyphicon-chevron-right").addClass("glyphicon-chevron-left"))},t.prototype.setEditor=function(){var e;if("undefined"!=typeof ace&&null!==ace){if(this.editor=ace.edit(this.$(".editor")[0]),this.editor.setTheme("ace/theme/chrome"),this.editor.getSession().setMode("ace/mode/"+this.model.get("code").language),this.editor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,fontSize:"10pt"}),this.editor.setOption("showPrintMargin",!1),this.editor.getSession().setUndoManager(new ace.UndoManager),null==(e=this.model.get("codeAnswer"))||!e.answer)return this.editor.getSession().setValue(this.model.get("code").templateCode);if(this.editor.getSession().setValue(this.model.get("codeAnswer").answer),this.model.get("codeAnswer").color)return this.$(".code-output").css("color",this.model.get("codeAnswer").color)}},t.prototype.setOutputValueAndTestCases=function(){var e,t;return this.model.get("codeAnswer")||this.model.set("codeAnswer",[]),(e=this.model.get("codeAnswer"))&&(e.output?(this.model.set("output",e.output),e.color&&this.model.set("color",e.color)):this.model.set("output"," ")),(null!=(t=this.model.get("codeAnswer"))?t.feedback:void 0)&&this.addTestCases(this.model.get("codeAnswer").feedback),this.addOptimalSolution()},t.prototype.reset=function(){var e;if(null!=(e=this.editor)?e.getSession():void 0)return this.editor.getSession().setValue(""),this.editor.getSession().setValue(this.model.get("code").templateCode),this.model.set("output",null),this.$(".code-output").empty(),this.trackEvent("Code Reset")},t.prototype.submitQuestion=function(e){var o,r,i,s,a;if(e.preventDefault(),a=$(e.currentTarget),!a.hasClass("disabled"))return i=a.hasClass("try-run"),this.hideTestCases(),this.hideFeedback(),(null!=(s=this.editor)?s.getSession():void 0)?(0===this.runCount&&(this.getTimeForFirstRun(),this.runCount++),r={questionSessionId:this.model.get("id"),answer:[{code:this.editor.getSession().getValue(),input:this.$(".input-data").val()}]},o=function(e){return function(t){var o;return(null!=(o=e.model.get("codeAnswer"))?o.color:void 0)&&e.model.set("color",e.model.get("codeAnswer").color),t?n.ERR.SHOW(t):(e.setOutputValueAndTestCases(),e.model.set("isCorrect",e.model.get("codeAnswer").isCorrect),e.model.set("output",e.model.get("codeAnswer").output),e.activateOutputTab(),e.scrollToOutput()),e.trackEvent("Code Submit",!e.model.get("isCorrect"),e.model.get("codeAnswer").feedback)}}(this),t.__super__.submitQuestion.call(this,r,o,a)):void 0},t.prototype.tryQuestion=function(e){var t,o,r,i,s;if(s=$(e.currentTarget),s.addClass("loading"),this.hideTestCases(),this.hideFeedback(),null!=(r=this.editor)?r.getSession():void 0)return 0===this.runCount&&(this.getTimeForFirstRun(),this.runCount++),t={answer:[{code:this.editor.getSession().getValue(),input:this.$(".input-data").val()}]},i=function(e){return function(t){if(s.removeClass("loading"),t=t[0],e.model.set("testRunCount",(e.model.get("testRunCount")||0)+1),e.model.set("output",t.output),t.color)return e.model.set("color",t.color)}}(this),o=function(e){return s.removeClass("loading"),n.ERR.SHOW(e)},this.model.tryRun(t,i,o)},t.prototype.getTabDom=function(e,t){return"<div data-test-case-index="+t+" class='test-case-tab "+(e.isCorrect?"correct":"wrong")+"'> Test Case "+(t+1)+" </div>"},t.prototype.addTestCases=function(e){if(e.length)return this.$(".result-block").removeClass("hide"),a.sortBy(e,function(e){return e.order}),this.$(".tabs-placeholder").html(""),a.each(e,function(e){return function(t,o){return e.$(".tabs-placeholder").append(e.getTabDom(t,o))}}(this)),this.activateTestCaseTab(this.$(".test-case-tab").first())},t.prototype.clickTestCaseTab=function(e){var t;return t=$(e.currentTarget),this.activateTestCaseTab(t)},t.prototype.activateTestCaseTab=function(e){var t,o,n;return this.$(".test-case-tab").removeClass("active"),e.addClass("active"),t=this.model.get("codeAnswer").feedback,n=e.attr("data-test-case-index"),o=t[n],this.model.set("testcase-input",o.input),this.model.set("testcase-output",o.expectedOutput),this.model.set("testcase-your-output",o.output),a.isString(o.output)?this.$(".test-case-results").addClass("three-column"):(this.$(".test-case-results").addClass("two-column"),this.$(".your-output").addClass("hide")),o.isCorrect?this.model.set("testcase-feedback",o.response):this.model.set("testcase-feedback",o.error)},t.prototype.clickOptimalSolutionTab=function(e){var t;if(this.model.get("answer"))return t=$(e.currentTarget),t.addClass("active"),this.$(".out-put-tab").removeClass("active"),this.$(".code-output").addClass("hide"),this.$(".editor-optimal-solution").removeClass("hide")},t.prototype.hideTestCases=function(e){return this.$(".result-block").addClass("hide")},t.prototype.activateOutputTab=function(e){return this.$(".out-put-tab").addClass("active"),this.$(".code-output").removeClass("hide"),this.$(".optimal-solution-tab").removeClass("active"),this.$(".editor-optimal-solution").addClass("hide")},t.prototype.addOptimalSolution=function(e){var t;if(null!=(t=this.model.get("code"))?t.solutionCode:void 0)return this.model.set("answer",this.model.get("code").solutionCode)},t.prototype.attachFirstClickEventListener=function(){return this.$(".editor").one("click",function(e){return function(){return e.trackEvent("Code Start"),e.firstClickTime=(new Date).getTime()/1e3}}(this))},t.prototype.getTimeForFirstRun=function(){return this.runTime=(new Date).getTime()/1e3},t.prototype.scrollToOutput=function(){var e;return e=this.$(".output-heading"),$("html, body").animate({scrollTop:$(e).offset().top-300},1e3)},t.prototype.showFeedback=function(){var e,t;if(null!=(e=this.model.get("codeAnswer"))&&null!=(t=e.feedback)?t.length:void 0){if(this.model.set("isCorrect",this.model.get("codeAnswer").isCorrect),this.model.get("isCorrect"))return this.$(".answer-status-incorrect").addClass("hide"),this.$(".answer-status-correct").removeClass("hide");if("boolean"==typeof this.model.get("isCorrect")&&!this.model.get("isCorrect"))return this.$(".answer-status-correct").addClass("hide"),this.$(".answer-status-incorrect").removeClass("hide")}},t.prototype.hideFeedback=function(){return this.$(".answer-status-incorrect, .answer-status-correct").addClass("hide")},t.prototype.getCorrectTestCaseCount=function(e){return e?e.filter(function(e){return function(e){return e.isCorrect}}(this)).length:null},t.prototype.showInputPanel=function(){return this.toggleInputBox(null,!0)},t.prototype.trackEvent=function(e,t,o){var r,i,a;return null==t&&(t=!1),r={"Question Id":this.model.get("id").toString(),"Segment Id":s.get("segmentId").toString(),"Time Taken":this.runTime-this.firstClickTime,"Is Error":t,Type:e,"Count Test Case":null!=o?o.length:void 0,"Count Correct Test Case":this.getCorrectTestCaseCount(o),"Is Correct":this.model.get("isCorrect"),Language:null!=(i=this.model.get("code"))?i.language:void 0,"Has Input Console":null!=(a=this.model.get("code"))?a.inputRequired:void 0},n.T.MIXPANEL_TRACK("Code Editor",r)},t}(i),t.exports=r},{"../../../models/shared-model":85,"./question-item-view":251,backbone:318,"backbone.stickit":317,underscore:445}],243:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),i=e("../user-image-initials-support"),s=e("../../../models/user-model"),a=e("underscore"),u=e("sanitize-html"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.className="video-discussion-answer item",t.prototype.bindings={".answer-owner":{observe:"owner",onGet:function(){var e;return null!=(e=this.model.get("owner"))?e.fullname:void 0}},".answer-body":{observe:"body",updateMethod:"html",onGet:function(e){return u(e)}},".question-timeago-answer":{attributes:[{name:"title",observe:["displayedAt","createdAt"],onGet:function(){return this.model.get("isSeeded")?this.model.get("displayedAt"):this.model.get("createdAt")}}]},".answer-profile-image":{attributes:[{observe:"owner",name:"src",onGet:function(){var e;return null!=(e=this.model.get("owner"))?e.photo:void 0}}]}},t.prototype.events={"click .content-discussion-answer-edit":"editAnswer"},t.prototype.userImageSelector=".answer-profile-image",t.prototype.template=function(){return a.template($("#content-discussion-answer-item-template").html())},t.prototype.initialize=function(e){return this.parentView=e.parentView},t.prototype.render=function(){return this.$el.html(this.template()()),this.stickit(),this.showAndHideEditOption(),this.updateProfilePic(),this.highlightAnswer(),n.F.MOMENT_TIME(this.$(".question-timeago-answer")),this.$el},t.prototype.updateProfilePic=function(){return this.user=this.model.get("owner"),this.replaceWithProfilePic()},t.prototype.editAnswer=function(){return this.parentView.editAnswer(this.model)},t.prototype.showAndHideEditOption=function(){return this.model.get("isEditable")?this.$(".content-discussion-answer-edit").removeClass("hide"):this.$(".content-discussion-answer-edit").addClass("hide")},t.prototype.highlightAnswer=function(){var e,t;return e=this.model.get("owner").email,t=s.get("email"),n.F.IS_USER_LOGGED_IN(this.model.get("owner").userId)?(this.$el.css("border","1px solid #22af73"),this.$el.addClass("highlight-answer")):this.$el.removeClass("highlight-answer")},t}(n.View),a.extend(r.prototype,i),t.exports=r},{"../../../models/user-model":87,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,"sanitize-html":426,underscore:445}],244:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;n=e("backbone"),d=e("underscore"),a=e("./question-item-view"),r=e("./discussion-answers-view"),s=e("../../../models/content-discussion-question"),u=e("../../../models/quiz-model"),c=e("../../../models/user-model"),l=e("../../../models/shared-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.className="question forum-question hide",t.prototype.template=function(){return d.template($("#cdq-template").html())},t.prototype.events=d.extend({},a.prototype.events,{"click .skip":"skipQuestionAndPlayVideo","click .continue-cdq":"continueAndPlayVideo"}),t.prototype.initialize=function(){return t.__super__.initialize.call(this),d.bindAll(this,"playVideo","hideSkip"),this.listenTo(this.model,"hideSkip",this.hideSkip)},t.prototype.trackEvent=function(e){return n.T.MIXPANEL_TRACK("Class Discussion",{"Question Id":this.model.get("discussion").forumId.toString(),Position:"In-Video","Segment Id":l.get("segmentId"),Type:e})},t.prototype.captureProgress=function(){var e;return e=this.model.get("quiz"),e.trigger("progress-on-quiz-complete",this.model)},t.prototype.skipQuestionAndPlayVideo=function(e){return this.captureProgress(),this.trackEvent("Skip"),this.playVideo(e)},t.prototype.continueAndPlayVideo=function(e){return this.captureProgress(),this.trackEvent("Continue"),this.playVideo(e)},t.prototype.activateQuestion=function(){return this.trackEvent("Shown"),t.__super__.activateQuestion.call(this)},t.prototype.getDiscussionQuestion=function(e){return this.$("#video-component-loader").removeClass("hide"),this.contentDiscussionModel=new s,this.contentDiscussionModel.set("id",this.model.get("discussion").forumId),this.contentDiscussionModel.fetch({success:function(t){return function(){return t.$(".video-content-discussion-container").removeClass("hide"),t.$(".content-discussion-quizid-error").addClass("hide"),t.addQuizTitle(),e(),t.$("#video-component-loader").addClass("hide")}}(this),error:function(e){return function(t,o){var n;return c.isTeacher()?(e.$(".video-content-discussion-container").addClass("hide"),e.$(".content-discussion-quizid-error").removeClass("hide"),e.$(".content-discussion-quizid-error").html(null!=(n=o.responseJSON)?n.errorList[0].errorMessage:void 0)):e.model.get("quiz").trigger("remove"),e.$("#video-component-loader").addClass("hide")}}(this)})},t.prototype.initAnswersView=function(){return this.answersView=new r({question:this.contentDiscussionModel,questionModel:this.model}),this.answersView.render()},t.prototype.render=function(){return t.__super__.render.call(this),this.getDiscussionQuestion(function(e){return function(){return e.$(".question-description").html(e.contentDiscussionModel.get("body")),e.hideOrShowAnswerSubmit()}}(this)),this.$el.find(".video-content-discussion-container").append(this.initAnswersView()),this.$el},t.prototype.addQuizTitle=function(){return this.$(".discussion-header").text(this.contentDiscussionModel.get("title"))},t.prototype.hideOrShowAnswerSubmit=function(){return this.contentDiscussionModel.get("hasAnswered")?(this.hideSkip(),
this.contentDiscussionModel.trigger("hideAnswerSubmit")):(this.showSkip(),this.contentDiscussionModel.trigger("showAnswerSubmit"))},t.prototype.hideSkip=function(){return this.$(".skip").addClass("hide")},t.prototype.showSkip=function(){return this.$(".skip").removeClass("hide")},t.prototype.destroy=function(){return this.answersView.remove(),this.stopListening(),this.$el.remove()},t}(a),t.exports=i},{"../../../models/content-discussion-question":55,"../../../models/quiz-model":82,"../../../models/shared-model":85,"../../../models/user-model":87,"./discussion-answers-view":245,"./question-item-view":251,backbone:318,underscore:445}],245:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;r=e("backbone"),d=e("underscore"),i=e("../../helpers/collection-view-support"),a=e("../../../collections/content-discussion-answers"),s=e("./content-discussion-answer-item-view"),c=e("../../../models/user-model"),l=e("../../../models/shared-model"),n=e("../../../models/discussions/discussion-answer-model"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.className="content-discussion-answers",t.prototype.events={"click .answer-submit":"submitAnswer","click .load-more-answers":"loadMoreAnswers"},t.prototype.template=function(){return d.template($("#content-discussion-answers-template").html())},t.prototype.initialize=function(e){return this.discussionQuestion=e.question,this.questionModel=e.questionModel,this.listenTo(this.discussionQuestion,"hideAnswerSubmit",this.hideAnswerSubmit),this.listenTo(this.discussionQuestion,"showAnswerSubmit",this.showAnswerSubmit),this.collection=new a,this.itemViewClass=s,this.bindCollectionSupportMethods(),this.subViews={},this.collection.questionId=e.question.get("id"),this.itemObj={parentView:this},this.appendToDivSelector=".answer-list-container",this.addCollectionListeners(),this.fetchAnswersOnPageLoad(e.initialPageSize),this.position=e.type||"In-Video"},t.prototype.fetchAnswersOnPageLoad=function(e){var t;return t={questionId:this.collection.questionId,pageSize:e||10},this.collection.fetch({reset:!0,data:$.param(t),success:function(e){return function(){return e.$("#answer-loader").addClass("hide"),e.checkForAnswersListLength(),e.toggleLoadMoreButton(),e.updateNumberOfResponses()}}(this),error:function(e){return function(t,o){return e.$("#answer-loader").addClass("hide"),r.ERR.SHOW(o,$(".error-space"))}}(this)})},t.prototype.render=function(){return this.$el.html(this.template()),this.$("#answer-loader").removeClass("hide"),this.showAnswerSubmit(),this.addWordCountListener(),this.updateWordCountForAnswer(),this.$el},t.prototype.toggleLoadMoreButton=function(){return this.collection.nextUrl?this.$(".load-more-container").removeClass("hide"):this.$(".load-more-container").addClass("hide")},t.prototype.loadMoreAnswers=function(){return this.trackEvent("View More"),this.$(".load-more-answers").addClass("mbtn-loader"),this.collection.fetch({url:this.collection.nextUrl,remove:!1,success:function(e){return function(){return e.$(".load-more-answers").removeClass("mbtn-loader"),e.toggleLoadMoreButton()}}(this),error:function(e){return function(t,o){return e.$(".load-more-answers").removeClass("mbtn-loader"),r.ERR.SHOW(o,$(".error-space"))}}(this)})},t.prototype.addWordCountListener=function(){return this.$(".answer-input-box").on("change keydown keypress keyup blur focus",function(e){return function(t){return t.stopPropagation(),e.updateWordCountForAnswer()}}(this))},t.prototype.checkForAnswersListLength=function(){return 0===this.collection.length?this.$(".content-discussion-answers-empty-state").removeClass("hide"):this.$(".content-discussion-answers-empty-state").addClass("hide")},t.prototype.scrollToCurrentAnswer=function(){var e;return e=this.$(".answers-list")[0].scrollHeight,setTimeout(function(){return $(".answers-list").animate({scrollTop:e-30},200)},200)},t.prototype.trackEvent=function(e){return r.T.MIXPANEL_TRACK("Class Discussion",{"Question Id":this.collection.questionId.toString(),Position:this.position,"Segment Id":l.get("segmentId"),Type:e})},t.prototype.getAnswerFromInput=function(){return this.convertNewLineToBr(this.$(".answer-input-box").val())},t.prototype.convertNewLineToBr=function(e){return e.replace(/\n/g,"<br/>")},t.prototype.convertBrToNewLine=function(e){return e.replace(/<br\/>/g,"\n")},t.prototype.setAnswerToInput=function(e){var t;return t=this.convertBrToNewLine(e),this.$(".answer-input-box").val(t)},t.prototype.submitAnswer=function(){return c.isStudent()||!this.validateWordCountForAnswer()?this.sendAnswer():confirm("Your response will be VISIBLE TO ALL STUDENTS in the cohort. \n\n Note: If you wish to simply proceed with the video, you can use the 'Skip' Button. \n\n ARE YOU SURE YOU WANT TO POST THIS MESSAGE?")?this.sendAnswer():void 0},t.prototype.sendAnswer=function(){var e,t;return this.$(".answer-submit").addClass("mbtn-loader"),e=this.model||new n,this.validateWordCountForAnswer()?e.isNew()?(t=this.getAnswerFromInput(),e.set("body",t),e.set("questionId",this.collection.questionId),e.save(e.toJSON(),{success:function(e){return function(t){var o;return o=e.questionModel.get("quiz"),o.trigger("progress-on-quiz-complete",e.questionModel),e.$(".answer-submit").removeClass("mbtn-loader"),e.collection.add(t,{silent:!0}),e.appendToRecentAnswerDiv(t),e.scrollToCurrentAnswer(),e.clearAnswerInputBox(),e.updateResponseMessage(!0),e.hideAnswerSubmit(),e.checkForAnswersListLength(),e.questionModel.trigger("hideSkip"),e.discussionQuestion.set("hasAnswered",!0),e.collection.count++,e.updateNumberOfResponses(),e.trackEvent("Submit")}}(this),error:function(e){return function(t,o){return e.$(".answer-submit").removeClass("mbtn-loader"),r.ERR.SHOW(o)}}(this)})):(e.set("body",this.getAnswerFromInput()),e.save(e.toJSON(),{patch:!0,success:function(e){return function(){return e.$(".answer-submit").removeClass("mbtn-loader"),e.scrollToCurrentAnswer(),e.clearAnswerInputBox(),e.updateResponseMessage(!1),e.hideAnswerSubmit(),e.trackEvent("Edit")}}(this),error:function(e){return function(t,o){return e.$(".answer-submit").removeClass("mbtn-loader"),r.ERR.SHOW(o)}}(this)})):void this.$(".answer-submit").removeClass("mbtn-loader")},t.prototype.updateResponseMessage=function(e){return e?this.$(".response-added .response-message").text("Your response has been added"):this.$(".response-added .response-message").text("Your response has been updated")},t.prototype.appendToRecentAnswerDiv=function(e){var t;return t=this.addItem(e),this.$(".recent-answer").append(t)},t.prototype.byPassAddOne=function(e){var t;return t=this.addItem(e),this.$(".answer-list-container").append(t)},t.prototype.updateWordCountForAnswer=function(){var e,t;return t=this.$(".answer-input-box").val(),0===t.length?(this.wordCount=0,void this.$(".exact-count").text(this.wordCount)):(e=/\s+/gi,this.wordCount=t.trim().replace(e," ").split(" ").length,this.$(".exact-count").text(this.wordCount),this.wordCount>250?(this.$(".exact-count").css("color","#EF5350"),this.$(".answer-submit").addClass("disabled")):(this.$(".exact-count").css("color","green"),this.$(".answer-submit").removeClass("disabled"),this.$(".answer-input-box").css("border","1px solid white")))},t.prototype.validateWordCountForAnswer=function(){return this.$(".exact-count").text(this.wordCount),this.wordCount>250||0===this.wordCount||""===this.$(".answer-input-box").val().trim()?(this.$(".exact-count").css("color","#EF5350"),0!==this.wordCount&&""!==this.$(".answer-input-box").val().trim()||(this.wordCount=0,this.$(".exact-count").text(this.wordCount)),!1):(this.$(".exact-count").css("color","green"),!0)},t.prototype.clearAnswerInputBox=function(){return this.$(".answer-input-box").val(""),this.$(".answer-word-count").val("")},t.prototype.hideAnswerSubmit=function(){return this.$(".post-answer").addClass("hide"),this.$(".response-added").removeClass("hide")},t.prototype.showAnswerSubmit=function(){return this.$(".post-answer").removeClass("hide"),this.$(".response-added").addClass("hide")},t.prototype.editAnswer=function(e){var t;return this.model=e,this.$(".post-answer").removeClass("hide"),this.$(".response-added").addClass("hide"),this.setAnswerToInput(e.get("body")),t=r.F.wordCount(this.$(".answer-input-box").val()).words,this.$(".exact-count").text(t)},t.prototype.updateNumberOfResponses=function(){if(this.collection.count)return this.$(".response-count").text(this.collection.count)},t.prototype.remove=function(){return this.stopListening(),this.$el.remove()},t}(r.View),d.extend(u.prototype,i),t.exports=u},{"../../../collections/content-discussion-answers":9,"../../../models/discussions/discussion-answer-model":58,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/collection-view-support":100,"./content-discussion-answer-item-view":243,backbone:318,underscore:445}],246:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),u=e("underscore"),s=e("./question-item-view"),a=e("../../../models/shared-model"),i=e("../../helpers/helper-methods"),l=e("sanitize-html"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.template=function(){return"UIX"===this.model.get("code").codeDsType?u.template($("#doselect-uix-code-editor-template").html()):u.template($(this.templateEl||"#doselect-code-editor-template").html())},t.prototype.className="question hide",t.prototype.events=function(){return u.extend({},s.prototype.events,{"click .start-coding":"openCodingConsole","click .question-refresh-button-wrapper":"reloadQuestion"})},t.prototype.bindings={".title":{observe:"title",updateMethod:"html",onGet:function(e){return l(e)}},".description-text":{observe:"description",updateMethod:"html",onGet:function(e){var t;return t=l.defaults.allowedTags.slice(),t.push("img"),l(e,{allowedTags:t})}},".current-submission":"attemptsUsed",".max-submission":"attemptsAllowed",".status":{observe:"status",onGet:function(e){return"pending"===e&&(e="unsolved"),this.model.get("statusColor")&&this.$(".status").css("color",this.model.get("statusColor")),this.updateActionCTA(),e}},".download-solution":{observe:"solutionCode",update:function(e,t){return t?(e.removeClass("hide"),e.attr("href",t)):e.addClass("hide")}},".question-refresh-button-wrapper":{observe:"isTimed",update:function(e,t){return t?(this.$('[data-toggle="tooltip"]').tooltip(),e.removeClass("hide")):e.addClass("hide")}},".sample-solution-banner":{observe:["videoFeedbackId","isTimed","code","hasTextSolution"],update:function(e,t,o){return!(t[0]||(t[2].solutionCode||t[3])&&"UIX"!==t[2].codeDsType)||t[1]?(e.addClass("hide"),e.removeClass("qn-"+o.get("questionId"))):(e.addClass("qn-"+o.get("questionId")),e.removeClass("hide"),t[0]&&this.$(".view-video-solution-wrapper").removeClass("hide"),(t[2].solutionCode||t[3])&&"UIX"!==t[2].codeDsType?this.$(".view-text-solution-wrapper").removeClass("hide"):void 0)}},".status-error-message":{observe:"showStatusErrorMessage",update:function(e,t){return t?(this.$('[data-toggle="tooltip"]').tooltip(),this.$(".submission-count").addClass("hide"),n.T.MIXPANEL_TRACK("Show status error message",{"Current Attempts":this.model.get("attemptsUsed"),"Max Attempts":this.model.get("attemptsAllowed"),Type:this.model.get("codeDsType"),"Question ID":this.model.get("questionId").toString()}),e.removeClass("hide")):(e.addClass("hide"),this.$(".submission-count").removeClass("hide"))}}},t.prototype.initialize=function(e){return u.bindAll(this,"render"),this.listenTo(n,n.E.SHOW_FULLSCREEN_VIEW,this.fullScreenViewEdit),this.templateEl=e.templateEl,t.__super__.initialize.call(this)},t.prototype.render=function(){var e,o,r,i;return t.__super__.render.call(this),e=this.model.get("code"),r={},"UIX"===e.codeDsType?(this.listenTo(n,"update-question-"+this.model.get("id"),this.updateStatus),o=this.model.get("codeAnswer"),o&&(i=o.dsStatus,i&&this.updateDsStatus(i),this.showStatusErrorMessage(),this.model.set("solutionCode",this.model.get("code").solutionCode)),this.$el):(this.listenTo(n,"update-question-"+this.model.get("id"),this.scrollToArea),this.$(".doselect-embed").attr("data-slug",e.codeDsRef),r.custom_body_class="embed-question",this.model.get("isTimed")&&(r.custom_body_class="embed-question timed-question"),this.$(".doselect-main .doselect-embed").find(".loading-text").removeClass("hide"),this.renderDoSelect({el:this.$(".doselect-main .doselect-embed")[0],slugId:e.codeDsRef,config:JSON.stringify(r)})),this.$el},t.prototype.reloadQuestion=function(){var e,t;if(this.model.get("isTimed"))return this.$(".question-refresh-button-wrapper").addClass("disabled"),e=this.model.get("code"),t={custom_body_class:"embed-question timed-question"},this.$(".doselect-embed").attr("data-slug",e.codeDsRef),this.renderDoSelect({el:this.$(".doselect-main .doselect-embed")[0],slugId:e.codeDsRef,config:JSON.stringify(t),isAuthCompulsory:!0,reloadButton:this.$(".question-refresh-button-wrapper")}),n.T.MIXPANEL_TRACK("clicked_timed_doselect_refresh",{slug_id:e.codeDsRef})},t.prototype.fullScreenViewEdit=function(e){var t,o,n,r,s;if(this.model.get("componentModelId")===e.get("id"))return t=this.$el,t.find(".modal-header").removeClass("hide"),t.find(".details-column").removeClass("hide"),t.find(".modal-body-wrapper").addClass("display-prop"),t.find(".modal-dialog-holder").addClass("modal-dialog"),t.find(".modal-content-holder").addClass("modal-content"),t.find(".doselect-main").addClass("doselect-fullscreen modal fade custom-modal"),t.find(".doselect-fullscreen").modal("show"),n={},o=this.model.get("code"),r=this.$(".doselect-main .doselect-embed"),r.find("iframe").remove(),n.custom_body_class="embed-question split-view",s={el:r[0],category:"problem",config:JSON.stringify(n),slugId:o.codeDsRef},i.loadDoSelectEmbed(s),this.trackCodingExpansion("expand_coding_question",e)},t.prototype.trackCodingExpansion=function(e,t){return n.T.MIXPANEL_TRACK(e,{course_id:t.get("courseId").toString(),course_name:t.get("courseName"),module_id:t.get("moduleId").toString(),module_name:t.get("moduleName"),question_id:this.model.get("questionId").toString()})},t.prototype.updateActionCTA=function(e){return"submitted"===e?this.$(".start-coding").text("View"):"attempted"===e?this.$(".start-coding").text("Resume"):this.$(".start-coding").text("Start Coding")},t.prototype.updateStatus=function(e){var t;return t=JSON.parse(e.text),this.model.set("canProceed",t.canProceed),this.model.set("attemptsUsed",t.attempt),this.model.set("attemptsAllowed",t.attemptsAllowed),this.model.set("solutionCode",t.solutionCode),this.model.set("isEditable",t.isEditable),this.showStatusErrorMessage(),this.updateDsStatus(t.dsStatus),this.scrollToArea(e)},t.prototype.scrollToArea=function(e){var t,o,r,i,s,a,u,l,c;try{a=JSON.parse(e.text)}catch(d){r=d,a={},n.T.MIXPANEL_TRACK("parse_error_doselect_hook_sample_solution",{raw_socket_notification_data:e.text,question_id:this.model.get("questionId").toString()})}if(a.canProceed&&(a.videoFeedbackId||a.hasTextSolution))return this.model.set("videoFeedbackId",a.videoFeedbackId),this.model.set("hasTextSolution",a.hasTextSolution),i="qn-"+this.model.get("questionId"),u=this.$("."+i+".sample-solution-banner"),l=null!=(s=u.offset())?s.top:void 0,c=$(window).scrollTop(),o=c+window.innerHeight,t=l+u.outerHeight(),(o<l||t<c)&&n.F.SCROLL_TO_ELEMENT(u,100-window.innerHeight,"body, html",400),this.trackBannerVisibility(a,e.text)},t.prototype.trackBannerVisibility=function(e,t){var o;return o="doselect_banner_hidden",(e.videoFeedbackId||e.hasTextSolution&&"UIX"!==this.model.get("code").codeDsType)&&(o="doselect_banner_visible"),n.T.MIXPANEL_TRACK(o,{video_feedback_id:e.videoFeedbackId,has_text_solution:e.hasTextSolution,type:this.model.get("code").codeDsType,raw_socket_data:t})},t.prototype.updateDsStatus=function(e){return this.model.set("statusColor",e.colour),this.model.set("status",e.label)},t.prototype.showStatusErrorMessage=function(){return!this.model.get("isEditable")&&this.model.get("attemptsUsed")<this.model.get("attemptsAllowed")?this.model.set("showStatusErrorMessage",!0):this.model.set("showStatusErrorMessage",!1)},t.prototype.openCodingConsole=function(){return window.open("/c/course/"+a.get("courseId")+"/question/"+this.model.get("quiz").get("quizId")+"/session/"+this.model.get("id")),n.T.MIXPANEL_TRACK("Code in New Window",{Status:this.model.get("status"),"Current Attempts":this.model.get("attemptsUsed"),"Max Attempts":this.model.get("attemptsAllowed"),Type:this.model.get("codeDsType"),"Question ID":this.model.get("questionId").toString()})},t.prototype.renderDoSelect=function(e){return e.config=e.config||"{}",e.category=e.category||"problem",e.container=this.$el,e.questionId=this.model.get("id"),e.segmentId=a.get("segmentId"),doselect.loadframe?i.addToQueueAndLoad(e):this.showErrorMessage()},t.prototype.showFeedback=function(){var e;if("pending"!==this.model.get("status"))return this.model.get("isTimed")?(null!=(e=this.model.get("codeAnswer"))?e.isCorrect:void 0)?(this.$(".answer-status-correct").removeClass("hide"),this.$(".answer-status-incorrect").addClass("hide")):(this.$(".answer-status-correct").addClass("hide"),this.$(".answer-status-incorrect").removeClass("hide")):void 0},t.prototype.showErrorMessage=function(){return this.$(".error-message").removeClass("hide")},t}(s),t.exports=r},{"../../../models/shared-model":85,"../../helpers/helper-methods":104,"./question-item-view":251,backbone:318,"backbone.stickit":317,"sanitize-html":426,underscore:445}],247:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),a=e("underscore"),s=e("../option-builders/mcq-option-item"),i=e("./question-item-view"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.template=function(){return a.template($(this.templateEl||"#mcq-template").html())},t.prototype.events=function(){return a.extend({},i.prototype.events,{"click .quiz-option-radio":"selectedOptionListItem"})},t.prototype.initialize=function(e){return a.bindAll(this,"render","selectedOptionListItem"),this.templateEl=e.templateEl,t.__super__.initialize.call(this)},t.prototype.render=function(){return t.__super__.render.call(this)},t.prototype.addOptions=function(){return a.each(this.model.get("choices"),function(e){return function(t){var o,r;return t.type="checkbox",o=new n.Model(t),r=new s({model:o}),e.$(".quiz-options-list").append(r.show())}}(this))},t.prototype.blockQuestion=function(){return this.questionBlocked()&&(this.$(".quiz-option-radio").attr("disabled","disabled"),this.$(".quiz-options-list-item").addClass("no-hover")),t.__super__.blockQuestion.call(this)},t.prototype.selectedOptionListItem=function(e){return this.$(".answer-status-correct,.answer-status-incorrect").addClass("hide"),this.$(e.currentTarget).is(":checked")?this.$(e.currentTarget).closest(".quiz-options-list-item").addClass("selected"):this.$(e.currentTarget).closest(".quiz-options-list-item").removeClass("selected")},t.prototype.submitQuestion=function(e){var o,n,r;return e.preventDefault(),n=this.validate(),n||this.model.get("isTimed")?n||"pending"!==this.model.get("status")?(r=[],this.$("input[type=checkbox]:checked").each(function(){return r.push({id:parseInt(this.id)})}),o={questionSessionId:this.model.get("id"),answer:r,isUndo:!n},t.__super__.submitQuestion.call(this,o,function(e){return function(t){if(!t)return e.$(".quiz-options-list-item").removeClass("previous-selected"),e.$(".quiz-options-list-item.selected").addClass("previous-selected")}}(this))):void 0:void this.showError()},t.prototype.showError=function(){return t.__super__.showError.call(this)},t.prototype.validate=function(){return this.$("input[type=checkbox]:checked").length},t.prototype.showFeedback=function(){var e,t,o,r;return this.$(".option-feedback").addClass("hide"),this.model.get("isCorrect")?(this.$(".answer-status-incorrect").addClass("hide"),this.$(".answer-status-correct").removeClass("hide")):this.model.get("isCorrect")===!1?(this.$(".answer-status-correct").addClass("hide"),this.$(".answer-status-incorrect").removeClass("hide"),this.model.get("canProceed")||(this.$(".selected input").attr("checked",!1),this.$(".quiz-options-list-item").removeClass("selected"))):null===this.model.get("isCorrect")&&this.model.get("isTimed")&&"answer_frozen"===this.model.get("status")&&(this.$(".answer-status-correct").addClass("hide"),this.$(".answer-status-incorrect").removeClass("hide")),t=a.where(null!=(o=this.model.get("choiceResponse"))?o.choices:void 0,{correct:!0}),r=this.model.get("choiceResponse").choices,e=this.model.get("canProceed"),a.each(r,function(t){return function(o){var n,r,i,s;if(n=t.$("#"+o.id),r=n.parent(),o.selected&&n.prop("checked",!0),e&&(o.correct?(r.addClass("right"),o.selected?(i=n,i.attr("checked",!0),i.closest(".quiz-options-list-item").addClass("selected")):r.addClass("missed")):o.selected&&(i=n,i.attr("checked",!0),i.closest(".quiz-options-list-item").addClass("selected"),r.addClass("wrong")),(o.selected||o.correct)&&(s=r.find(".option-feedback"),s.find(".option-feedback-text").html(o.feedback),o.feedback)))return s.removeClass("hide"),r.find(".option-feedback").closest(".quiz-options-list-item").addClass("feedback")}}(this)),n.trigger(n.E.MATHJAX_TYPESET_DOM,this.$el)},t}(i),t.exports=r},{"../option-builders/mcq-option-item":219,"./question-item-view":251,backbone:318,"backbone.stickit":317,underscore:445}],248:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),s=e("underscore"),i=e("./question-item-view"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.template=function(){return s.template($(this.templateEl||"#numerical-question-template").html())},t.prototype.events=function(){return s.extend({},i.prototype.events,{"click .quiz-number-box":"hideFeedback","keydown .quiz-number-box":"onKeyDown"})},t.prototype.initialize=function(e){return s.bindAll(this,"render","submitQuestion","hideFeedback"),this.templateEl=e.templateEl,t.__super__.initialize.call(this)},t.prototype.render=function(){return t.__super__.render.call(this)},t.prototype.hideFeedback=function(){if(!this.questionBlocked())return this.$(".numerical-feedback").addClass("hide"),this.$(".numerical-feedback").removeClass("right wrong")},t.prototype.onKeyDown=function(e){if(13===e.keyCode)return e.preventDefault(),!1},t.prototype.submitQuestion=function(e){var o,n,r,i;return e.preventDefault(),n=this.$(".quiz-number-box").val(),r=this.validate(parseFloat(n)),r||this.model.get("isTimed")?r||"pending"!==this.model.get("status")?(this.$(".previous-response").addClass("hide"),i=parseFloat(n),o={questionSessionId:this.model.get("id"),answer:[{numeric:i}],isUndo:!r},t.__super__.submitQuestion.call(this,o)):void 0:void this.showError()},t.prototype.showError=function(){return t.__super__.showError.call(this)},t.prototype.showFeedback=function(){if(this.model.get("isCorrect")?(this.$(".answer-status-incorrect").addClass("hide"),this.$(".answer-status-correct").removeClass("hide"),this.$("input.quiz-number-box").addClass("right"),this.$(".previous-response").addClass("hide"),this.$(".numerical-input-status .status").text("done"),this.$(".numerical-input-status .status-text").text("Correct")):this.model.get("isCorrect")===!1&&(this.$(".previous-response").html("<i>Your previous answer was</i>: "+this.model.get("numericAnswer").answer).removeClass("hide"),this.$(".answer-status-correct").addClass("hide"),this.$(".answer-status-incorrect").removeClass("hide"),this.$(".numerical-input-status .status").text("close"),this.$(".numerical-input-status .status-text").text("Incorrect")),this.model.get("feedback")?(this.$(".numerical-feedback").removeClass("hide"),this.$(".numerical-feedback-text").html(this.model.get("feedback")),this.model.get("isCorrect")?this.$(".numerical-feedback").removeClass("wrong").addClass("right"):this.$(".numerical-feedback").removeClass("right").addClass("wrong")):this.$(".numerical-feedback").addClass("hide"),this.model.get("canProceed")?(this.$(".previous-response").addClass("hide"),this.$("input.quiz-number-box").attr("readonly","readonly"),this.$(".numerical-feedback").removeClass("wrong").addClass("right"),this.model.get("feedback")?(this.$(".numerical-feedback-text").html(this.model.get("feedback")),this.$(".numerical-feedback").removeClass("hide")):this.$(".numerical-feedback").addClass("hide"),this.model.get("isCorrect")?(this.$("input.quiz-number-box,.numerical-input-status").addClass("right"),this.$(".quiz-option-correct-text.answer").removeClass("hide")):(this.$("input.quiz-number-box,.numerical-input-status").addClass("wrong"),this.$(".numerical-feedback-status").removeClass("hide")),this.model.get("numericAnswer")&&!this.model.get("isCorrect")&&this.$(".quiz-number-box.numerical-answer").text(this.model.get("numericAnswer").correctAnswer).removeClass("hide")):this.model.get("isTimed")||this.$(".quiz-number-box").val(""),null===this.model.get("isCorrect")&&this.model.get("isTimed")&&"answer_frozen"===this.model.get("status"))return this.$(".answer-status-correct").addClass("hide"),this.$(".answer-status-incorrect").removeClass("hide"),this.$("input.quiz-number-box,.numerical-input-status").removeClass("wrong"),this.$(".numerical-feedback-status").addClass("hide")},t.prototype.validate=function(e){var t;if(0!==e.length)return t=/^-?\d*(\.\d+)?$/,t.test(e)},t}(i),t.exports=r},{"./question-item-view":251,backbone:318,"backbone.stickit":317,underscore:445}],249:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),s=e("underscore"),i=e("./question-item-view"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.template=function(){return s.template($("#text-question-template").html())},t.prototype.bindings=function(){return s.extend({},i.prototype.bindings,{".question-name":"name",".ideal-answer-text":{observe:"textAnswer",onGet:function(){var e;return null!=(e=this.model.get("textAnswer"))?e.suggestedAnswer:void 0},updateMethod:"html"},".not-editable-text":{observe:"isInfinitelyEditable",update:function(e,t){return setTimeout(function(e){return function(){return t?e.$(".not-editable-text").addClass("hide"):e.$(".not-editable-text").removeClass("hide")}}(this),100)}}})},t.prototype.initialize=function(){return s.bindAll(this,"render","showFeedback","submitQuestion","counter","addWordCountListener"),this.validated=!1,t.__super__.initialize.call(this)},t.prototype.render=function(){return t.__super__.render.call(this),this.fillWordCount(),this.updateEditableNote(),this.$el},t.prototype.addWordCountListener=function(){return this.$(".textarea-quiz-box").on("change keydown keypress keyup blur focus",function(e){return function(){return e.counter()}}(this))},t.prototype.blockQuestion=function(){var e;return this.questionBlocked()&&(this.counter(),this.$(".textarea-quiz-box").attr("readonly","readonly"),(null!=(e=this.model.get("textAnswer"))?e.suggestedAnswer:void 0)&&this.showIdealAnswer()),t.__super__.blockQuestion.call(this)},t.prototype.unblockQuestion=function(){return this.$(".textarea-quiz-box").attr("readonly",!1),this.$(".textarea-quiz-box").addClass("active"),this.$(".textarea-quiz-box").focus(),this.$(".quiz-attempt-box").removeClass("hide"),t.__super__.unblockQuestion.call(this)},t.prototype.counter=function(){var e;return e=this.$(".textarea-quiz-box").val(),0===e.length?(this.$(".current-word-count").text(0),this.wordCount=0,this.validated=!1,void this.$(".current-word-count").removeClass("valid-word-count")):(this.wordCount=n.F.wordCount(e.trim()).words,this.wordCount>=this.model.get("textConfig").minWords?this.model.get("textConfig").maxWords?this.wordCount<=this.model.get("textConfig").maxWords?(this.$(".current-word-count").addClass("valid-word-count"),this.validated=!0):(this.validated=!1,this.$(".current-word-count").removeClass("valid-word-count")):(this.$(".current-word-count").addClass("valid-word-count"),this.validated=!0):(this.validated=!1,this.$(".current-word-count").removeClass("valid-word-count")),this.$(".current-word-count").text(this.wordCount))},t.prototype.showError=function(){return t.__super__.showError.call(this)},t.prototype.validate=function(){return this.validated},t.prototype.fillWordCount=function(){var e,t;return this.$(".word-limit-text").text("Word Limit"),t=this.model.get("textConfig").minWords,e=this.model.get("textConfig").maxWords,t&&e?this.$(".word-limit-count").text(t+"-"+e):t?this.$(".word-limit-count").text(t+"-500"):e?this.$(".word-limit-count").text("1-"+e):void 0},t.prototype.updateEditableNote=function(){if(!this.model.get("isInfinitelyEditable"))return this.$(".not-editable").removeClass("hide")},t.prototype.showIdealAnswer=function(){return this.$(".ideal-answer-container").removeClass("hide")},t.prototype.submitQuestion=function(e){var o,r;return e.preventDefault(),this.validate()?(r=this.$(".textarea-quiz-box").val(),o={questionSessionId:this.model.get("id"),answer:[{text:r}]},t.__super__.submitQuestion.call(this,o,function(e){return function(){var t;return(null!=(t=e.model.get("textAnswer"))?t.suggestedAnswer:void 0)?(e.$(".ideal-answer-text").html(e.model.get("textAnswer").suggestedAnswer),e.showIdealAnswer(),n.F.SCROLL_TO_ELEMENT(e.$(".ideal-answer-container"),-340)):e.activateNextQuestion()}}(this))):void this.showError()},t.prototype.showFeedback=function(){var e,t;return t=null!=(e=this.model.get("textAnswer"))?e.answer:void 0},t}(i),t.exports=r},{"./question-item-view":251,backbone:318,"backbone.stickit":317,underscore:445}],250:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),a=e("underscore"),s=e("../option-builders/poll-option-item"),i=e("./question-item-view"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.template=function(){return a.template($("#poll-question-template").html())},t.prototype.events=function(){return a.extend({},i.prototype.events,{"click .quiz-option-radio":"selectedOptionListItem"})},t.prototype.initialize=function(){return a.bindAll(this,"render","addOptions","showFeedback","submitQuestion","selectedOptionListItem"),t.__super__.initialize.call(this)},t.prototype.render=function(){return t.__super__.render.call(this)},t.prototype.addOptions=function(){return a.each(this.model.get("choices"),function(e){return function(t){var o,r;return t.type="radio",o=new n.Model(t),r=new s({model:o}),e.$(".quiz-options-list").append(r.show())}}(this))},t.prototype.selectedOptionListItem=function(e){if(!this.questionBlocked())return $(".quiz-options-list-item").removeClass("selected"),this.$(e.currentTarget).closest(".quiz-options-list-item").addClass("selected")},t.prototype.submitQuestion=function(e){var o,n;return e.preventDefault(),this.validate()?(n=parseInt(this.$("input[type=radio]:checked")[0].id),o={questionSessionId:this.model.get("id"),answer:[{
id:n}]},t.__super__.submitQuestion.call(this,o,function(e){return function(t){if(!t)return e.$(".quiz-options-list-item.selected").addClass("previous-selected")}}(this))):void this.showError()},t.prototype.blockQuestion=function(){return this.questionBlocked()&&(this.$(".quiz-options-list-item").addClass("no-hover"),this.$(".quiz-option-radio").attr("disabled","disabled")),t.__super__.blockQuestion.call(this)},t.prototype.showError=function(){return t.__super__.showError.call(this)},t.prototype.validate=function(){return this.$("input[type=radio]:checked").length},t.prototype.showFeedback=function(){var e,o;return o=this.model.get("choiceResponse"),this.$(".percentage-div").removeClass("hide"),e=0,a.each(this.$("label"),function(e){var t,n;if(t=parseInt($(e).attr("for")),n=a.find(null!=o?o.choices:void 0,function(e){return e.id===t}),n&&($(e).find(".percentage-div").css("width",n.percentage+"%"),$(e).find(".poll-option-list-item").addClass("poll-option-list-item-active"),$(e).find(".quiz-option-radio").prop("readonly","true"),$(e).find(".quiz-option-radio").addClass("poll-option-radio"),$(e).find(".percentage-div").text(n.percentage+"%"),n.selected))return $(e).find(".quiz-option-radio").prop("checked",!0)}),o.message&&(this.$(".viewer-special-message").text(o.message),this.$(".viewer-special-message").removeClass("hide")),t.__super__.showFeedback.call(this)},t}(i),t.exports=r},{"../option-builders/poll-option-item":220,"./question-item-view":251,backbone:318,"backbone.stickit":317,underscore:445}],251:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;r=e("backbone"),e("backbone.stickit"),d=e("underscore"),n=e("../../../models/answer-model"),u=e("../../../models/user-model"),i=e("../../../models/config-model"),c=e("../../zoom-image-support"),l=e("../../video-feedback-view"),a=e("../../text-feedback-view"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.className="question hide",t.prototype.bindings={".question-name":"name",".question-data":"data",".textarea-quiz-box":{observe:"textAnswer",onGet:function(){var e;return null!=(e=this.model.get("textAnswer"))?e.answer:void 0}},".quiz-number-box":{observe:"numericAnswer",onGet:function(){var e;return null!=(e=this.model.get("numericAnswer"))?e.answer:void 0}},".quiz-attempt-count":{observe:"attemptsUsed",onGet:function(){var e;return this.model.get("attemptsUsed")?(e=this.model.get("canProceed")?this.model.get("attemptsUsed"):this.model.get("attemptsUsed")+1,e+" of "+this.model.get("attemptsAllowed")):"1 of "+this.model.get("attemptsAllowed")}},".feedback":"feedback",".correct-feedback":"feedbackCorrect",".max-words-count":{observe:"config",onGet:function(){var e;return null!=(e=this.model.get("config"))?e.maxWordsInTextAnswer:void 0}},".min-words-count":{observe:"config",onGet:function(){var e;return null!=(e=this.model.get("config"))?e.minWordsInTextAnswer:void 0}},".view-video-solution-wrapper":{observe:["videoFeedbackId","canProceed"],update:function(e,t){return t[0]&&t[1]?e.removeClass("hide"):e.addClass("hide")}}},t.prototype.events={click:"stopPropagation","click .submit-question":"submitQuestion","click .quiz-interaction-finish-button":"playVideoAfterQuiz","click .next-question":"activateNextQuestion","click .edit-response":"unblockQuestion","click .skip-code-editor":"activateNextQuestion","click .image-editor":"openImageModal","click .close-image-modal":"closeImageModal","click .view-video-solution-wrapper":"showVideoSolution","click .view-text-solution-wrapper":"showTextSolution","keydown .textarea-quiz-box":"stopPropagation"},t.prototype.initialize=function(){return d.bindAll(this,"render","submitQuestion","destroy","activateQuestion","activateNextQuestion","activatePreviousQuestion","showContinueButton"),this.listenTo(this.model,"activateMe",this.activateQuestion),this.listenTo(this.model,"deactivateMe",this.deactivateQuestion),this.listenTo(this.model,"activateNextQuestion",this.activateNextQuestion),this.listenTo(this.model,"activatePreviousQuestion",this.activatePreviousQuestion),this.listenTo(this.model,"change:isBlocked",this.blockQuestion),this.listenTo(this.model,"change:canProceed",this.blockQuestion),this.listenTo(this.model,"show-continue-button",this.showContinueButton),this.listenTo(this.model,"remove-question",this.destroy),this.listenTo(this.model,"show-feedback",this.showFeedback),this.bindZoomSupportMethods()},t.prototype.stopPropagation=function(e){return e.stopPropagation()},t.prototype.showVideoSolution=function(e){return r.trigger("video-feedback:show",e,$("body"),"segment",this.model)},t.prototype.showTextSolution=function(e){return r.trigger("text-feedback:show",e,this.$el,"segment",this.model)},t.prototype.disableNextButton=function(){return this.model.get("quiz").trigger("disableNextButton")},t.prototype.disablePreviousButton=function(){return this.model.get("quiz").trigger("disablePreviousButton")},t.prototype.enableNextButton=function(){return this.model.get("quiz").trigger("enableNextButton")},t.prototype.enablePreviousButton=function(){return this.model.get("quiz").trigger("enablePreviousButton")},t.prototype.render=function(){return this.$el.html(this.template()(this.model.toJSON())),this.addOptions&&this.addOptions(),this.$(".quiz-attempt-text").html("Attempt "),this.stickit(),this.blockQuestion(),this.addWordCountListener&&this.addWordCountListener(),r.trigger(r.E.MATHJAX_TYPESET_DOM,this.$el),"timed"===this.model.get("quiz").get("quizType")&&this.showFeedback(),this.$el},t.prototype.activateQuestion=function(){return this.enablePreviousNext(),this.model.get("quiz").trigger("update-count",this.model),this.$el.removeClass("hide"),setTimeout(function(e){return function(){var t,o;return o=e.$(".video-body").height(),t=350-parseInt(o)+"px",e.$(".answers-list").css("max-height",t)}}(this),0)},t.prototype.updateEditable=function(){if(this.model.get("canProceed")&&this.model.get("isEditable"))return this.$(".edit-response").removeClass("hide")},t.prototype.deactivateQuestion=function(){return this.$el.addClass("hide")},t.prototype.activateNextQuestion=function(e){var t;return e&&e.preventDefault()&&e.stopPropagation(),t=1,this.model.get("quiz").trigger("activate-next-question",this.model,t)},t.prototype.activatePreviousQuestion=function(e){var t;return e&&e.stopPropagation(),t=-1,this.model.get("quiz").trigger("activate-previous-question",this.model,t)},t.prototype.playVideo=function(e){return e.stopPropagation(),this.model.get("quiz").trigger("deactivate")},t.prototype.hide=function(){return this.$el.addClass("hide")},t.prototype.questionBlocked=function(){return this.model.get("canProceed")},t.prototype.enablePreviousNext=function(){var e,t;return t=this.model.get("quiz").get("questionSessions"),e=t.indexOf(this.model),e>0?this.enablePreviousButton():this.disablePreviousButton(),u.isTeacher()||this.questionBlocked()?this.enableNextButton():this.disableNextButton()},t.prototype.blockQuestion=function(){var e;if(this.model.get("canProceed"))return e=this.model.get("quiz"),this.updateEditable(),this.$el.addClass("blocked"),this.$(".textarea-quiz-box").removeClass("active"),this.showFeedback(),e.trigger("progress-on-quiz-complete",this.model),"code"!==this.model.get("type")&&this.$(".submit-question").addClass("hide"),1!==e.get("questionSessions").length?this.showContinueButton():e.trigger("show-continue-button-if-video",this.model)},t.prototype.showContinueButton=function(){return this.$(".next-question").removeClass("hide")},t.prototype.unblockQuestion=function(){return this.$el.removeClass("blocked"),this.edittingResponse=!0,this.$(".submit-question").removeClass("hide"),this.$(".next-question,.edit-response").addClass("hide")},t.prototype.submitQuestion=function(e,t,o){var s,a;return i.checkCoursePermission("assessment","create")?(o=o?o:".submit-question",this.$(o).addClass("loading"),s=new n(e),s.save({},{success:function(e){return function(n){var i;if(i=n.get("choices"),delete n.id,e.model.set(n.attributes),u.isTeacher()&&e.model.set("choices",i),e.$(o).removeClass("loading"),e.model.set("isCorrect",n.get("isCorrect")),e.questionBlocked()&&e.enableNextButton(),e.model.get("quiz").trigger("track-question-complete",e.model),t&&t(n.get("isCorrect"),!0),e.showFeedback(),r.trigger(r.E.MATHJAX_TYPESET_DOM,e.$el),e.questionBlocked())return e.blockQuestion(),e.edittingResponse=!1}}(this),error:function(e){return function(n,i){if(r.ERR.SHOW(i),e.$(o).removeClass("loading"),t)return t(i,null)}}(this)})):(a={responseJSON:{errorList:[{errorMessage:"You do not have permission to answer any questions."}]}},r.ERR.SHOW(a))},t.prototype.showError=function(){return this.$(".error").removeClass("hide"),setTimeout(function(e){return function(){return e.$(".error").addClass("hide",3e3)}}(this))},t.prototype.showFeedback=function(){return this.$(".feedback").removeClass("hide")},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(r.View),d.extend(s.prototype,c),t.exports=s},{"../../../models/answer-model":45,"../../../models/config-model":54,"../../../models/user-model":87,"../../text-feedback-view":118,"../../video-feedback-view":119,"../../zoom-image-support":292,backbone:318,"backbone.stickit":317,underscore:445}],252:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),a=e("underscore"),i=e("../option-builders/scq-option-item"),r=e("./question-item-view"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.className="question hide",t.prototype.template=function(){return a.template($(this.templateEl||"#scq-template").html())},t.prototype.events=function(){return a.extend({},r.prototype.events,{"click .quiz-option-radio":"selectedOptionListItem"})},t.prototype.initialize=function(e){return a.bindAll(this,"render","submitQuestion","selectedOptionListItem"),this.templateEl=e.templateEl,t.__super__.initialize.call(this)},t.prototype.render=function(){return t.__super__.render.call(this)},t.prototype.addOptions=function(){return a.each(this.model.get("choices"),function(e){return function(t){var o,r;return t.type="radio",o=new n.Model(t),r=new i({model:o}),e.$(".quiz-options-list").append(r.show())}}(this))},t.prototype.blockQuestion=function(){return this.questionBlocked()&&(this.$(".quiz-option-radio").attr("disabled","disabled"),this.$(".quiz-options-list-item").addClass("no-hover")),t.__super__.blockQuestion.call(this)},t.prototype.selectedOptionListItem=function(e){return $(".quiz-options-list-item").removeClass("selected"),this.$(e.currentTarget).closest(".quiz-options-list-item").addClass("selected")},t.prototype.submitQuestion=function(e){var o,n;return e.preventDefault(),this.validate()?(n=parseInt(this.$("input[type=radio]:checked")[0].id),o={questionSessionId:this.model.get("id"),answer:[{id:n}]},t.__super__.submitQuestion.call(this,o,function(e){return function(t){if(!t)return e.$(".quiz-options-list-item").removeClass("previous-selected"),e.$(".quiz-options-list-item.selected").addClass("previous-selected")}}(this))):void this.showError()},t.prototype.showError=function(){return t.__super__.showError.call(this)},t.prototype.validate=function(){return this.$("input[type=radio]:checked").length},t.prototype.showFeedback=function(){var e,o,r;return this.$(".quiz-options-list-item").removeClass("right wrong feedback"),this.$(".option-feedback").addClass("hide"),this.model.get("isCorrect")?(this.$(".answer-status-incorrect").addClass("hide"),this.$(".answer-status-correct").removeClass("hide")):this.model.get("isCorrect")===!1?(this.$(".answer-status-correct").addClass("hide"),this.$(".answer-status-incorrect").removeClass("hide"),this.model.get("canProceed")||this.$(".selected input").prop("checked",!1)):null===this.model.get("isCorrect")&&this.model.get("isTimed")&&"answer_frozen"===this.model.get("status")&&(this.$(".answer-status-correct").addClass("hide"),this.$(".answer-status-incorrect").removeClass("hide")),e=null!=(r=this.model.get("choiceResponse"))?r.choices:void 0,o=this.model.get("canProceed"),a.each(e,function(e){return function(t){var n,r,i;if(n=e.$("#"+t.id).parent(),(t.correct||t.selected)&&(t.selected&&n.find(".quiz-option-radio").prop("checked",!0),i=n.find(".option-feedback"),i.find(".option-feedback-text").html(t.feedback),t.feedback&&(i.removeClass("hide"),i.closest(".quiz-options-list-item").addClass("feedback"))),o&&(t.correct?(e.$(".quiz-options-list-item").removeClass("previous-selected"),n.addClass("right")):t.selected&&n.addClass("wrong"),t.selected))return r=e.$("#"+t.id),r.prop("checked",!0),r.closest(".quiz-options-list-item").addClass("selected")}}(this)),n.trigger(n.E.MATHJAX_TYPESET_DOM,this.$el),t.__super__.showFeedback.call(this)},t}(r),t.exports=s},{"../option-builders/scq-option-item":221,"./question-item-view":251,backbone:318,"backbone.stickit":317,underscore:445}],253:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g=function(e,t){function o(){this.constructor=e}for(var n in t)y.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},y={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),m=e("underscore"),s=e("./question-item-view"),h=e("../user-image-initials-support"),f=e("../../../models/user-model"),u=e("../../../models/shared-model"),r=e("../../../models/config-model"),a=e("../../../collections/sessions"),i=e("../../../collections/modules"),d=e("../../../collections/user-group-collection"),p=e("../sessions/user-group-view"),c=e("./submission-time-taken-modal"),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.template=function(){return m.template($("#submission-question-template").html())},t.prototype.userImageSelector=".user-image",t.prototype.events=function(){return m.extend({},s.prototype.events,{"change .submission-file-input":"submitQuestion","change .reupload-file-input":"submitQuestion","click .save-url-input":"submitQuestion","click .submit-for-grading":"showConfirmModal","click .delete-submission":"showConfirmModal","click .edit-url-input":"editUrlSubmission","click .submission-final-btn":"submitFinal","click .submission-delete-btn":"deleteSubmission"})},t.prototype.initialize=function(){var e,o;return m.bindAll(this,"render","submitQuestion"),this.listenTo(this.model,"checkSubmissionAndMakeProgressCall",this.updateSubmissionComponentProgress),this.isNewSubmissionFlow=null!=(e=u.get("courseConfiguration"))&&null!=(o=e.featureFlags)?o.submissionLocking:void 0,t.__super__.initialize.call(this)},t.prototype.showConfirmModal=function(e){return e.preventDefault(),$(e.currentTarget).hasClass("submit-for-grading")?(this.$(".submission-action-delete").addClass("hide"),this.$(".submission-action-submit").removeClass("hide")):$(e.currentTarget).hasClass("delete-submission")&&(this.$(".submission-action-submit").addClass("hide"),this.$(".submission-action-delete").removeClass("hide")),this.$(".submission-action-modal").modal("show")},t.prototype.render=function(){var e,o;return t.__super__.render.call(this),"url"===this.submissionType()&&this.initializeUrlValidator(),this.showSubmissionType(),this.showActionButtons(),(null!=(e=this.model.get("submissionResponse"))?e.isSubmissionFinal:void 0)&&this.isNewSubmissionFlow?this.showSubmittedState():(null!=(o=this.model.get("submissionResponse"))?o.url:void 0)?this.showSavedState():this.showInitialState(),this.addSampleFile(),this.addExhibitFile(),this.$(".submission-details-block").removeClass("hide"),this.showDeadlineMessages(),this.$el},t.prototype.questionBlocked=function(){var e,t,o;return e=this.isNewSubmissionFlow&&(null!=(o=this.model.get("submissionResponse"))?o.isSubmissionFinal:void 0),t=!this.isNewSubmissionFlow&&this.model.get("submissionResponse"),e||t},t.prototype.showTeamMembers=function(){if(this.$(".group-members").removeClass("hide"),!this.teamView)return this.teamView=new p,this.$(".team-members").html(this.teamView.render())},t.prototype.showAcceptedFormats=function(){var e,t;if(this.$(".accepted-formats-list").html(""),(null!=(e=this.model.get("submissionConfig").fileTypes)?e.indexOf("any"):void 0)===-1)return this.$(".accepted-formats-list").text("Acceptable Formats: "),t=this.model.get("submissionConfig").fileTypes.toString(),this.$(".accepted-formats-list").append(t.replace(/\,/g,", "))},t.prototype.showActionButtons=function(){var e;return this.$(".action-btns button").addClass("hide"),e=this.getDeadlineState(),"missed"===(null!=e?e.state:void 0)&&this.$(".submit-text").text("SUBMIT FOR FEEDBACK"),this.model.get("isGraded")||this.$(".submit-text").text("SUBMIT"),this.isNewSubmissionFlow?this.$(".submit-for-grading,.delete-submission").removeClass("hide"):(this.$(".delete-submission").addClass("hide"),this.$(".reupload-file-input-btn").removeClass("hide"))},t.prototype.submissionType=function(){return this.type?this.type:this.model.get("submissionConfig").fileTypes.indexOf("url")===-1?this.type="file":this.type="url"},t.prototype.submittedBefore=function(e){var t,o;return!(null==(o=this.model.get("submissionResponse"))||!o.isSubmissionFinal)&&(t=n.F.courseTimezoneDate(this.model.get("lastModifiedAtTz")),t<=e)},t.prototype.showSubmissionType=function(){if("url"===this.submissionType()?(this.$(".file-submission-block").addClass("hide"),this.$(".url-submission-block").removeClass("hide")):(this.$(".file-submission-block").removeClass("hide"),this.$(".url-submission-block").addClass("hide")),this.model.get("quiz").get("isGroup")&&f.isStudent())return this.showTeamMembers(),this.$(".group-submission-message").removeClass("hide")},t.prototype.showDeadlineMessages=function(){var e,t,o,n,r,i,s,a;if(o=this.getDeadlineState(),n=null!=(r=u.get("courseConfiguration"))&&null!=(i=r.assessmentConfiguration)?i.gradePenalty:void 0,null===n&&(n=30),o&&(e=this.getFormattedDateString(o.deadline1.toISOString(),!1),t=this.getFormattedDateString(o.deadline2.toISOString(),!1),this.$(".deadline-1").text(e),o&&this.isNewSubmissionFlow))switch(a="url"===this.submissionType()?"link":"file",s=this.model.get("isGraded")?"sent for grading":"submitted",this.$(".deadline-feedback-message-2").html("Once "+s+", the "+a+" <b>CANNOT</b> be removed or changed."),o.state){case"onTime":return this.$(".deadline-feedback-message").html("The "+a+" will be automatically "+s+" on <b>"+e+"</b> unless removed.");case"overdue":if(this.$(".deadline-feedback-message").html("The "+a+" will be automatically "+s+" on <b>"+t+"</b> unless removed."),!this.submittedBefore(o.deadline1))return this.$(".note-message").html("Note: "+n+"% penalty on total marks obtained will be applied on submissions between "+e+" and "+t).addClass("color-yellow");break;case"missed":if(this.model.get("isGraded")&&(this.$(".deadline-feedback-message").html("The "+a+" will be sent for feedback only after it is submitted."),this.$(".deadline-feedback-message-2").html("Once sent for feedback, the "+a+" <b>CANNOT</b> be removed or changed."),!this.submittedBefore(o.deadline2)))return this.$(".note-message").text("Note: Any submissions after "+t+" will only be given feedback and not be graded.").addClass("color-red")}},t.prototype.showMissedOverdue=function(){var e;switch(e=this.getDeadlineState(),null!=e?e.state:void 0){case"overdue":return this.$(".due-status.overdue").removeClass("hide");case"missed":return this.$(".due-status.missed").removeClass("hide")}},t.prototype.hideMissedOverdue=function(){return this.$(".due-status").addClass("hide")},t.prototype.getDeadlineDates=function(){var e,t,o;return e=null!=(o=i.get(u.get("moduleId")))?o.get("deadlineIso"):void 0,t={deadline1:n.F.courseTimezoneDate(e),deadline2:n.F.courseTimezoneDate(moment(e).add(7,"days"))}},t.prototype.getDeadlineState=function(){var e,t,o;return e=(null!=(o=this.model.get("submissionResponse"))?o.isSubmissionFinal:void 0)?n.F.courseTimezoneDate(this.model.get("lastModifiedAtTz")):moment(),t=this.getDeadlineDates(),e<=t.deadline1?(t.state="onTime",t):e>t.deadline1&&e<=t.deadline2?(t.state="overdue",t):e>t.deadline2?(t.state="missed",t):void 0},t.prototype.editUrlSubmission=function(e){return e.preventDefault(),this.showInitialState()},t.prototype.showInitialState=function(e){var t;return null!=e&&e.preventDefault(),this.isNewSubmissionFlow&&this.showMissedOverdue(),this.showAcceptedFormats(),"url"===this.submissionType()?(this.$(".submission-url-input").val(null!=(t=this.model.get("submissionResponse"))?t.url:void 0),this.$(".submission-url-input").prop("disabled",!1),this.$(".save-url-input").removeClass("hide"),this.$(".edit-url-input,.submit-for-grading,.submission-message-container").addClass("hide")):(this.$(".submission-state,.submission-message-container").addClass("hide"),this.$(".upload-block").removeClass("hide"))},t.prototype.showSavedState=function(){var e,t,o,n,r,i,s,a,u;if(this.isNewSubmissionFlow?(this.$(".submit-for-grading").removeClass("hide"),this.showMissedOverdue()):(this.$(".submit-for-grading").addClass("hide"),this.$(".reupload-file-input-btn").removeClass("hide")),"url"===this.submissionType()?(this.$(".submission-url-input").val(null!=(r=this.model.get("submissionResponse"))?r.url:void 0),this.$(".submission-url-input").prop("disabled",!0),this.$(".save-url-input").addClass("hide"),this.$(".edit-url-input").removeClass("hide"),this.$(".submission-filename").text(null!=(i=this.model.get("submissionResponse"))?i.url:void 0)):(null!=(s=this.model.get("submissionResponse"))?s.url:void 0)&&(o=new Date(1e3*parseFloat(this.model.get("lastModifiedAt"))).toISOString(),t=null!=(a=this.model.get("submissionResponse"))?a.url.split("/"):void 0,n=t[t.length-1],n&&(n=decodeURIComponent(n)),this.$(".submission-filename").attr("href",null!=(u=this.model.get("submissionResponse"))?u.url:void 0),this.$(".submission-filename").attr("download",n),this.$(".submission-filename").attr("title",n),this.$(".submission-filename").text(n),this.$(".submission-state").addClass("hide"),this.$(".submit-block").removeClass("hide")),e="url"===this.submissionType()?"Added on ":"Uploaded on ",this.$(".uploaded-date").text(e+this.getFormattedDateString(this.model.get("lastModifiedAtTz"),!1)),this.addSubmissionUser(),this.isNewSubmissionFlow)return this.$(".submission-message-container").removeClass("hide")},t.prototype.getFormattedDateString=function(e,t){return null==t&&(t=!0),n.F.formattedDateWithTimezone(e,{format:"DD MMMM YYYY hh:mm A",removeTimeZoneAbbr:t})},t.prototype.showSubmittedState=function(){var e;return this.hideMissedOverdue(),"url"===this.submissionType()&&this.$(".submission-filename").attr("href",null!=(e=this.model.get("submissionResponse"))?e.url:void 0),this.$(".submission-state,.submission-message-container").addClass("hide"),this.$(".submitted-block").removeClass("hide"),this.$(".submission-date").text("Submitted on "+this.getFormattedDateString(this.model.get("lastModifiedAtTz"),!1)),this.addSubmissionUser()},t.prototype.addSubmissionUser=function(){var e,t;if((null!=(e=this.model.get("submissionResponse"))?e.submittedBy:void 0)&&this.model.get("quiz").get("isGroup"))return this.$(".submission-user").text("by "+(null!=(t=this.model.get("submissionResponse").submittedBy)?t.name:void 0))},t.prototype.addSampleFile=function(){var e;if(e=this.model.get("submissionConfig").sampleFile)return this.addFile(e,"sample-file")},t.prototype.addExhibitFile=function(){var e,t;if(e=null!=(t=this.model.get("submissionConfig").exhibitFiles)?t[0]:void 0)return this.addFile(e,"exhibit-file")},t.prototype.addFile=function(e,t){var o,n,r;return n=this.$("."+t+"-name"),n.attr("href",e),o=e.split("/"),r=o[o.length-1],r=decodeURIComponent(r),n.text(r),n.attr("download",e),n.attr("title",e),this.$(".downloads-detail,."+t+"-container").removeClass("hide")},t.prototype.uploadFile=function(e,t){var o;if(this.$(e)[0].files[0])return o=new FormData,o.append("file",this.$(e)[0].files[0]),$.ajax({url:n.C.MEDIA_PATH()+"/file/upload",type:"POST",data:o,processData:!1,contentType:!1}).done(function(e){return function(e,o,n){if(e=JSON.parse(e),e.success&&t)return t(e.data.url)}}(this)).fail(function(e){return function(e,t,o){var r;return r={responseJSON:{errorList:[{errorMessage:"Something went wrong. Please try again."}]}},n.ERR.SHOW(r)}}(this))},t.prototype.clearErrorFeedback=function(){return this.$(".file-size-error, .file-type-error, .deadline-expired").addClass("hide")},t.prototype.validateAnswer=function(e){var t,o,n,r;return"file"!==this.submissionType()?this.$(".submission-url-input").valid():(this.clearErrorFeedback(),!!(n=this.$(e.currentTarget)[0].files[0])&&(n.size>5e7?(this.$(".file-size-error").removeClass("hide"),!1):(t=this.model.get("submissionConfig").fileTypes,t.indexOf("any")!==-1||(r=n.name,o=r.split(".")[r.split(".").length-1].toLowerCase(),t.indexOf(o)!==-1||(this.$(".file-type-error").removeClass("hide"),!1)))))},t.prototype.initializeUrlValidator=function(){return this.$("form").validate({rules:{"submission-url-input":{url:!0}},messages:{"submission-url-input":"Please enter a valid URL. eg: http://www.example.com/myfile.pdf"},errorPlacement:function(e,t){return e.appendTo(t.closest(".upload-block").find(".validation-error-container"))}})},t.prototype.submitQuestion=function(e){var o,i;if(e.preventDefault(),!r.checkCoursePermission("assessment","create"))return i={responseJSON:{errorList:[{errorMessage:"You do not have permission to answer any questions."}]}},void n.ERR.SHOW(i);if(this.validateAnswer(e)){if(n.F.SHOW_LOADER("upload-submission",this.$(".loader-container")),"file"===this.submissionType())this.uploadFile(e.currentTarget,function(e){return function(o){var r;return r={questionSessionId:e.model.get("id"),answer:[{url:o}],moduleId:u.get("moduleId"),type:e.model.get("type"),quizId:e.model.get("quiz").get("id"),lastModifiedAt:e.model.get("lastModifiedAtTz")},t.__super__.submitQuestion.call(e,r,function(t,o){return n.F.HIDE_LOADER("upload-submission",e.$(".loader-container")),t?n.ERR.SHOW(t):(e.updateSubmissionComponentProgress(),e.showDeadlineMessages(),e.trackSubmission("Upload Submission"))})}}(this));else{if(this.$(".submission-url-input").val().length<1)return void this.deleteSubmission();if(!this.$(".submission-url-input").valid())return;o={questionSessionId:this.model.get("id"),answer:[{url:this.$(".submission-url-input").val()}],moduleId:u.get("moduleId"),type:this.model.get("type"),quizId:this.model.get("quiz").get("id"),lastModifiedAt:this.model.get("lastModifiedAtTz")},t.__super__.submitQuestion.call(this,o,function(e){return function(t,o){return n.F.HIDE_LOADER("upload-submission",e.$(".loader-container")),t?n.ERR.SHOW(t):(e.$(".submission-url-input").focus(),e.$(".submission-url-input").select(),e.updateSubmissionComponentProgress(),e.trackSubmission("Upload Submission"))}}(this))}return this.$(".submission-file-input,.reupload-file-input").val("")}},t.prototype.updateSubmissionComponentProgress=function(e){var t,o;return t=(null!=(o=this.model.get("submissionResponse"))?o.isSubmissionFinal:void 0)||!this.isNewSubmissionFlow?100:50,this.model.get("quiz").trigger("mark-component-completion",t)},t.prototype.trackSubmission=function(e){var t;return n.T.MIXPANEL_TRACK(e,{"Submission Name":this.model.get("quiz").get("title"),"Submission Id":this.model.get("id").toString(),"Is Group Submission":this.model.get("quiz").get("isGroup"),"Deadline Date":null!=(t=this.getDeadlineDates())?t.deadline2.toISOString():void 0})},t.prototype.showTimeTakenModal=function(){var e;return e=new n.Model({submissionId:this.model.get("componentModelId")}),e.fetch({url:n.C.MEDIA_PATH()+"/v2/submissions/feedback/cannedresponses",data:$.param({courseId:u.get("courseId")}),success:function(e){return function(t){var o;return o=new c({model:t,el:e.$(".submission-time-taken-modal-container")}),o.show()}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},t.prototype.submitFinal=function(e){var t,o,r,i;return e.preventDefault(),i=n.C.ASSESSMENT_PATH()+"/v2/questionsession/answer/freeze/",r=function(e){return function(t){var o;if(null!=(o=e.model.get("submissionResponse"))&&(o.isSubmissionFinal=t.isSubmissionFinal),e.model.set("status",t.status),e.updateSubmissionComponentProgress(),e.showSubmittedState(),e.trackSubmission("Freeze Submission"),f.isStudent())return e.showTimeTakenModal()}}(this),o=function(e){return function(e,t){return n.ERR.SHOW(e)}}(this),t={questionSessionId:this.model.get("id"),lastModifiedAt:this.model.get("lastModifiedAtTz")},n.F.AJAX("POST",i,r,o,JSON.stringify(t),!1,"application/json")},t.prototype.deleteSubmission=function(){var e,t,o,r;return r=n.C.ASSESSMENT_PATH()+"/v2/questionsession/answer/delete/",n.F.SHOW_LOADER("upload-submission",this.$(".loader-container")),o=function(e){return function(t){return n.F.HIDE_LOADER("upload-submission",e.$(".loader-container")),e.model.set({submissionResponse:void 0,lastModifiedAtTz:t.lastModifiedAtTz,lastModifiedAt:t.lastModifiedAt,status:t.status}),e.showInitialState(),e.trackSubmission("Remove Submission File")}}(this),t=function(e){return function(t,o){return n.F.HIDE_LOADER("upload-submission",e.$(".loader-container")),n.ERR.SHOW(t)}}(this),e={questionSessionId:this.model.get("id"),lastModifiedAt:this.model.get("lastModifiedAtTz")},n.F.AJAX("DELETE",r,o,t,JSON.stringify(e),!1,"application/json")},t.prototype.showFeedback=function(){return this.showSavedState()},t}(s),m.extend(l.prototype,h),t.exports=l},{"../../../collections/modules":26,"../../../collections/sessions":33,"../../../collections/user-group-collection":36,"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,"../sessions/user-group-view":267,"../user-image-initials-support":275,"./question-item-view":251,"./submission-time-taken-modal":254,backbone:318,"backbone.stickit":317,underscore:445}],254:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),e("backbone.stickit"),i=e("underscore"),n.$=$,e("backbone.stickit"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.template=function(){return i.template($("#submission-time-taken-modal").html())},t.prototype.bindings={".time-taken":"timeTaken",".time-taken-options-container":{observe:"options",update:function(e,t,o,n){var r,s;return s=i.template($("#time-taken-option").html()),r="",i.each(t,function(e,t){return r+=s({key:t,value:e})}),e.html(r)}},".time-taken-option":"feedback"},t.prototype.events={"click .submission-time-taken-submit":"onTimeSubmit","shown.bs.modal .submission-time-taken-modal":"expandModal","change .time-taken-option":"onTimeChange"},t.prototype.initialize=function(){return i.bindAll(this,"show","render")},t.prototype.show=function(){return this.$el.html(this.template()()),this.stickit(),this.$(".submission-time-taken-modal").modal("show"),this.$el},t.prototype.expandModal=function(){return window.setTimeout(function(e){return function(){return e.$(".time-taken-container").addClass("expand-modal")}}(this),500)},t.prototype.onTimeChange=function(){return this.$(".submission-time-taken-submit").removeAttr("disabled").removeClass("disabled")},t.prototype.onTimeSubmit=function(){var e,t;if(this.model.get("feedback"))return t=n.C.MEDIA_PATH()+"/v2/submissions/feedback",e={submissionId:this.model.get("submissionId"),feedback:this.model.get("feedback")},n.F.AJAX("POST",t,null,null,JSON.stringify(e),!1,"application/json")},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=r},{backbone:318,
"backbone.stickit":317,underscore:445}],255:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m=function(e,t){function o(){this.constructor=e}for(var n in t)g.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},g={}.hasOwnProperty;n=e("backbone"),f=e("underscore"),n.$=$,e("backbone.stickit"),d=e("../../collections/quizzes"),h=e("../../models/user-model"),p=e("../../models/shared-model"),l=e("../../models/quiz-model"),a=e("../../collections/questions"),c=e("./quiz-score-item-view"),r=e("../../models/content-discussion-question"),i=e("../../collections/content-discussion-answers"),s=e("./../helpers/helper-methods"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.className="quiz-viewer hide",t.prototype.bindings={".quiz-title":"title",".quiz-title-input":"title",".active-question-count":"currentQuestionCount",".total-question-count":"questionCount"},t.prototype.template=function(){return f.template($("#quiz-viewer-template").html())},t.prototype.events={"click .back-to-questions":"backToQuestions","click .play-video":"hideQuizAndPlayVideo","click .continue-video-button":"hideQuizAndPlayVideo","click .quiz-interaction-next-button":"activateNextQuestion","click .quiz-interaction-previous-button":"activatePreviousQuestion","click .silp-btn-explore-program":"silpExploreProgram","click .doselect-full-screen-button":"openFullScreenModal","hidden.bs.modal .doselect-fullscreen":"hideFullScreenModal"},t.prototype.initialize=function(e){return f.bindAll(this,"render","getFirstQuizQuestion","hideQuizAndPlayVideo","updateCount","updateQuizProgress","hideQuizScore","showQuizScore","markComponentCompletion","hidePagination","trackQuestionComplete","trackQuizCompleted","enableNextButton","enablePreviousButton","activateNextQuestion","activatePreviousQuestion","disableNextButton","disablePreviousButton","checkIfVideoAndContinue","makeComponentProgressCall","checkIfLastQuestion","silpExploreProgram"),this.listenTo(this.model,"appendViewerQuestion",this.appendQuestion),this.listenTo(this.model,"show",this.showQuiz),this.listenTo(this.model,"activate-next-question",this.activateQuestion),this.listenTo(this.model,"activate-previous-question",this.activateQuestion),this.listenTo(this.model,"addViewerQuestions",this.addQuestions),this.listenTo(this.model,"deactivate",this.hideQuizAndPlayVideo),this.listenTo(this.model,"update-count",this.updateCount),this.listenTo(this.model,"hideScore",this.hideQuizScore),this.listenTo(this.model,"mark-component-completion",this.markComponentCompletion),this.listenTo(this.model,"progress-on-quiz-complete",this.makeComponentProgressCall),this.listenTo(this.model,"remove",this.destroy),this.listenTo(this.model,"track-question-complete",this.trackQuestionComplete),this.listenTo(this.model,"enableNextButton",this.enableNextButton),this.listenTo(this.model,"enablePreviousButton",this.enablePreviousButton),this.listenTo(this.model,"disableNextButton",this.disableNextButton),this.listenTo(this.model,"disablePreviousButton",this.disablePreviousButton),this.listenTo(this.model,"show-continue-button-if-video",this.checkIfVideoAndContinue),this.componentModel=e.componentModel,this.questions=this.model.get("questionSessions")},t.prototype.render=function(){return this.$el.html(this.template()()),this.stickit(),this.$el.addClass("quiz-"+this.model.cid),this.componentModel.trigger("addCuePoint",this.model),this.hidePagination(),this.hideElementsForForumQuiz(),n.trigger(n.E.MATHJAX_TYPESET_DOM,this.$el),"CODE_CONSOLE_DO_SELECT"===this.componentModel.get("subType")&&this.$(".doselect-full-screen-button").removeClass("hide"),this.$('[data-toggle="tooltip"]').tooltip(),/^\/[v]\//.test(window.location.pathname)||this.loadGradeStatus(),this.$el},t.prototype.loadGradeStatus=function(){var e,t,o,n,r;if(r=this.model.get("questionSessions"),o=r.pluck("isGraded"),t=0,e=0,f.each(o,function(o){return o?t++:e++}),n=this.model.get("questionCount"),t!==n&&e!==n)return this.$(".quiz-grade-tag").removeClass("hide")},t.prototype.hideSkip=function(){return this.$(".skip").addClass("hide")},t.prototype.showSkip=function(){return this.$(".skip").removeClass("hide")},t.prototype.hideElementsForForumQuiz=function(){if("forum"===this.model.get("quizType"))return this.$(".quiz-id").addClass("hide"),this.$(".quiz-heading-block").addClass("hide")},t.prototype.appendQuestion=function(e,t){return t&&this.$(".doselect-full-screen-button").addClass("hide"),this.$(".questions-list-container").append(e)},t.prototype.showQuiz=function(){return this.componentModel.set("activatedQuiz",this.model),$(".vjs-control-bar").addClass("active"),this.isVideoQuiz()?(this.$el.addClass("invideo-quiz"),this.$(".continue-video-button").removeClass("hide")):this.componentModel.isClassOpinion()?this.$el.addClass("class-opinion"):"submission"!==this.componentModel.get("type")&&this.$el.addClass("incontent-quiz"),this.showQuizStatus(),this.getFirstQuizQuestion(),this.$el.removeClass("hide"),this.setupProgressBar()},t.prototype.hideCompletionStatus=function(){var e,t,o,n;return n=this.componentModel.isVideo(),o=this.componentModel.isSubmission(),e=this.componentModel.isClassOpinion(),t=this.componentModel.isCodeQuiz(),n||o||e||t},t.prototype.showQuizStatus=function(){var e;return this.$('[data-toggle="tooltip"]').tooltip(),this.hideCompletionStatus()?void this.$(".component-incomplete .component-complete").addClass("hide"):100===(null!=(e=this.componentModel.get("progress"))?e.percentComplete:void 0)?(this.$(".component-incomplete").addClass("hide"),this.$(".component-complete").removeClass("hide")):(this.$(".component-complete").addClass("hide"),this.$(".component-incomplete").removeClass("hide"))},t.prototype.checkIfVideoAndContinue=function(e){if("quiz"!==this.componentModel.get("type"))return e.trigger("show-continue-button")},t.prototype.backToQuestions=function(){return this.hideQuizScore(),this.activateQuestion(this.model.get("questionSessions").models[0])},t.prototype.enableNextButton=function(){return this.$(".quiz-interaction-next-button").removeClass("disabled")},t.prototype.enablePreviousButton=function(){return this.$(".quiz-interaction-previous-button").removeClass("disabled")},t.prototype.disableNextButton=function(){return this.$(".quiz-interaction-next-button").addClass("disabled")},t.prototype.disablePreviousButton=function(){return this.$(".quiz-interaction-previous-button").addClass("disabled")},t.prototype.activateNextQuestion=function(){var e;if(this.model.get("currentQuestionCount")&&(e=this.model.get("questionSessions").models[this.model.get("currentQuestionCount")-1]))return e.trigger("activateNextQuestion")},t.prototype.activatePreviousQuestion=function(){var e,t;if(this.$(".quiz-score-container").addClass("hide"),this.model.get("currentQuestionCount"))if("summary"===this.model.get("currentQuestionCount")){if(t=this.model.get("questionSessions").models.length,e=this.model.get("questionSessions").models[t-1])return this.activateQuestion(e)}else if(e=this.model.get("questionSessions").models[this.model.get("currentQuestionCount")-1])return e.trigger("activatePreviousQuestion")},t.prototype.hideQuizAndPlayVideo=function(){var e;return this.$(".quiz-score-container").addClass("hide"),this.model.get("currentQuestionCount")&&(e=this.model.get("questionSessions").models[this.model.get("currentQuestionCount")-1],e&&e.trigger("deactivateMe")),this.componentModel.set("activatedQuiz",null),$(".vjs-control-bar").removeClass("active"),this.$el.addClass("hide"),this.componentModel.trigger("play")},t.prototype.getFirstQuizQuestion=function(){var e;if(e=this.model.get("questionSessions").findWhere({id:this.model.get("activeQuestion")}))return this.activateQuestion(e);if(this.isSubmissionQuiz()||this.isContentDiscussionQuiz()){if(e=this.model.get("questionSessions").first())return this.activateQuestion(e)}else{if(1!==this.model.get("questionSessions").length)return this.showQuizScore();if(e=this.model.get("questionSessions").first())return this.activateQuestion(e)}},t.prototype.activateQuestion=function(e,t){var o,n,r;return this.$(".quiz-heading-quiz-summary-text").addClass("hide"),this.$(".quiz-heading-title-text").removeClass("hide"),t?(o=this.questions.indexOf(e),n=o+t,n>=0&&(r=this.questions.at(o+t)),r?(r.trigger("activateMe"),e.trigger("deactivateMe")):t===-1?(e.trigger("deactivateMe"),this.componentModel.trigger("play")):1===t?(1===this.questions.length?this.isVideoQuiz()&&(this.hideQuizAndPlayVideo(),e.trigger("deactivateMe")):(this.showQuizScore(),e.trigger("deactivateMe")),this.makeComponentProgressCall(e),this.trackQuizCompleted()):void 0):e.trigger("activateMe")},t.prototype.appendQuestionResults=function(){var e,t,o,n,r,i;for(this.$(".score-main-section .list-items-container").empty(),e=1,i=this.score,t=0,o=i.length;t<o;t++)n=i[t],n.index="Question "+e,r=new c({model:n,questionModel:this.questions.where({questionId:n.questionId})[0],quiz:this.model}),e+=1,this.$(".score-main-section .list-items-container").append(r.show());if(this.$(".quiz-score-container .fetching-score").addClass("hide"),this.$(".quiz-score-container .score-card").removeClass("hide"),this.score.length>0)return this.$(".quiz-score-container .back-to-questions").removeClass("hide")},t.prototype.markComponentCompletion=function(e){var t;return this.componentModel.set("percentComplete",e),t=this.componentModel.get("progress")||{},t.percentComplete=e,this.componentModel.set("progress",t),this.showQuizStatus()},t.prototype.isVideoQuiz=function(){return"video"===this.componentModel.get("type")},t.prototype.isSubmissionQuiz=function(){return"submission"===this.componentModel.get("type")},t.prototype.isContentDiscussionQuiz=function(){return"forum"===this.model.get("quizType")},t.prototype.makeComponentProgressCall=function(e){if(this.checkIfLastQuestion(e)){if("quiz"===this.componentModel.get("type"))return this.markComponentCompletion(100);if("submission"===this.componentModel.get("type"))return this.componentModel.trigger("checkSubmissionAndMakeProgressCall",this.model);if("video"===this.componentModel.get("type"))return this.componentModel.trigger("checkVideoAndMakeProgressCall",this.model)}},t.prototype.checkIfLastQuestion=function(e){var t,o,n;return t=this.questions.indexOf(e),o=t+1,o>=0&&(n=this.questions.at(t+1)),!n},t.prototype.showQuizScore=function(e){var t;if(this.disableNextButton(),this.enablePreviousButton(),this.model.set("currentQuestionCount","summary"),this.$el.addClass("quiz-viewer-score"),this.$(".quiz-heading-block").removeClass("hide"),this.$(".quiz-heading-quiz-summary-text").removeClass("hide"),this.$(".quiz-heading-title-text").addClass("hide"),this.$(".active-progress-bar").css("width","100%"),t=this.model.get("questionSessions"),t?(this.score=[],t.each(function(e){return function(t){if("pending"!==t.get("status"))return e.score.push({questionId:t.get("questionId"),questionTitle:t.get("title"),isCorrect:null===t.get("isCorrect")?"submitted":t.get("isCorrect"),type:t.get("type")})}}(this)),this.isVideoQuiz()&&this.$(".play-video").removeClass("hide"),this.$(".fetching-score").addClass("hide"),this.appendQuestionResults()):(this.$(".fetching-score").addClass("hide"),this.$(".reload-message-in-quiz-score").removeClass("hide")),$(".vjs-control-bar").addClass("active"),this.$(".quiz-score-container").removeClass("hide"),this.isVideoQuiz())return this.$(".quiz-score-container").addClass("video-quiz-score-container")},t.prototype.trackQuizCompleted=function(){var e;return e={"Quiz Id":this.model.get("id"),Segment:this.componentModel.get("segmentId"),Source:this.componentModel.get("type")},n.T.MIXPANEL_TRACK("Quiz Complete",e),n.T.MIXPANEL_INCREMENT_PROPERTY("Quizzes completed")},t.prototype.hideQuizScore=function(){return this.$el.removeClass("quiz-viewer-score"),$(".vjs-control-bar").removeClass("active"),this.$(".quiz-heading-quiz-summary-text").addClass("hide"),this.$(".quiz-heading-title-text").removeClass("hide"),this.$(".quiz-score-container").addClass("hide")},t.prototype.addQuestions=function(){return this.$(".question").remove(),this.questions.each(function(e){return function(t){return t.set("componentModelId",e.componentModel.id),t.set("isClassOpinion",e.componentModel.isClassOpinion()),n.trigger(n.E.INIT_QUESTION_ITEM,t)}}(this))},t.prototype.setupProgressBar=function(){var e,t,o;return t=this.$(".quiz-progress-bar"),o=this.model.get("questionCount"),e=new Array(o).fill(null).map(function(e){return function(){var t,n;return t=$("<div class='quiz-progress-block'>&nbsp;<div>"),n=e.$(".quiz-progress-bar").width()/o,t.width(n),e.$(".quiz-progress-bar .blocks-holder").append(t)}}(this))},t.prototype.updateQuizProgress=function(e){var t,o,n;if(t=this.model.get("questionCount"),o=this.$(".quiz-progress-bar").width(),0!==t)return n=o/t,this.$(".active-progress-bar").css("width",n/o*e*100+"%")},t.prototype.updateCount=function(e){var t;return"forum"!==this.model.get("quizType")&&this.$(".quiz-heading-block").removeClass("hide"),t=this.questions.indexOf(e)+1,this.model.set("currentQuestionCount",t),this.updateQuizProgress(t)},t.prototype.hidePagination=function(){if(1===this.questions.length)return this.$(".quiz-heading-arrow-controls").addClass("hide")},t.prototype.trackQuestionComplete=function(e){var t,o;return t={"Question Id":e.get("id"),Segment:this.componentModel.get("segmentId"),Source:this.componentModel.get("type")},n.T.MIXPANEL_TRACK("Quiz Question Answered",t),n.T.MIXPANEL_INCREMENT_PROPERTY("Questions answered"),o=new Date,n.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Question Answered":o.toISOString()})},t.prototype.destroy=function(){return this.questions.each(function(e){return function(e){return e.trigger("remove-question")}}(this)),this.stopListening(),this.$el.remove()},t.prototype.silpExploreProgram=function(){var e;return e=window.open("https://goo.gl/7PWcXf","_blank")},t.prototype.openFullScreenModal=function(){return n.trigger(n.E.SHOW_FULLSCREEN_VIEW,this.componentModel)},t.prototype.hideFullScreenModal=function(){var e;return this.loadFrame(),e=this.$('.question:not(".hide")'),e.find(".details-column").addClass("hide"),e.find(".modal-header").addClass("hide"),e.find(".modal-body").removeClass("display-prop"),e.find(".modal-dialog-holder").removeClass("modal-dialog"),e.find(".modal-content-holder").removeClass("modal-content"),e.find(".doselect-main").removeClass("doselect-fullscreen modal fade custom-modal"),e.find(".doselect-main").show(),this.trackCodingExpansion("collapse_coding_question")},t.prototype.loadFrame=function(){var e,t,o,n,r;return t={},r=this.model.get("questionSessions"),e=r.pluck("code")[0],o=this.$(".doselect-main .doselect-embed"),o.find("iframe").remove(),this.$(".doselect-embed").attr("data-slug",e.codeDsRef),t.custom_body_class="embed-question",n={el:o[0],category:"problem",config:JSON.stringify(t),slugId:e.codeDsRef},s.loadDoSelectEmbed(n)},t.prototype.trackCodingExpansion=function(e){var t;return n.T.MIXPANEL_TRACK(e,{course_id:this.componentModel.get("courseId").toString(),course_name:this.componentModel.get("courseName"),module_id:this.componentModel.get("moduleId").toString(),module_name:this.componentModel.get("moduleName"),quiz_id:this.model.get("quizId").toString(),question_id:null!=(t=this.questions.findWhere({id:this.model.get("activeQuestion")}))?t.get("questionId").toString():void 0})},t}(n.View),t.exports=u},{"../../collections/content-discussion-answers":9,"../../collections/questions":29,"../../collections/quizzes":30,"../../models/content-discussion-question":55,"../../models/quiz-model":82,"../../models/shared-model":85,"../../models/user-model":87,"./../helpers/helper-methods":104,"./quiz-score-item-view":256,backbone:318,"backbone.stickit":317,underscore:445}],256:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),s=e("underscore"),n.$=$,i=e("../../models/shared-model"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.tagName="li",t.prototype.className="quiz-score-list-item",t.prototype.template=function(){if($("#quiz-score-details").length)return s.template($("#quiz-score-details").html())},t.prototype.events={click:"showQuestion"},t.prototype.initialize=function(e){return s.bindAll(this,"show","showQuestion"),this.questionModel=e.questionModel,this.quiz=e.quiz,this.model.questionStatus=function(){switch(this.model.isCorrect){case"submitted":return"Submitted";case!0:return"Correct";default:return"Incorrect"}}.call(this)},t.prototype.show=function(){return this.$el.html(this.template()(this.model)),this.$el.addClass(this.model.type),this.model.isCorrect?(this.$el.addClass("right"),this.$(".quiz-score-item-text").text("Correct")):(this.$el.addClass("wrong"),this.$(".quiz-score-item-text").text("Incorrect")),this.questionModel&&"text"===this.questionModel.get("type")&&(this.$(".quiz-score-item-icon").addClass("hide-quiz-icon"),this.$(".quiz-score-item-text").text("Submitted")),"submitted"===this.model.isCorrect&&this.$el.addClass("submitted"),"unattempted"===this.model.isCorrect&&(this.$el.addClass("wrong"),this.$(".quiz-score-item-text").text("Unattempted")),this.setScore(),this.$el},t.prototype.setScore=function(){if(this.model.showScore)return this.$(".quiz-marks").html(this.model.score+" / "+this.model.maxMarks)},t.prototype.showQuestion=function(){return this.quiz.trigger("hideScore"),this.questionModel.trigger("activateMe")},t}(n.View),t.exports=r},{"../../models/shared-model":85,backbone:318,underscore:445}],257:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p=function(e,t){function o(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},h={}.hasOwnProperty;n=e("backbone"),d=e("underscore"),n.$=$,i=e("clipboard"),r=e("../../helpers/base-view"),u=e("../../../models/shared-model"),s=e("../../../collections/referral-courses"),c=e("../../../models/user-model"),l=e("../../helpers/snackbar"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.el="#referral",t.prototype.viewIdentifier="referralView",t.prototype.benefitsTemplate=function(){return d.template($("#referral-benefits-template").html())},t.prototype.selectedProgramTemplate=function(){return d.template($("#selected-program-template").html())},t.prototype.events=function(){return{"click .twitter-icon":"openTwitterShare","click .facebook-icon":"openFacebookShare","click .linkedin-icon":"openLinkedInShare","click .send-invitations":"sendInvitations","click .send-more-invites":"showReferralForm","click .copy-link-button":"copyReferralLink","click .copy-referral-code-btn":"copyReferralCode","click .conditions":"openTnC","click .change-program":"showSingleProgramModal","click .add-programs":"showProgramsModal","click .select-programs-btn":"selectPrograms","click .select-all-programs":"selectAllPrograms","click .select-single-program-btn":"selectSingleProgram","click .remove-program":"removeSelectedProgram","click .program-item":"selectProgramItem","click .program-name":"selectProgramItem"}},t.prototype.initialize=function(){return this.listenTo(n,n.E.SHOW_NEW_REFERRAL_PAGE,this.show),this.$(".referral-code").val(c.get("referralCode")),console.log(u.get("courseId")),new i(".copy-link-button"),new i(".copy-referral-code-btn"),this.referralValidation=!1,t.__super__.initialize.call(this)},t.prototype.show=function(){return document.title="Refer a friend | upGrad",this.initValidations(),this.programListsFilled||(this.formatData(),this.populateSingleProgramModal(),this.populateProgramsModal(),this.populateBenefitsList(),this.programListsFilled=!0),u.resetCurrentView(this.viewIdentifier),this.createSocialSharingURL(),this.$el.removeClass("hide")},t.prototype.formatData=function(){return this.data=[],s.each(function(e){return function(t){var o;return o={},o.programKey=t.get("programKey"),o.text=t.get("referralInformation").title,o.starts=t.get("referralInformation").starts,o.referredBenefit=t.get("referralInformation").referredBenefit,o.referrerBenefit=t.get("referralInformation").referrerBenefit,e.data.push(o)}}(this))},t.prototype.setGiftLearningCourse=function(){return this.giftLearningCourse=s.findWhere({programKey:this.$(".select-program").val()})||s.first()},t.prototype.openTwitterShare=function(){var e,t;if(this.url)return e="https://twitter.com/intent/tweet?hashtags= UpGrad&text=",t=this.giftLearningCourse.get("referralInformation").web.twitterLinkText.replace("*link*",this.url),window.open(e+t,"_blank"),this.trackSocialSharing("twitter")},t.prototype.openFacebookShare=function(){var e,t;if(this.url)return e="http://www.facebook.com/sharer.php?u=",t=this.giftLearningCourse.get("referralInformation").web.facebookLinkText.replace("*link*",this.url),window.open(e+this.url+"&p[title]="+t,"_blank"),this.trackSocialSharing("facebook")},t.prototype.openLinkedInShare=function(){var e,t;if(this.url)return e="https://www.linkedin.com/shareArticle?mini=true&url=",t=this.giftLearningCourse.get("referralInformation").web.linkedInLinkText.replace("*link*",encodeURIComponent(this.url)),window.open(e+this.url+"&title="+t,"_blank"),this.trackSocialSharing("linkedin")},t.prototype.trackSocialSharing=function(e){return n.T.MIXPANEL_TRACK("Referral Social Share Click",{Platform:"platform","Social Platform":e,Link:this.url,Action:"social_media_click"})},t.prototype.selectProgramItem=function(e){var t;return t=this.$(e.currentTarget).find("input"),"radio"===this.$(t).attr("type")&&this.$(t).closest(".modal").find(".program-item.selected").removeClass("selected"),this.$(t).prop("checked")?(this.$(t).prop("checked",!1),this.$(t).closest(".program-item").removeClass("selected"),this.$('input[name="select-all-programs"]').prop("checked",!1)):(this.$(t).prop("checked",!0),this.$(t).closest(".program-item").addClass("selected"))},t.prototype.selectSingleProgram=function(){var e;return e=this.$(".select-single-program-modal input:checked"),this.updateSelectedSingleProgram($(e).val()),$(e).closest(".program-item").addClass("selected"),this.createSocialSharingURL(),this.hideSingleProgramModal()},t.prototype.selectPrograms=function(){var e,t;return this.$(".selected-programs-list").empty(),t="",e=[],d.each(this.$(".select-programs-modal .programs-list input:checked"),function(o){return function(o){var n;return t=$($(o).closest(".program-name")).text(),n=$(o).val(),e.push(n)}}(this)),this.updateSelectedPrograms(e),this.updateTextarea(),this.hideProgramsModal()},t.prototype.updateSelectedSingleProgram=function(e){return this.$(".single-program-select").val(e),this.$(".selected-single-program").find(".program-name").text(s.findWhere({programKey:e}).get("referralInformation").title)},t.prototype.selectAllPrograms=function(){var e;return e=this.$('input[name="select-all-programs"]').is(":checked"),d.each(this.$(".select-programs-modal input"),function(t){return function(o){return $(o).prop("checked",e),e?t.$(o).closest(".program-item").addClass("selected"):t.$(o).closest(".program-item").removeClass("selected")}}(this))},t.prototype.updateSelectedPrograms=function(e){return this.$(".selected-programs-list").empty(),d.each(e,function(e){return function(t){var o,n;return n=s.findWhere({programKey:t}).get("referralInformation").title,o=t,e.$(".selected-programs-list").append('<div class="row selected-program" data-program-key="'+o+'"> <div class="program-name">'+n+'</div> <div class="remove-program"> <span>&times;</span> </div> </div>')}}(this)),this.$(".multiple-program-select").val(e.join(",")),this.isElementValid(this.$(".multiple-program-select"))},t.prototype.removeSelectedProgram=function(e){var t;return t=$(e.currentTarget).closest(".selected-program").attr("data-program-key"),this.$(".select-programs-modal").find('input[value="'+t+'"]').prop("checked",!1),$(e.currentTarget).closest(".selected-program").remove(),this.selectPrograms()},t.prototype.updateTextarea=function(){var e,t,o,n,r;return this.$(".multiple-program-select").val().length&&(t=this.getSelectedProgramKeys(),r=this.getReferralUrl(t),e=this.getCurrentEnrollmentText(),o=s.first().get("referralInformation").referralText.replace("*link*",r),o=o.replace("*referralAmount*",this.getReferralDiscount(t)),n=this.getSelectedProgramsText(t),o=o.replace("*programName*",n),this.$(".add-a-note").val(e+o)),this.isElementValid(this.$(".add-a-note"))},t.prototype.isFormValid=function(){return this.$("#referral-form").valid()},t.prototype.isElementValid=function(e){return this.$(e).valid()},t.prototype.getCurrentEnrollmentText=function(){var e,t;return t=u.get("programKey"),e=s.findWhere({programKey:t}),e?null!=e?e.get("referralInformation").currentUserReferralText:void 0:"I am doing a course with upGrad. "},t.prototype.getSelectedProgramsText=function(e){var t;return t="",d.each(e,function(e){return function(e){return t+=s.findWhere({programKey:e}).get("referralInformation").title+", "}}(this)),t.substr(0,t.length-2)},t.prototype.getReferralUrl=function(e){var t;return t="",d.each(e,function(e){return function(e){var o;return o=s.findWhere({programKey:e}),t+="https://upgrad.com/"+o.get("programUrlKey")+"/?ref="+c.get("referralCode")+" \n"}}(this)),t},t.prototype.getReferralDiscount=function(e){var t;return t=0,d.each(e,function(e){return function(e,o){var n;if(n=s.findWhere({programKey:e}),t<Number(n.get("referralInformation").referredBenefit))return t=n.get("referralInformation").referredBenefit}}(this)),t},t.prototype.getDefaultShareProgram=function(){return s.findWhere({programKey:u.get("programKey")})?u.get("programKey"):s.first().get("programKey")},t.prototype.populateBenefitsList=function(){return d.each(this.data,function(e){return function(t){return e.$(".benefits-list").append(e.benefitsTemplate()(t))}}(this))},t.prototype.populateSingleProgramModal=function(){var e;return d.each(this.data,function(e){return function(t){return t.inputType="radio",e.$(".single-program-list").append(e.selectedProgramTemplate()(t))}}(this)),e=this.getDefaultShareProgram(),this.updateSelectedSingleProgram(e)},t.prototype.populateProgramsModal=function(){var e;return d.each(this.data,function(e){return function(t){return t.inputType="checkbox",e.$(".programs-list").append(e.selectedProgramTemplate()(t))}}(this)),e=this.getDefaultShareProgram(),this.updateSelectedPrograms([e]),this.updateTextarea()},t.prototype.showSingleProgramModal=function(){var e;return e=this.$(".single-program-select").val(),d.each(this.$('.select-single-program-modal input[type="radio"]'),function(t){return function(o){return e===$(o).val()?($(o).prop("checked",!0),t.$(o).closest(".program-item").addClass("selected")):($(o).prop("checked",!1),t.$(o).closest(".program-item").removeClass("selected"))}}(this)),this.$(".select-single-program-modal").modal("show")},t.prototype.getSelectedProgramKeys=function(){return this.$(".multiple-program-select").val().split(",")},t.prototype.showProgramsModal=function(){var e;return e=this.getSelectedProgramKeys(),d.each(this.$('.select-programs-modal input[type="checkbox"]'),function(t){return function(o){return e.indexOf($(o).val())===-1?(t.$(o).prop("checked",!1),t.$(o).closest(".program-item").removeClass("selected")):(t.$(o).prop("checked",!0),t.$(o).closest(".program-item").addClass("selected"))}}(this)),this.$(".select-programs-modal").modal("show")},t.prototype.hideProgramsModal=function(){return this.$(".select-programs-modal").modal("hide")},t.prototype.hideSingleProgramModal=function(){return this.$(".select-single-program-modal").modal("hide")},t.prototype.sendInvitations=function(e){var t,o,r,i,s,a,u;if(e.preventDefault(),this.isFormValid())return this.$(".send-invitations").addClass("mbtn-loader"),u=n.C.MEDIA_PATH()+"/v2/referrals",a=function(e){return function(t){return n.T.MIXPANEL_TRACK("Referral Send Invitation",{Platform:"platform",Referrer:c.get("email"),"Referred Programs":e.$(".multiple-program-select").val(),"Referred emails":e.$(".email-address").val(),Action:"send_invitation"}),e.$(".send-invitations").removeClass("mbtn-loader"),e.$("#referral-form").addClass("hide"),e.$(".referral-sent").removeClass("hide")}}(this),i=function(e){return function(t){return e.$(".send-invitations").removeClass("mbtn-loader"),n.ERR.SHOW(t)}}(this),o={emails:this.$(".email-address").val().split(","),programs:this.$(".multiple-program-select").val().split(","),text:this.$(".add-a-note").val()},o=JSON.stringify(o),t="application/json",s="POST",r="json",n.F.AJAX(s,u,a,i,o,r,t)},t.prototype.showReferralForm=function(){return this.$("#referral-form")[0].reset(),this.$("#referral-form").removeClass("hide"),this.$(".referral-sent").addClass("hide"),this.updateSelectedPrograms([this.getDefaultShareProgram()]),this.updateTextarea()},t.prototype.createSocialSharingURL=function(){var e;return e=s.findWhere({programKey:this.$(".single-program-select").val()}).get("programUrlKey"),this.url="https://upgrad.com/"+e+"/?ref="+c.get("referralCode"),this.$(".social-share-link").val(this.url),this.setGiftLearningCourse()},t.prototype.copyReferralLink=function(e){return e.preventDefault(),l.showToast({message:"Your referral link is copied",dismiss:"x",success:!0}),this.trackCopyLink()},t.prototype.copyReferralCode=function(e){return e.preventDefault(),l.showToast({message:"Your referral code is copied",dismiss:"x",success:!0}),this.trackCopyCode()},t.prototype.trackCopyCode=function(){return n.T.MIXPANEL_TRACK("Copy Referral Code",{Platform:"platform",Referrer:c.get("email"),link:this.$(".referral-code").val(),Action:"copy_code"})},t.prototype.trackCopyLink=function(){return n.T.MIXPANEL_TRACK("Copy Referral Link",{Platform:"platform",Referrer:c.get("email"),link:this.$(".social-share-link").val(),Action:"copy_link"})},t.prototype.openTnC=function(){return window.open("http://cdn.upgrad.com/Referral/Policy.pdf","_blank")},t.prototype.initValidations=function(){if(!this.referralValidation)return $.validator.addMethod("validateEmailAddresses",function(e){return function(e,t){var o;return $(t).is(":focus")?$(t).removeClass("error"):(o=e.split(","),d.every(o,function(e){var t;return t=e.match(/\S+@\S+.\S+/)&&$.trim(e).indexOf(" ")<0}))}}(this),"Please enter a valid email address"),this.$("#referral-form").validate({ignore:[],rules:{referrals:{required:!0,validateEmailAddresses:!0},"add-a-note":{required:!0},"multiple-program-select":{required:!0}},messages:{referrals:{required:"Please enter at least one email address"},"add-a-note":{required:"Please add a note"},"multiple-program-select":{required:"Please add at least one program"}},errorPlacement:function(e){return function(t,o){return"multiple-program-select"===o.attr("name")?e.$(".error-div").append(t):t.insertAfter(o)}}(this)}),this.referralValidation=!0},t.prototype.hide=function(){return this.$el.addClass("hide")},t}(r),t.exports=new a},{"../../../collections/referral-courses":31,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/base-view":99,"../../helpers/snackbar":109,backbone:318,clipboard:326,underscore:445}],258:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),c=e("underscore"),n.$=$,l=e("../../models/shared-model"),u=e("../../collections/sessions"),i=e("../../collections/modules"),r=e("../../collections/components"),s=e("../student-router"),e("./context-discussions/context-discussions-viewer"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.className="segment item",t.prototype.tagName="span",t.prototype.template=function(){return c.template($("#segment-template").html())},t.prototype.bindings={".segment-name":"name"},t.prototype.events={
"click .segments-list-item":"showSegment"},t.prototype.initialize=function(e){return c.bindAll(this,"render","destroy","navigateToSegment"),this.listenTo(this.model,"destroy",this.destroy),this.listenTo(this.model,"updateProgressIcon",this.updateProgressIcon),this.listenTo(this.model,"showSegment",this.showSegment),this.segments=e.segments},t.prototype.updateProgressIcon=function(){var e,t,o,n,r,s;return this.toggleSubmissionIconsVisibility(),this.$el.removeClass("active","locked","completed"),t=this.model.get("moduleId"),e=null!=(o=i.get(t).get("gradient"))?o.to:void 0,this.isCompleted()?(s="completed",this.$(".segment-status").css("color","#22af73")):(null!=(n=l.get("currentComponent"))?n.get("segmentId"):void 0)===this.model.get("id")?(s="active",this.$(".segment-status").css("color",e)):(null!=(r=this.model.get("progress"))?r.isLocked:void 0)?s="locked":(s="pending",this.$(".segment-status").css("color",e)),this.model.set("segmentStatus",s),this.$el.removeClass("active pending locked"),this.$el.addClass(s)},t.prototype.isCompleted=function(){var e,t;return t=null!=(e=this.model.get("progress"))?e.userProgress:void 0,100===parseInt(t)},t.prototype.toggleSubmissionIconsVisibility=function(){var e,t,o,n,r;if(this.$(".submission-icons").empty(),this.model.hasSubmissions()){for(e=t=0,n=this.model.completedSubmissionsCount();0<=n?t<n:t>n;e=0<=n?++t:--t)this.appendCompletedSubmissionIcon();for(e=o=0,r=this.model.pendingSubmissionsCount();0<=r?o<r:o>r;e=0<=r?++o:--o)this.appendPendingSubmissionIcon(),this.activateTooltips();return this.$(".submission-icons").removeClass("hide")}},t.prototype.appendCompletedSubmissionIcon=function(){return this.$(".submission-icons").html('<span class="completed-submissions"></span>')},t.prototype.appendPendingSubmissionIcon=function(){return this.isSubmissionOverdue()?this.$(".submission-icons").append('<span data-toggle="tooltip" data-placement="top" title="Submission Overdue" class="overdue-submissions-icon"></span>'):this.$(".submission-icons").append('<span data-toggle="tooltip" data-placement="top" title="Submission Pending" class="pending-submissions"></span>')},t.prototype.isSubmissionOverdue=function(){var e;return e=i.get(this.model.get("moduleId")),!e.deadlineInFuture()},t.prototype.render=function(){return this.$el.html(this.template()()),this.stickit(),this.updateProgressIcon(),this.activateTooltips(),this.$el},t.prototype.activateTooltips=function(){return this.$('[data-toggle="tooltip"]').tooltip()},t.prototype.showSegment=function(e){return e&&(e.preventDefault(),e.stopPropagation()),this.model.get("progress").isLocked?l.get("courseConfiguration").assistant?bot.send(["Segment you are trying to access will be unlocked after finishing "+l.get("currentComponent").get("segmentName")+"!!"],[]):void 0:(l.set("sessionId",this.model.get("sessionId")),l.set("segmentId",this.model.get("id")),n.T.MIXPANEL_TRACK("Segment Card Click",this.getEventTrackingData()),this.navigateToSegment())},t.prototype.navigateToSegment=function(){return n.trigger(n.E.SHOW_SEGMENTS)},t.prototype.getEventTrackingData=function(){var e;return{Action:"click","Segment ID":this.model.id.toString(),"Segment Name":this.model.get("name"),isLocked:null!=(e=this.model.get("progress"))?e.isLocked:void 0,"Session ID":this.model.get("sessionId")}},t.prototype.destroy=function(){return this.model.get("components")&&this.model.get("components").each(function(e){return function(e){if(e&&"video"===e.get("type"))return e.trigger("pauseVideo")}}(this)),this.stopListening(),this.$el.remove()},t}(n.View),t.exports=a},{"../../collections/components":8,"../../collections/modules":26,"../../collections/sessions":33,"../../models/shared-model":85,"../student-router":117,"./context-discussions/context-discussions-viewer":151,backbone:318,"backbone.stickit":317,underscore:445}],259:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y,v,b,_=function(e,t){function o(){this.constructor=e}for(var n in t)w.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},w={}.hasOwnProperty;r=e("backbone"),v=e("underscore"),r.$=$,p=e("./segment-item-view"),y=e("../../models/shared-model"),i=e("../helpers/base-view"),d=e("../student-router"),n=e("../../assistant-constants"),m=e("../../models/progress-models/session-progress-model"),s=e("../../collections/components"),c=e("../../collections/modules"),a=e("../../models/current-component"),g=e("../../collections/sessions"),u=e("../viewer/viewer-files/drawer-view"),h=e("../../models/progress-models/segment-progress-model"),l=e("../../models/progress-models/module-progress-model"),e("./session-nav-sidebar/session-nav-sidebar-view"),b=e("sanitize-html"),f=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _(t,e),t.prototype.el="#segments",t.prototype.viewIdentifier="segmentView",t.prototype.itemViewClass=p,t.prototype.events={"click .back":"back","click .module-number":"back","click .course-title-link":"goToModulePage"},t.prototype.initialize=function(){return v.bindAll(this,"showView","hide","back","updateSegmentProgressIcons"),this.listenTo(r,r.E.SHOW_SEGMENTS_VIEW,this.showView),this.listenTo(r,r.E.UPDATE_SEGMENTS_PROGRESS,this.updateSegmentProgressIcons),t.__super__.initialize.call(this)},t.prototype.goToModulePage=function(){var e;return e=""+y.get("courseId"),r.trigger(r.E.NAVIGATE_BASED_ON_IFRAME,e,!1),r.trigger(r.E.SHOW_MODULES)},t.prototype.showView=function(){return this.setupViewIfRequired(),this.setSegments(),this.setHeaderData(),this.activeSegment&&this.showSegment(),r.trigger("pageShown:"+this.viewIdentifier)},t.prototype.setupViewIfRequired=function(){if(y.get("currentView")!==this.viewIdentifier)return y.resetCurrentView(this.viewIdentifier),r.trigger(r.E.SHOW_SESSION_NAV_SIDEBAR),this.$el.removeClass("hide"),r.Demo.show("components")},t.prototype.setSegments=function(){var e,t,o;return o=y.get("sessionId")!==this.activeSessionId,t=g.get(y.get("sessionId")).get("segments").length!==(null!=(e=this.segments)?e.length:void 0)||0,(o||t)&&(this.activeSessionId=y.get("sessionId"),this.segments=g.get(y.get("sessionId")).get("segments")),this.activeSegment&&this.activeSegment.trigger("deactivateVisually"),y.get("segmentId")?this.activeSegment=this.segments.get(y.get("segmentId")):(this.activeSegment=this.segments.models[0],y.set("segmentId",this.segments.models[0].id)),this.activeSegment?(this.activeSegment.trigger("activateVisually"),this.segments):r.trigger(r.E.VIEW_NOT_FOUND)},t.prototype.setHeaderData=function(){var e,t,o,n;if(this.activeSegment)return n=r.F.getModuleText(this.activeSegment),e=c.get(y.get("moduleId")),o=b(e.get("moduleGroup").name),this.$(".item-number").html("<span class='course-title-link'> "+o+" </span>\n<span class='right-arrow-segment-viewer material-icons'>keyboard_arrow_right</span>\n<span class='module-number'> "+n+" </span>\n<span class='right-arrow-segment-viewer material-icons'>keyboard_arrow_right</span>\nSession "+this.activeSegment.get("sessionNumber")),this.$(".item-heading-text").text(this.activeSegment.get("sessionName")),this.$(".session-number").text("Session "+this.activeSegment.get("sessionNumber")),this.$(".session-heading-text").text(this.activeSegment.get("sessionName")),t=this.activeSegment.get("moduleId"),this.setBackgroundColors()},t.prototype.setBackgroundColors=function(){var e;return e=c.get(y.get("moduleId")),this.$(".item-heading").css("background-image",e.getBackground())},t.prototype.getNextSession=function(){var e;return e=g.get(y.get("sessionId")),g.at(g.indexOf(e)+1)},t.prototype.showSegment=function(){var e,t,o,i,a,u,l;return!this.activeSegment.get("progress")||this.activeSegment.get("progress").isLocked?(i={responseJSON:{errorList:[{errorMessage:"This page has not been unlocked yet"}]}},r.ERR.SHOW(i),y.get("courseConfiguration").assistant&&(bot.arg="/v/course/"+y.get("courseId")+"/session/"+y.get("sessionId")+"/segment/"+this.findPendingSegment()+"}",e=[{key:"navigate-to-unlocked"}],bot.send(n.strings.SEGMENT_LOCKED,e)),y.set("segmentId",null)):(u=this.segments.at(this.segments.indexOf(this.activeSegment)+1),t=u&&!u.get("progress").isLocked,this.updateSharedModel(),r.trigger("component_feedback_view:hide"),r.trigger(r.E.HIDE_COMPONENTS_VIEW),o=this.activeSegment.get("components").models,this.updateComponentsProgress(o),s.reset(o),this.updateUrl(),s.length?(a=c.get(y.get("moduleId")),l=g.get(y.get("sessionId")),!a.isResource()&&this.activeSegment.get("isPublished")&&l.get("isPublished")&&a.get("isPublished")&&(this.showOrHideDrawer(),r.trigger(r.E.SHOW_CONTEXT_DISCUSSIONS)),r.trigger(r.E.SHOW_COMPONENTS_VIEW,{segments:this.segments,currentSegment:this.activeSegment,activateNextButton:t})):void 0)},t.prototype.findPendingSegment=function(){var e,t;if(t=l.get("sessions").findIndex(function(e){return e.id===y.get("sessionId")}),e=l.get("sessions")[t].segments.findIndex(function(e){return e.isLocked}),0!==e)return l.get("sessions")[t].segments[e-1].id},t.prototype.updateSharedModel=function(){return y.set("segmentName",this.activeSegment.get("name")),y.set("sessionName",g.get(y.get("sessionId")).get("name")),y.set("sessionNumber",this.activeSegment.get("sessionNumber")),y.set("moduleName",c.get(y.get("moduleId")).get("name")),y.set("moduleNumber",this.activeSegment.get("moduleNumber"))},t.prototype.updateUrl=function(){var e;return e=y.get("courseId")+"/session/"+y.get("sessionId")+"/segment/"+y.get("segmentId"),r.trigger(r.E.NAVIGATE_BASED_ON_IFRAME,e,!1)},t.prototype.trackModuleStart=function(){if(g.get(this.activeSegment.get("sessionId")).get("isFirst")&&0===this.activeSegment.get("progress").userProgress)return r.T.MIXPANEL_TRACK("Module Start",{"Module ID":this.activeSegment.get("moduleId").toString(),"Module Name":this.activeSegment.get("moduleName")})},t.prototype.trackSessionStart=function(){if(this.activeSegment.get("isFirst")&&0===this.activeSegment.get("progress").userProgress)return r.T.MIXPANEL_TRACK("Session Start",{"Session ID":this.activeSegment.get("sessionId").toString(),"Session Name":this.activeSegment.get("sessionName")})},t.prototype.trackSegmentStart=function(){if(0===this.activeSegment.get("progress").userProgress)return r.T.MIXPANEL_TRACK("Segment Start",{"Segment ID":this.activeSegment.get("id").toString(),"Segment Name":this.activeSegment.get("name")})},t.prototype.updateComponentsProgress=function(e){return this.fetchSegmentProgress(function(t){return function(){return v.each(e,function(e){var t;return t=v.find(h.get("components"),function(t){return t.id===e.get("id")}),e.set("progress",t),e.set("isLocked",t.isLocked)}),r.trigger(r.E.ACTIVATE_LOCKED_COMPONENTS),t.trackModuleStart(),t.trackSessionStart(),t.trackSegmentStart()}}(this))},t.prototype.fetchSegmentProgress=function(e){return h.set("segmentId",y.get("segmentId")),h.fetch({success:function(t){return function(t,o,n){if(e)return e()}}(this),error:function(e){return function(e,t){return r.ERR.SHOW(t)}}(this)})},t.prototype.showOrHideDrawer=function(){var e;return e=c.get(y.get("moduleId")),e.isResource()?u.hide():u.show()},t.prototype.hide=function(){return r.trigger(r.E.HIDE_COMPONENTS_VIEW),r.trigger("component_feedback_view:hide"),r.trigger(r.E.HIDE_SESSION_NAV_SIDEBAR),u.hide(),this.$el.addClass("hide")},t.prototype.updateSegmentProgressIcons=function(){if(this.segments)return this.segments.each(function(e){return e.trigger("updateProgressIcon")})},t.prototype.back=function(e){var t,o;if(u.hide(),$(".full-screen-button").empty(),$(".full-screen-button").append('<i class="material-icons">fullscreen</i>'),r.trigger(r.E.EXIT_FULL_SCREEN_MODE),t=this.segments.models[0],y.set("segmentId",null),y.set("moduleId",t.get("moduleId")),y.set("courseId",t.get("courseId")),o=y.get("courseId")+"/module/"+y.get("moduleId"),r.trigger(r.E.NAVIGATE_BASED_ON_IFRAME,o,!0),e&&$(e.currentTarget).hasClass("module-number"))return r.T.MIXPANEL_TRACK("Breadcrumb Click",{Type:"Module","Course ID":y.get("moduleGroupId").toString(),"Module ID":y.get("moduleId").toString()})},t}(i),t.exports=new f},{"../../assistant-constants":1,"../../collections/components":8,"../../collections/modules":26,"../../collections/sessions":33,"../../models/current-component":57,"../../models/progress-models/module-progress-model":77,"../../models/progress-models/segment-progress-model":78,"../../models/progress-models/session-progress-model":79,"../../models/shared-model":85,"../helpers/base-view":99,"../student-router":117,"../viewer/viewer-files/drawer-view":280,"./segment-item-view":258,"./session-nav-sidebar/session-nav-sidebar-view":260,backbone:318,"sanitize-html":426,underscore:445}],260:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h=function(e,t){function o(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},f={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),p=e("underscore"),n.$=$,c=e("../../../models/shared-model"),l=e("../../../collections/sessions"),s=e("../../../collections/modules"),a=e("../../student-router"),r=e("../../helpers/collection-view-support"),i=e("../viewer-files/utils/course-getters"),d=e("./sidebar-session-item-view"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.el="#session-nav",t.prototype.itemViewClass=d,t.prototype.appendToDivSelector=".sidebar-content",t.prototype.events={"click .session-nav-menu":"openSidebar","click .session-nav-close":"closeSidebar"},t.prototype.initialize=function(){return p.bindAll(this,"show","hide","openSidebar","closeSidebar","enableClickOutsideHandler","disableClickOutsideHandler"),t.__super__.initialize.call(this),this.subViews={},this.bindCollectionSupportMethods(),this.collection=l,this.listenTo(n,n.E.SHOW_SESSION_NAV_SIDEBAR,this.show),this.listenTo(n,n.E.HIDE_SESSION_NAV_SIDEBAR,this.hide),this.listenTo(n,n.E.OPEN_SESSION_NAV_SIDEBAR,this.openSidebar),this.listenTo(n,n.E.CLOSE_SESSION_NAV_SIDEBAR,this.closeSidebar),this.listenTo(n,n.E.ADD_NOTIFICATION_BAR_OFFSET,this.addOffsetTop),this.listenTo(n,n.E.REMOVE_NOTIFICATION_BAR_OFFSET,this.removeOffsetTop)},t.prototype.performAfterAddingItems=function(){return this.closeSidebar()},t.prototype.addOffsetTop=function(){return this.$el.addClass("notification-top-offset")},t.prototype.removeOffsetTop=function(){return this.$el.removeClass("notification-top-offset")},t.prototype.show=function(){if(this.addAll(),this.$el.removeClass("hide"),this.checkAndShowPopUp(),c.get("viewingInIframe"))return this.$el.addClass("is-loading-in-iframe")},t.prototype.hide=function(){return this.closeSidebar(),this.removeOldItems(),this.$el.addClass("hide")},t.prototype.checkAndShowPopUp=function(){var e,t,o,n,r;if(localStorage&&(t=!!localStorage.getItem("hasSeenMenuPopUp"),!t))return r={title:"Module Navigation",content:"Navigating within a module is now made easier. Check it out!",placement:"right",trigger:"manual",template:'<div class="popover" role="tooltip">\n\t<div class="arrow"></div>\n\t<h3 class="popover-title"></h3>\n\t<div class="popover-content small-font"></div>\n\t<div class=\'popover-nav pull-right\' style="padding: 8px 14px;">\n\t\t<button class=\'btn dismiss-popover btn-success primary-green-button small-font\'>OK</button>\n\t</div>\n</div>'},n=this.$(".session-nav-menu"),n.popover(r),n.popover("show"),e=$(n).next(".popover").find(".dismiss-popover"),o=function(){return n.popover("hide"),localStorage.setItem("hasSeenMenuPopUp",!0)},$(n).on("click",o),$(e).on("click",o)},t.prototype.openSidebar=function(e){if(this.$el.addClass("active-nav"),$(".session-nav-overlay").removeClass("hide"),n.F.DISABLE_BODY_SCROLL(),n.trigger(n.E.PAUSE_VIDEO),this.enableClickOutsideHandler(),e)return n.T.MIXPANEL_TRACK("Hamburger Click",{"Current Segment ID":c.get("segmentId"),"Current Segment Name":c.get("segmentName"),Expand:!0})},t.prototype.closeSidebar=function(e){if(this.$el.removeClass("active-nav"),$(".session-nav-overlay").addClass("hide"),n.F.ENABLE_BODY_SCROLL(),this.disableClickOutsideHandler(),e)return n.T.MIXPANEL_TRACK("Hamburger Click",{"Current Segment ID":c.get("segmentId"),"Current Segment Name":c.get("segmentName"),Expand:!1})},t.prototype.enableClickOutsideHandler=function(){return $(".session-nav-overlay").on("click.sidebar",function(e){return function(t){return e.closeSidebar()}}(this))},t.prototype.disableClickOutsideHandler=function(){return $(".session-nav-overlay").off("click.sidebar")},t}(n.View),p.extend(u.prototype,r,i),t.exports=new u},{"../../../collections/modules":26,"../../../collections/sessions":33,"../../../models/shared-model":85,"../../helpers/collection-view-support":100,"../../student-router":117,"../viewer-files/utils/course-getters":291,"./sidebar-session-item-view":262,backbone:318,"backbone.stickit":317,underscore:445}],261:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f=function(e,t){function o(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},m={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),h=e("underscore"),n.$=$,d=e("../../../models/shared-model"),c=e("../../../collections/sessions"),s=e("../../../collections/modules"),r=e("../../../collections/components"),l=e("../../../models/progress-models/segment-progress-model"),a=e("../../student-router"),i=e("../../viewer/viewer-files/drawer-view"),u=e("../../viewer/segment-item-view"),e("../context-discussions/context-discussions-viewer"),p=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.className="segment item sidebar-segment-item",t.prototype.events={"click .segments-list-item":"goToSegment"},t.prototype.initialize=function(e){return h.bindAll(this,"render","destroy","updateProgressIcon","highlightActiveSegment","goToSegment"),this.listenTo(this.model,"destroy",this.destroy),this.listenTo(this.model,"updateProgressIcon",this.updateProgressIcon),this.listenTo(this.model,"activateVisually",this.highlightActiveSegment),this.listenTo(this.model,"deactivateVisually",this.removeHighlight),this.listenTo(this.model,"completed",this.highlightCompletion),this.listenTo(this.model,"activate",this.highlightActivation),this.segments=e.segments},t.prototype.highlightCompletion=function(){var e;return e=this.model.get("progress"),e.isLocked=!1,e.userProgress=100,this.model.set("progress",e),this.updateProgressIcon()},t.prototype.highlightActivation=function(){var e;return e=this.model.get("progress"),e.isLocked=!1,this.model.set("progress",e),this.updateProgressIcon()},t.prototype.highlightActiveSegment=function(){return this.$el.addClass("active-segment")},t.prototype.removeHighlight=function(){return this.$el.removeClass("active-segment")},t.prototype.goToSegment=function(){if(!this.model.get("progress").isLocked)return d.set("segmentId",this.model.get("id")),this.model.get("sessionId")!==d.get("sessionId")&&d.set("sessionId",this.model.get("sessionId")),n.trigger(n.E.SHOW_SEGMENTS_VIEW),n.trigger(n.E.CLOSE_SESSION_NAV_SIDEBAR),n.T.MIXPANEL_TRACK("Hamburger Segment Click",{"Current Segment ID":d.get("segmentId"),"Current Segment Name":d.get("segmentName"),"Segment ID":this.model.get("id"),"Segment Locked":this.model.get("isLocked"),"Session ID":this.model.get("sessionId"),"Session Locked":c.get(this.model.get("sessionId")).get("isLocked")})},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(u),t.exports=p},{"../../../collections/components":8,"../../../collections/modules":26,"../../../collections/sessions":33,"../../../models/progress-models/segment-progress-model":78,"../../../models/shared-model":85,"../../student-router":117,"../../viewer/segment-item-view":258,"../../viewer/viewer-files/drawer-view":280,"../context-discussions/context-discussions-viewer":151,backbone:318,"backbone.stickit":317,underscore:445}],262:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f=function(e,t){function o(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},m={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),l=e("../../../collections/sessions"),h=e("underscore"),s=e("../../student-router"),i=e("../../../collections/modules"),c=e("../../../models/shared-model"),n.$=$,c=e("../../../models/shared-model"),r=e("../../helpers/collection-view-support"),d=e("./sidebar-segment-item-view"),u=e("../../../models/progress-models/session-progress-model"),a=e("../sessions/session-item-view"),p=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.itemViewClass=d,t.prototype.appendToDivSelector=".sidebar-segments-list",t.prototype.showSegments=function(e){return this.$el.closest(".sidebar-content").length&&n.T.MIXPANEL_TRACK("Hamburger Session Click",{"Current Segment ID":c.get("segmentId"),"Current Segment Name":c.get("segmentName"),"Session ID":this.model.get("id"),"Session Locked":this.model.get("isLocked"),Expand:!this.$(".collapse").hasClass("in")}),t.__super__.showSegments.call(this,e)},t.prototype.customAddOne=function(e){return this.itemObj={segments:this.collection}},t.prototype.showAvailibilityDate=function(){var e;return e=n.F.formattedDateWithTimezone(this.model.get("availableFromIso"),{format:"Do MMMM YYYY",removeTimeZoneAbbr:!0}),this.$el.tooltip({title:"Available from "+e})},t}(a),h.extend(a.prototype,r),t.exports=p},{"../../../collections/modules":26,"../../../collections/sessions":33,"../../../models/progress-models/session-progress-model":79,"../../../models/shared-model":85,"../../helpers/collection-view-support":100,"../../student-router":117,"../sessions/session-item-view":264,"./sidebar-segment-item-view":261,backbone:318,"backbone.stickit":317,underscore:445}],263:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h=function(e,t){function o(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},f={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),p=e("underscore"),n.$=$,l=e("../../../collections/sessions"),c=e("../../../models/shared-model"),i=e("../../../models/feedback-model"),s=e("../../../collections/modules"),a=e("../../student-router"),r=e("../../../models/canned-response-model"),d=e("../../../models/user-model"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.el="#feedback-modal",t.prototype.events={"mouseenter .rating-star":"ratingHover","click .rating-star":"ratingSelection","mouseleave .rating-main-block":"unselectRating","submit .feedback-form":"submitFeedback","click .feedback-option-item-radio-button":"setDefaultText","click button.continue-share":"showModules","click .social-share":"shareSocial"},t.prototype.bindings={".feedback-session-number":"sessionNumber",".feedback-session-name":"name",".current-session-count":"sessionNumber",".total-session-count":"totalSessions"},t.prototype.initialize=function(){return p.bindAll(this,"render","destroy","ratingHover","ratingSelection","unselectRating","setModuleMeter","submitFeedback","trackFeedbackGiven","nextActionHandler","showSession","showModules"),this.listenTo(n,n.E.SHOW_FEEDBACK,this.render)},t.prototype.setFilled=function(e){var t,o,n,r;for(r=[],t=o=1,n=e;1<=n?o<=n:o>=n;t=1<=n?++o:--o)r.push(this.$('.rating-star[data-star="'+t+'"]').addClass("filled"));return r},t.prototype.unselectRating=function(e){if(this.$(".rating-star").removeClass("filled"),this.currentIndex)return this.setFilled(this.currentIndex)},t.prototype.ratingHover=function(e){var t;if(this.$(".rating-star").removeClass("filled"),t=$(e.currentTarget).attr("data-star"),t>0)return this.setFilled(t)},t.prototype.ratingSelection=function(e){return this.$(".rating-star").removeClass("filled"),this.currentIndex=$(e.currentTarget).attr("data-star"),this.$('input[name="rating"]').val(this.currentIndex),$(e.currentTarget).attr("data-selected",!0),this.setFilled(this.currentIndex),this.addCannedResponses(),this.addUserGreetingText(),this.$(".feedback-options").removeClass("hide"),this.$(".feedback-header-section").animate({height:"0px"},{duration:"fast",easing:"swing"}),this.$(".feedback-options").animate({height:"282px"},{duration:"fast",easing:"swing"}),this.$(".modal-content").css("max-height","650px"),this.validator.resetForm(),this.setCommentValidation()},t.prototype.setModuleMeter=function(){var e,t,o,n,r,i,a,u,d,p;for(this.$(".modal-content").css("max-height","213px"),o=l.models[0],a=o.get("moduleId"),i=null!=(u=s.get(a).get("gradient"))?u.to:void 0,this.$(".module-meter-active").remove(),t=l.indexOf(l.get(c.get("sessionId")))+1,e=1,p=l.length||1,this.$(".module-meter").empty(),n=r=1,d=p;r<=d;n=r+=1)this.$(".module-meter").append('<div class="module-meter-section"><div class="module-meter-active"></div></div>');for(this.$(".module-meter-section").css("width",100/p-.4+"%");e<=t;)e===t?(this.$(".module-meter-active").css("background-color",i),this.$(".module-meter-section:nth-of-type("+e+")").children(".module-meter-active").width(0).delay(500).animate({width:"100%"},{duration:1200,easing:"swing"})):this.$(".module-meter-section:nth-of-type("+e+")").children(".module-meter-active").css("width","100%"),e++;if(e>t)return this.$(".modal-content").delay(2200).animate({"max-height":"611px"},{duration:1200,easing:"swing"}),this.$(".modal-content").css("overflow","auto")},t.prototype.validateFeedbackForm=function(){var e;return e={errorPlacement:function(e){return function(t,o){return"feedback-option-name"===o.attr("name")?t.insertAfter(e.$(".feedback-option-block")):t.insertAfter(o)}}(this),ignore:[],rules:{"feedback-duration":{required:!0,digits:!0},"feedback-option-name":{required:!0},"feedback-comment":{required:!1},rating:{required:!0}}},c.get("startupIndia")&&(e.rules["feedback-duration"]={required:!1}),this.validator=this.$(".feedback-form").validate(e)},t.prototype.setCommentValidation=function(){return this.currentIndex>3?this.$(".feedback-comment").rules("remove"):this.$(".feedback-comment").rules("add",{required:!0})},t.prototype.submitFeedback=function(e){var t;return e.preventDefault(),this.feedbackModel=new i,this.$(".feedback-form").valid(),t={rating:this.currentIndex,feedback:this.$(".feedback-comment").val(),sessionId:c.get("sessionId"),reason:this.$("[name=feedback-option-name]:checked").val()},c.get("startupIndia")||(t.timeTaken=this.$(".feedback-duration").val()),this.$(".submit-feedback").addClass("loading"),this.feedbackModel.save(t,{success:function(e){return function(o){return e.$(".submit-feedback").removeClass("loading"),e.$(".next").removeClass("disabled"),e.nextActionHandler(),e.trackFeedbackGiven(t)}}(this),error:function(e){return function(t,o){return e.$(".submit-feedback").removeClass("loading"),e.$(".next").removeClass("disabled"),e.hideFeedbackModal(),n.ERR.SHOW(o,e.$(".session-feedback-error-space"))}}(this)})},t.prototype.nextActionHandler=function(e){var t;return c.set("segmentId",null),t=l.models[l.indexOf(l.get(c.get("sessionId")))+1],t?this.showSession(t):c.get("startupIndia")&&!e&&this.currentIndex>3&&"INTRODUCTION"!==c.get("moduleType")?this.showShareOption():this.showModules()},t.prototype.showShareOption=function(){var e,t,o;return e=l.models[l.indexOf(l.get(c.get("sessionId")))],e.get("moduleName")&&(this.$("a.share-facebook").on("click",function(){return FB.ui({method:"feed",link:"http://bit.ly/2jPSPsu",message:"Startup India Learning Program",picture:"https://s29.postimg.org/i1qumkgfr/startupindia.png",description:"Startup India Learning Program is a free online entrepreneurship program by Startup India in collaboration with upGrad to give you knowledge of the necessary fundamentals that will help you in starting and running a successful business.",name:"I just completed the module "+e.get("moduleName")+" on the StartupIndia Learning Program."},function(t){return t&&!t.error_code?n.T.MIXPANEL_TRACK("Successful Facebook Share on SILP Module Finished",{"Social Network":"facebook","Module ID":e.get("moduleId").toString(),"Module Name":e.get("moduleName"),"Session ID":c.get("sessionId").toString()}):n.T.MIXPANEL_TRACK("Failed Facebook Share on SILP Module Finished",{"Social Network":"facebook","Module ID":e.get("moduleId").toString(),"Module Name":e.get("moduleName"),"Session ID":c.get("sessionId").toString()})})}),o="https://twitter.com/share?text="+encodeURIComponent("I just completed the module "+e.get("moduleName")+" on @startupindia")+"&image=https://s29.postimg.org/i1qumkgfr/startupindia.png&url="+encodeURIComponent("http://bit.ly/2jPPR7o")+"&via=UpGrad_Edu&hashtags=startupindia",t="https://www.linkedin.com/shareArticle?mini=false&url="+encodeURIComponent("http://bit.ly/2iy1ZJ1")+"&title="+encodeURIComponent("I just completed the module "+e.get("moduleName")+" on the StartupIndia Learning Program.")+"&summary="+encodeURIComponent("Startup India Learning Program is a free online entrepreneurship program by Startup India in collaboration with upGrad to give you knowledge of the necessary fundamentals that will help you in starting and running a successful business.")+"&source=startupindia.upgrad.com",this.$("a.share-twitter").attr("href",o),this.$("a.share-linkedin").attr("href",t)),this.$(".feedback-body").addClass("hide"),this.$("button.submit-feedback").addClass("hide"),this.$(".share-body").removeClass("hide"),this.$("button.continue-share").removeClass("hide"),this.$(".share-body").animate({height:"203px"},{duration:"fast",easing:"swing"})},t.prototype.hideFeedbackModal=function(){return this.$el.modal("hide"),this.$(".feedback-option-block").empty()},t.prototype.showSession=function(e){var t,o,r,i,s;return this.hideFeedbackModal(),s=!e.get("progress")||(null!=(o=e.get("progress"))?o.isLocked:void 0),t=e.get("segments").models[0],i=!t.get("progress")||(null!=(r=t.get("progress"))?r.isLocked:void 0),s||i?void a.navigate("/v/course/"+c.get("courseId")+"/module/"+c.get("moduleId"),!0):(c.set("sessionId",e.get("id")),c.set("segmentId",t.id),a.navigate("/v/course/"+c.get("courseId")+"/session/"+e.get("id")+"/segment/"+c.get("segmentId")),n.trigger(n.E.SHOW_SEGMENTS_VIEW))},t.prototype.showModules=function(e){var t;return e&&e.preventDefault(),this.hideFeedbackModal(),t=l.models[l.indexOf(l.get(c.get("sessionId")))],n.T.MIXPANEL_TRACK("Module Finished",{"Module Id":t.get("moduleId").toString(),"Module Name":t.get("moduleName")}),a.navigate("/v/course/"+c.get("courseId")),n.trigger(n.E.SHOW_MODULES)},t.prototype.shareSocial=function(e){var t,o,r;return t=$(e.currentTarget),r=$(t).attr("data-network")||null,o=l.models[l.indexOf(l.get(c.get("sessionId")))],n.T.MIXPANEL_TRACK("Social Share On SILP Module Finished",{"Social Network":r,"Module Id":o.get("moduleId").toString(),"Module Name":o.get("moduleName"),"Session Id":c.get("sessionId").toString()})},t.prototype.trackFeedbackGiven=function(e){var t,o;return o={Rating:e.rating,Time:e.timeTaken,Reason:e.reason,Comment:e.feedback,"Session Id":e.sessionId.toString(),"Session Name":null!=(t=this.model)?t.get("name"):void 0},n.T.MIXPANEL_TRACK("Feedback Received",o)},t.prototype.render=function(e){var t;return this.unstickit(),e?this.nextActionHandler(e):(t=c.get("sessionId"),this.$(".feedback-body, button.submit-feedback").removeClass("hide"),this.$(".share-body, button.continue-share").addClass("hide"),this.currentIndex=0,this.$('input[name="rating"]').val(""),this.$(".feedback-form")[0].reset(),this.$(".rating-star").removeClass("filled"),this.$(".leave-a-comment").addClass("hide"),this.$(".feedback-options").addClass("hide"),this.$(".feedback-header-section").animate({height:"203px"},{duration:"fast",easing:"swing"}),this.$(".feedback-options").animate({height:"0px"},{duration:"fast",easing:"swing"}),this.feedbackList=r.attributes,this.model=l.get(t),this.setModuleMeter(),this.validateFeedbackForm(),this.model.set("sessionNumber",l.indexOf(l.get(c.get("sessionId")))+1),this.model.set("totalSessions",l.length),this.$el.modal({show:!0,backdrop:"static",
keyboard:!1}),this.stickit())},t.prototype.findSelectedOption=function(){var e;return e=this.$("[name=feedback-option-name]:checked").val(),this.getDefaultText(this.feedbackList,this.currentIndex,e)},t.prototype.getDefaultText=function(e,t,o){var n;return n="",p.find(e[t],function(e){return function(e){if(e.optionText===o)return n=e.questionText}}(this)),n},t.prototype.setDefaultText=function(){var e;return this.validator.resetForm(),e=this.findSelectedOption(),this.$(".leave-a-comment").removeClass("hide"),this.$(".modal-content").animate({scrollTop:this.$(".modal-content")[0].scrollHeight},"slow"),this.$(".feedback-comment").attr("placeholder",e)},t.prototype.addUserGreetingText=function(){var e,t,o,n;return this.$(".leave-a-comment").addClass("hide"),this.$(".user-greeting").empty(),t=d.get("name")||"",n=t.substr(0,t.indexOf(" ")),e=n.charAt(0).toUpperCase()+n.slice(1),this.$(".feedback-comment").addClass("required"),parseInt(this.currentIndex)<=3?o="Hey "+e+", what went wrong?":4===parseInt(this.currentIndex)?o="Hey "+e+", what could be improved?":(o="Hey "+e+", what went well?",this.$(".feedback-comment").removeClass("required")),this.$(".user-greeting").append(o)},t.prototype.addCannedResponses=function(){return this.$(".feedback-option-block").empty(),p.each(this.feedbackList[this.currentIndex],function(e){return function(t){var o;return o="<label class='feedback-option-item'> <input class='feedback-option-item-radio-button' type='radio' name='feedback-option-name' value='"+t.optionText+"'></input>\t<span class='grey medium-font'>"+t.optionText+"</span> </label>",e.$(".feedback-option-block").append(o)}}(this))},t.prototype.destroy=function(){return this.stopListening(),this.$el.remove()},t}(n.View),t.exports=new u},{"../../../collections/modules":26,"../../../collections/sessions":33,"../../../models/canned-response-model":51,"../../../models/feedback-model":66,"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,backbone:318,"backbone.stickit":317,underscore:445}],264:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f=function(e,t){function o(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},m={}.hasOwnProperty;e("backbone.stickit"),n=e("backbone"),c=e("../../../collections/sessions"),h=e("underscore"),s=e("../../student-router"),i=e("../../../collections/modules"),d=e("../../../models/shared-model"),n.$=$,d=e("../../../models/shared-model"),p=e("../../../models/user-model"),r=e("../../helpers/collection-view-support"),a=e("../segment-item-view"),l=e("../../../models/progress-models/session-progress-model"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.tagname="li",t.prototype.className="session item default",t.prototype.itemViewClass=a,t.prototype.appendToDivSelector=".session-page-segments-list",t.prototype.template=function(){return h.template($("#session-template").html())},t.prototype.bindings={".session-number":"number",".session-name":"name",".session-type":"sessionType",".segment-count":"segmentsLength",".session-availablility-date-value":{observe:"availableFromIso",onGet:function(e){if(e)return n.F.formattedDateWithTimezone(e,{format:"D MMM YYYY",removeTimeZoneAbbr:!0})}}},t.prototype.events={click:"showSegments"},t.prototype.initialize=function(){return h.bindAll(this,"render","remove","showSegments","appendSegmentsProgress","showTimeRemaining","goToSegment","showTags","appendSegments","showAvailibilityDate"),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"updateProgressIcon",this.updateProgressIcon),this.listenTo(this.model,"showActiveSession",this.showActiveSession),this.listenTo(this.model,"expandSession",this.showSegments),this.subViews={}},t.prototype.render=function(){return this.model.set("number","Session "+(c.indexOf(this.model)+1)),this.$el.html(this.template()()),this.$el.addClass("session-"+this.model.cid),this.stickit(),this.showTags(),this.$el},t.prototype.showTags=function(){return this.model.get("isOptional")&&"RESOURCE"!==i.get(this.model.get("moduleId")).get("moduleCategory")?this.$(".session-is-optional").removeClass("hide"):this.$(".session-is-optional").addClass("hide")},t.prototype.appendCompletedSubmissionIcon=function(){return this.$(".session-submission-icons").append('<span class="completed-submissions"></span>')},t.prototype.appendPendingSubmissionIcon=function(){return this.isSubmissionOverdue()?this.$(".session-submission-icons").append('<span data-toggle="tooltip" data-placement="top" title="Submission Pending" class="pending-submissions"></span>'):this.$(".session-submission-icons").append('<span data-toggle="tooltip" data-placement="top" title="Submission Overdue" class="overdue-submissions-icon"></span>')},t.prototype.isSubmissionOverdue=function(){var e;return this.model.get("deadlineIso")?this.model.get("deadlineIso")&&moment(this.model.get("deadlineIso")).diff(moment())>0:null!=(e=i.get(this.model.get("moduleId")))?e.deadlineInFuture():void 0},t.prototype.activateTooltips=function(){return this.$('[data-toggle="tooltip"]').tooltip()},t.prototype.toggleSubmissionIconsVisibility=function(){var e,t,o,n,r;if(this.model.hasSubmissions()){for(e=t=0,n=this.model.completedSubmissionsCount();0<=n?t<n:t>n;e=0<=n?++t:--t)this.appendCompletedSubmissionIcon();for(e=o=0,r=this.model.pendingSubmissionsCount();0<=r?o<r:o>r;e=0<=r?++o:--o)this.appendPendingSubmissionIcon(),this.activateTooltips();return this.$(".session-submission-icons").removeClass("hide")}},t.prototype.showTimeRemaining=function(){var e;if(e=this.model.get("progress").timeRemaining)return e>60?this.$(".time-left").text(this.model.getFormattedTimeRemaining()):this.$(".time-left").text(e+" mins left"),this.$(".session-time-left").removeClass("hide")},t.prototype.updateProgressIcon=function(){var e,t,o,n;return this.$(".session-availablility-date").addClass("hide"),this.appendSegmentsProgress(),this.appendSegments(),this.showTimeRemaining(),this.toggleSubmissionIconsVisibility(),this.$el.removeClass("locked active completed pending default"),e=null!=(t=i.get(this.model.get("moduleId")).get("gradient"))?t.to:void 0,this.isCompleted()?(n="completed",this.model.set("sessionStatus",n)):d.get("currentComponent")&&d.get("currentComponent").get("sessionId")===this.model.get("id")?(n="active",this.model.set("sessionStatus",n),this.$(".session-status").css("color",e)):(null!=(o=this.model.get("progress"))?o.isLocked:void 0)?(n="locked",this.isUnavailable()?this.showAvailibilityDate():this.$(".session-status").tooltip({title:"Finish the previous sessions to unlock"}),this.model.set("sessionStatus",n)):(n="pending",this.$(".session-status").css("color",e),this.model.set("sessionStatus",n)),this.$el.addClass(n)},t.prototype.isCompleted=function(){var e,t;return t=null!=(e=this.model.get("progress"))?e.userProgress:void 0,100===parseInt(t)},t.prototype.isUnavailable=function(){var e;return this.model.get("availableFromIso")?this.model.isUnavailable():null!=(e=i.get(this.model.get("moduleId")))?e.isUnavailable():void 0},t.prototype.showAvailibilityDate=function(){var e;return this.$(".session-availablility-date").removeClass("hide"),e=n.F.formattedDateWithTimezone(this.model.get("availableFromIso"),{format:"Do MMMM YYYY",removeTimeZoneAbbr:!0}),this.$el.tooltip({title:"Available from "+e})},t.prototype.goToSegment=function(e){var t,o,r;if(e.stopPropagation(),!this.model.get("progress").isLocked)return t=null!=(o=d.get("currentComponent"))?o.get("segmentId"):void 0,r=this.model.get("segments").get(t),r&&d.set("segmentId",r.id),d.set("sessionId",this.model.id),s.navigate("/v/course/"+d.get("courseId")+"/session/"+this.model.get("id")+"/segment/"+d.get("segmentId"),!0),n.T.MIXPANEL_TRACK("Session Card Play",this.getEventTrackingData())},t.prototype.showActiveSession=function(){return this.$el.removeClass("locked active completed pending"),this.$el.addClass("active")},t.prototype.appendSegmentsProgress=function(){var e,t;return t=(null!=(e=this.model.get("progress"))?e.segments:void 0)||l.get("segments"),this.removeSegments=[],this.model.get("segments").each(function(e){return function(o){var n;return n=h.find(t,function(e){return e.id===o.get("id")}),n?o.set("progress",n):e.removeSegments.push(o)}}(this)),h.each(this.removeSegments,function(e){return function(t){return e.model.get("segments").remove(t)}}(this))},t.prototype.appendSegments=function(){return this.collection=this.model.get("segments"),this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.addAll()},t.prototype.performAfterAddingItems=function(){return this.$(".segments-list-item").removeClass("hide")},t.prototype.showSegments=function(e){if(e&&(e.preventDefault(),e.stopPropagation(),n.T.MIXPANEL_TRACK("Session Card click",this.getEventTrackingData())),this.model.get("progress")&&this.model.get("segments").length)return this.handleAccordion()},t.prototype.getEventTrackingData=function(){var e;return{Action:"click","Session ID":this.model.id.toString(),"Session Name":this.model.get("name"),isLocked:null!=(e=this.model.get("progress"))?e.isLocked:void 0}},t.prototype.handleAccordion=function(){return this.$(".collapse").hasClass("in")?(this.$(".collapse").collapse("hide"),this.$(".expand-icon").removeClass("collapse-icon"),this.$(".session-status,.session-submission-icons,.session-availablility-date").removeClass("fade-out")):($(".session-page-segments-list.collapse, .sidebar-segments-list.collapse").collapse("hide"),$(".sessions-list,.sidebar-content").find(".collapse-icon").removeClass("collapse-icon"),$(".sessions-list,.sidebar-content").find(".fade-out").removeClass("fade-out"),this.$(".collapse").collapse("show"),this.$(".expand-icon").addClass("collapse-icon"),this.$(".session-status,.session-submission-icons,.session-availablility-date").addClass("fade-out"))},t.prototype.remove=function(){var e,t;if(this.subViews)for(e in this.subViews)this.subViews.hasOwnProperty(e)&&(t=this.subViews[e],t.destroy());return this.stopListening(),this.$el.remove()},t}(n.View),h.extend(u.prototype,r),t.exports=u},{"../../../collections/modules":26,"../../../collections/sessions":33,"../../../models/progress-models/session-progress-model":79,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/collection-view-support":100,"../../student-router":117,"../segment-item-view":258,backbone:318,"backbone.stickit":317,underscore:445}],265:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y,v,b,_,w,S=function(e,t){function o(){this.constructor=e}for(var n in t)C.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},C={}.hasOwnProperty;n=e("backbone"),w=e("underscore"),n.$=$,f=e("./session-item-view"),g=e("../../../collections/sessions"),c=e("../../../collections/modules"),y=e("../../../models/shared-model"),r=e("../../helpers/base-view"),h=e("../../student-router"),l=e("../../../models/progress-models/module-progress-model"),i=e("../../helpers/collection-view-support"),e("./session-feedback"),v=e("../../../collections/user-group-collection"),b=e("./user-group-view"),a=e("../viewer-files/utils/course-getters"),s=e("../../../models/progress-models/course-progress-model"),d=e("../../../models/nps-rating-model"),p=e("../dashboard-components/nps-rating-typeform"),u=e("../../helpers/helper-methods"),_=e("../../../models/user-model"),m=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return S(t,e),t.prototype.el="#sessions",t.prototype.viewIdentifier="sessionsView",t.prototype.itemViewClass=f,t.prototype.events={"click .back":"back","click .parent-module-group":"back","change .opt-out":"goBackToLearn"},t.prototype.initialize=function(){return w.bindAll(this,"showView","back","updateSessionProgressIcons"),t.__super__.initialize.call(this),this.subViews={},this.collection=g,u.ADD_COOKIE_TO_HEADERS(),this.bindCollectionSupportMethods(),this.addCollectionListeners(),this.listenTo(n,n.E.SHOW_SESSIONS_VIEW,this.showView),this.listenTo(n,n.E.UPDATE_SESSIONS_PROGRESS,this.updateSessionProgressIcons),this.listenTo(n,n.E.UPDATE_ACTIVE_SESSION,this.updateActiveSession)},t.prototype.showView=function(e){return y.resetCurrentView(this.viewIdentifier),this.setHeaderData(),this.addAll(),this.$el.removeClass("hide"),n.Demo.show("firstSession"),this.showTeamMembers(),this.showModuleData()},t.prototype.showModuleData=function(){var e;return e=c.get(y.get("moduleId")),this.fetchCourseProgress(function(t){return function(o){var n,r,i;if(e.set("progress",w.findWhere(s.get("modules"),{id:e.id})),e.trigger("updateProgressIcon"),n=e.get("progress"))return i=Math.round(n.userProgress),t.$(".module-progress-count").text(i+"%"),t.$(".module-active-progress").css("width",i+"%"),t.$(".module-active-progress").css("background-color",null!=(r=e.get("gradient"))?r.to:void 0),t.$(".module-progress-value").css("visibility","initial")}}(this))},t.prototype.surveyPopupSetup=function(){return 2!==d.get("npsState")?(n.F.SHOW_LOADER(),d.npsViewedSave(function(e){return function(){return n.F.HIDE_LOADER(),e.openSurveyPopUp()}}(this),function(e){return function(e,t){return n.ERR.SHOW(t)}}(this))):this.openSurveyPopUp()},t.prototype.openSurveyPopUp=function(){var e;return e=new p({model:d}),e.render()},t.prototype.showTeamMembers=function(){if("CASE_STUDY_GROUP"===c.get(y.get("moduleId")).get("moduleType"))return this.teamView&&v.moduleId!==y.get("moduleId")&&this.teamView.remove(),this.teamView=new b,this.$("#user-group-view .team-members-list").html(this.teamView.render()),this.$("#user-group-view").removeClass("hide")},t.prototype.customAddOne=function(e){if(1===this.collection.length)return this.setHeaderData()},t.prototype.setHeaderData=function(){var e,t,o,r;if(o=c.get(y.get("moduleId")),o.isResource()?this.$(".module-summary-container").addClass("hide"):this.$(".module-summary-container").removeClass("hide"),this.$(".module-progress-value").css("visibility","hidden"),this.$(".module-active-progress").css("width","0%"),t=n.F.formattedDateWithTimezone(o.get("deadlineIso"),{format:"Do MMM YYYY",removeTimeZoneAbbr:!0}),this.$(".module-due-date").text(t||"--/--/--").removeClass("hide"),this.$(".course-title").text(o.get("moduleGroup").name),y.get("startupIndia")||this.$(".due-date-info").removeClass("hide"),e=g.models[0])return r=n.F.getModuleText(e),this.$(".module-text").text(r),this.$(".item-heading-text").text(e.get("moduleName")),this.setBackgroundColors()},t.prototype.setBackgroundColors=function(){var e;return e=c.get(y.get("moduleId")),this.$(".item-heading").css("background-image",e.getBackground())},t.prototype.hide=function(){return this.$el.addClass("hide"),this.$("#user-group-view").addClass("hide"),g.each(function(e){return function(e){return e.trigger("destroy")}}(this))},t.prototype.back=function(e){var t;if(t=""+y.get("courseId"),n.trigger(n.E.NAVIGATE_BASED_ON_IFRAME,t,!1),n.trigger(n.E.SHOW_MODULES),e&&$(e.currentTarget).hasClass("parent-module-group"))return n.T.MIXPANEL_TRACK("Breadcrumb Click",{Type:"Course","Course ID":y.get("moduleGroupId").toString(),"Module ID":y.get("moduleId").toString()})},t.prototype.updateSessionProgressIcons=function(){var e,t;return t=!1,e=y.get("currentComponent")&&y.get("currentComponent").get("sessionId"),g.each(function(o){var n,r,i;if(i=w.find(l.get("sessions"),function(e){return function(e){return e.id===o.get("id")}}(this)),o.set("progress",i),o.trigger("updateProgressIcon"),!t&&(r=c.get(o.get("moduleId")),n=!((null!=i?i.isLocked:void 0)||(null!=r?r.isUnavailable():void 0)||100===(null!=i?i.userProgress:void 0)),e||n))return o.trigger("expandSession"),t=!0}),n.trigger("pageShown:"+this.viewIdentifier)},t.prototype.updateActiveSession=function(){if(y.get("currentComponent"))return g.each(function(e){return function(e){if(y.get("currentComponent").get("sessionId")===e.get("id"))return e.trigger("showActiveSession")}}(this))},t}(r),w.extend(m.prototype,i,a),t.exports=new m},{"../../../collections/modules":26,"../../../collections/sessions":33,"../../../collections/user-group-collection":36,"../../../models/nps-rating-model":74,"../../../models/progress-models/course-progress-model":75,"../../../models/progress-models/module-progress-model":77,"../../../models/shared-model":85,"../../../models/user-model":87,"../../helpers/base-view":99,"../../helpers/collection-view-support":100,"../../helpers/helper-methods":104,"../../student-router":117,"../dashboard-components/nps-rating-typeform":166,"../viewer-files/utils/course-getters":291,"./session-feedback":263,"./session-item-view":264,"./user-group-view":267,backbone:318,underscore:445}],266:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;a=e("underscore"),n=e("backbone"),n.$=$,r=e("../../../models/shared-model"),s=e("../user-image-initials-support"),e("backbone.stickit"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.className="user-group-item",t.prototype.template=function(){return a.template($("#user-group-item-template").html())},t.prototype.userImageSelector=".user-image",t.prototype.events={"click .user-image":"showProfile","click .user-info":"showProfile"},t.prototype.bindings={".user-image":{attributes:[{name:"src",observe:"profilePic",onGet:function(){return this.model.get("profilePic")}}]}},t.prototype.initialize=function(){return a.bindAll(this,"render","remove"),this.listenTo(this.model,"hide",this.remove),this.listenTo(this.model,"enableTooltip",this.enableTooltip)},t.prototype.render=function(){return this.model.set("fullname",this.model.get("name")),this.$el.html(this.template()(this.model.toJSON())),this.stickit(),this.model.set("photo",this.model.get("profilePic")),this.user=this.model.toJSON(),this.replaceWithProfilePic(),this.$el},t.prototype.remove=function(){return this.$el.remove(),this.stopListening()},t.prototype.showProfile=function(){return r.set("profileId",parseInt(this.model.get("userId"))),n.trigger(n.E.DISPLAY_PROFILE),n.trigger(n.E.SET_PROFILE_ROUTE)},t.prototype.enableTooltip=function(){return this.$(".user-image").tooltip({title:this.model.get("fullname")})},t}(n.View),a.extend(i.prototype,s),t.exports=i},{"../../../models/shared-model":85,"../user-image-initials-support":275,backbone:318,"backbone.stickit":317,underscore:445}],267:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,i=e("../../../models/shared-model"),r=e("../../helpers/collection-view-support"),s=e("../../../collections/user-group-collection"),a=e("./user-group-item-view"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.template=function(){return l.template($("#user-group-template").html())},t.prototype.itemViewClass=a,t.prototype.initialize=function(){return this.subViews={},this.collection=s,this.bindCollectionSupportMethods(),this.addCollectionListeners()},t.prototype.fetchGroupData=function(){return this.collection.moduleId!==i.get("moduleId")?(this.collection.moduleId=i.get("moduleId"),this.collection.fetch({reset:!0,error:function(e){return function(t,o,n){if(e.collection.reset(),404===o.status)return $("#user-group-view-empty").removeClass("hide")}}(this)})):this.addAll()},t.prototype.render=function(){return this.$el.html(this.template()()),this.fetchGroupData(),this.$el},t.prototype.show=function(){return this.$el.removeClass("hide")},t.prototype.hide=function(){return this.$el.addClass("hide")},t.prototype.remove=function(){return this.removeCollectionListeners(),this.stopListening(),this.$el.remove()},t.prototype.performAfterAddingItems=function(){return this.collection.each(function(e){return e.trigger("enableTooltip")})},t}(n.View),l.extend(u.prototype,r),t.exports=u},{"../../../collections/user-group-collection":36,"../../../models/shared-model":85,"../../helpers/collection-view-support":100,"./user-group-item-view":266,backbone:318,underscore:445}],268:[function(e,t,o){var n,r,i,s,a=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=e("backbone"),s=e("underscore"),r=e("../../models/shared-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.className="quiz-viewer hide",t.prototype.template=function(){return s.template($("#timed-base-screen-template").html())},t.prototype.events=function(){return{"click .proceed-btn":"openTimedQuiz"}},t.prototype.bindings={".no-of-questions":"questionCount",".test-time":{observe:"quizDuration",onGet:function(e){var t,o,n;return n=e,o=n%60,t=(n-o)/60,e=t?t+" hour ":"",e=o?e+o+" minutes":e}},".description-container":{observe:"description",updateMethod:"html"},".title":"title",".type-of-questions":{observe:"questionTypes",onGet:function(e){var t,o;return o={checkbox:"MCQ",code:"Coding",numeric:"Numerical",radio:"SCQ"},t=s.map(e,function(e,t){return o[t]}),t.toString().replace(/,/g,", ")}},".proceed-text":{observe:"status",onGet:function(e){return"finished"===e?"View Results":"started"===e?"Continue":"Proceed"}},".test-total-score":{observe:"questionTypes",onGet:function(e){var t,o;return o=0,t=s.map(e,function(e,t){return o+=e.maxMarks}),o||this.$(".test-score-container").addClass("hide"),o}}},t.prototype.openTimedQuiz=function(){return"finished"===this.model.get("status")?this.trackEvent("click_view_result"):"started"===this.model.get("status")?this.trackEvent("click_continue"):this.trackEvent("click_proceed"),window.open("/t/course/"+r.get("courseId")+"/quiz/"+this.model.get("quizId")+"/session/"+this.model.get("id"))},t.prototype.trackEvent=function(e,t){return t=t||{},t.segment_id=r.get("segmentId").toString(),t.session_id=r.get("sessionId").toString(),t.quiz_id=this.model.get("quizId").toString(),t.quiz_duration=this.model.get("quizDuration"),t.quiz_name=this.model.get("title"),t.category="timed_assessments",n.T.MIXPANEL_TRACK(e,t)},t.prototype.loadGradeStatus=function(){var e,t,o,n,r;if(r=this.model.get("questionSessions"),o=r.pluck("isGraded"),t=0,e=0,s.each(o,function(o){return o?t++:e++}),n=this.model.get("questionCount"),t!==n&&e!==n)return this.$(".quiz-grade-tag").removeClass("hide")},t.prototype.render=function(){return this.$el.html(this.template()()),this.$el.removeClass("hide"),/^\/[v]\//.test(window.location.pathname)||this.loadGradeStatus(),this.stickit(),this.$el},t}(n.View),t.exports=i},{"../../models/shared-model":85,backbone:318,underscore:445}],269:[function(e,t,o){var n,r,i,s,a,u;n=e("backbone"),u=e("underscore"),n.$=$,s=e("../../student-router"),a=e("../../../models/shared-model"),i=e("../../../collections/modules"),r={"digital-marketing":[{stepIdentifier:"startMessage",title:"Welcome to upGrad",content:"upGrad and MICA's PG Certificate Program in Digital Marketing and Communication is a 5-months immersive learning experience for individuals who want to master Marketing in a Digital Age. Here's a sneak peak into the learning experience."},{stepIdentifier:"courseMenuItem",title:"Course Curriculum",content:"The course curriculum is a combination of learning modules, industry case studies and industry projects."},{stepIdentifier:"firstModule",title:"Course Modules",content:"The course is divided into different modules each covering a key learning objective. Each module contains concepts and examples from leading academic and industry professionals."},{stepIdentifier:"firstProject",title:"Live Project",content:"The Live Project is an application of your learnings in a real industry scenario. Be part of creating real live campaigns and seeing their impact."},{stepIdentifier:"firstCaseStudy",title:"Industry Case Studies",content:"Through more than 12 case studies from industry partners such as StarTV, HDFC and others, you apply your learnings and deepen your digital marketing understanding."},{stepIdentifier:"firstSession",title:"Sessions",content:"Each module is broken into smaller 30-40 minutes sessions each covering a key learning objective."},{stepIdentifier:"components",title:"Pages",content:"Each session is broken into different components - videos, quizzes, readings, discussions and assignments are combined to give you an immersive learning experience for the topic."},{stepIdentifier:"discussionsMenuItem",title:"Discussions",content:"Use the discussion forum to interact with and learn from your cohort. The strong peer group will be your biggest source of support and knowledge."},{stepIdentifier:"firstDiscussion",title:"Academic Support",content:"Each academic question can be answered by your peers and is also reviewed by dedicated teaching associates to ensure all your doubts are resolved."},{stepIdentifier:"compactLeaderboard",title:"Discussion Leaderboard",content:"Your participation in the discussion forum contributes to your points on the social leaderboard. Most active students receive rewards such as additional industry hangouts and mentoring sessions."},{stepIdentifier:"calendarMenuItem",title:"Events Calendar",content:"Regular offline events, live academic sessions and industry hangout sessions add to the program experience and are always updated on your calendar."},{stepIdentifier:"supportMenuItem",title:"Student Support",content:"upGrad provides strong hand holding during your entire program journey. If you have a question or a problem or just want to say Hi, your dedicated student support manager will always be there for you."},{stepIdentifier:"continueLearning",title:"Explore the content",content:"This demo contains 2 modules, a case study and a live project for you to explore and better understand the program pedagogy. Click here to continue learning the content anytime from where you left off."},{stepIdentifier:"endMessage",title:"Thank you",content:"The program pedagogy provides you the right conceptual framework, domain understanding and technical know-how. You can explore the demo content or Apply Now for the program."}],"content-marketing":[{stepIdentifier:"startMessage",title:"Welcome to upGrad",content:"The upGrad Content Marketing Certification Program is a 2-months immersive learning experience for individuals who want to master content marketing in a Digital Age. Here's a sneak peak into the learning experience."},{stepIdentifier:"courseMenuItem",title:"Course Curriculum",content:"The course curriculum is a combination of learning modules, industry case studies and content marketing tools."},{stepIdentifier:"firstModule",title:"Course Modules",content:"The course is divided into different modules each covering a key learning objective. Each module contains concepts and examples from leading academic and industry professionals."},{stepIdentifier:"firstCaseStudy",title:"Industry Case Studies",content:"Through more than 4 case studies from industry partners such as StarTV, Grofers and others, you apply your learnings and deepen your content marketing understanding."},{stepIdentifier:"firstSession",title:"Sessions",content:"Each module is broken into smaller 30-40 minutes sessions each covering a key learning objective."},{stepIdentifier:"components",title:"Pages",content:"Each session is broken into different components - videos, quizzes, readings, discussions and assignments are combined to give you an immersive learning experience for the topic."},{stepIdentifier:"discussionsMenuItem",title:"Discussions",content:"Use the discussion forum to interact with and learn from your cohort. The strong peer group will be your biggest source of support and knowledge."},{stepIdentifier:"firstDiscussion",title:"Academic Support",content:"Each academic question can be answered by your peers and is also reviewed by dedicated teaching associates to ensure all your doubts are resolved."},{stepIdentifier:"compactLeaderboard",title:"Discussion Leaderboard",content:"Your participation in the discussion forum contributes to your points on the social leaderboard. Most active students receive rewards such as additional industry hangouts and mentoring sessions."},{stepIdentifier:"calendarMenuItem",title:"Events Calendar",content:"Regular offline events, live academic sessions and industry hangout sessions add to the program experience and are always updated on your calendar."},{stepIdentifier:"supportMenuItem",title:"Student Support",content:"upGrad provides strong hand holding during your entire program journey. If you have a question or a problem or just want to say Hi, your dedicated student support manager will always be there for you."},{stepIdentifier:"continueLearning",title:"Explore the content",content:"This demo contains a module for you to explore and better understand the program pedagogy. Click here to continue learning the content anytime from where you left off."},{stepIdentifier:"endMessage",title:"Thank you",content:"The program pedagogy provides you the right conceptual framework, domain understanding and technical know-how. You can explore the demo content or Apply Now for the program."}],"product-management":[{stepIdentifier:"startMessage",title:"Welcome to upGrad",content:"The upGrad Product Management Certification Program is a 5-months immersive learning experience to grow your career building world class products. Here's a sneak peak into the learning experience."},{stepIdentifier:"courseMenuItem",title:"Course Curriculum",content:"The course curriculum is a combination of learning modules, industry case studies and industry projects."},{stepIdentifier:"firstModule",title:"Course Modules",content:"The course is divided into different modules covering a key learning objective. Each module contains concepts and examples from leading product professionals."},{stepIdentifier:"firstCaseStudy",title:"Industry Case Studies",content:"Solve real world problems through industry case studies and projects built in collaboration with leading product companies to build a portfolio of industry relevant work."},{stepIdentifier:"firstSession",title:"Sessions",content:"Each module is broken into smaller 20-30 min sessions each covering a key learning objective."},{stepIdentifier:"components",title:"Pages",content:"Each session is broken into different components - videos, quizzes, readings, discussions and assignments are combined to give you an immersive learning experience for the topic."},{stepIdentifier:"discussionsMenuItem",title:"Discussions",content:"Use the discussion forum to interact with and learn from your cohort. The strong peer group will be your biggest source of support and knowledge."},{stepIdentifier:"firstDiscussion",title:"Academic Support",content:"Each academic question can be answered by your peers and is also reviewed by dedicated teaching associates to ensure all your doubts are resolved."},{stepIdentifier:"compactLeaderboard",title:"Discussion Leaderboard",content:"Your participation in the discussion forum contributes to your points on the social leaderboard. Most active students receive rewards such as additional industry hangouts and mentoring sessions."},{stepIdentifier:"calendarMenuItem",title:"Events Calendar",content:"Regular offline events, live academic sessions and industry hangout sessions add to the program experience and are always updated on your calendar."},{stepIdentifier:"calendarFirstEvent",title:"1:1 Mentor Sessions",content:"Your dedicated 1:1 mentor sessions provide an excellent opportunity to learn from the experience of top product professionals."},{stepIdentifier:"supportMenuItem",title:"Student Support",content:"upGrad provides strong hand holding during your entire program journey. If you have a question or a problem or just want to say Hi, your dedicated student support manager will always be there for you."
},{stepIdentifier:"continueLearning",title:"Explore the content",content:"This demo contains 2 modules and a case study for you to explore and better understand the program pedagogy. Click here to continue viewing the content anytime from where you left off. "},{stepIdentifier:"endMessage",title:"Thank you",content:"The program pedagogy provides you the right conceptual framework, domain understanding and strong mentorship support. You can explore the demo content or Apply Now for the program."}],"data-analytics":[{stepIdentifier:"startMessage",title:"Welcome to upGrad",content:"The upGrad IIIT-B PG Diploma Program in Data Analytics provides an immersive 11 month learning experience to learn concepts from the most influential analytics leaders of India. Here's a sneak peak into the learning experience."},{stepIdentifier:"courseMenuItem",title:"Course Curriculum",content:"The course curriculum is a combination of learning modules, industry case studies and industry projects."},{stepIdentifier:"firstModule",title:"Course Modules",content:"The course is divided into different modules covering a key learning objective. Each module contains concepts and examples from IIIT-B faculty and industry professionals."},{stepIdentifier:"firstCaseStudy",title:"Industry Case Studies",content:"Curious to know how Uber matches supply and demand using analytics? Immerse yourself in multiple real cases developed in collaboration with Industry Leaders.",onNext:function(e){return s.navigate("/v/course/"+a.get("courseId")+"/dashboard"),n.trigger(n.E.SHOW_DASHBOARD),n.Demo.trackNextClick()}},{stepIdentifier:"discussionsMenuItem",title:"Discussions",content:"Use the discussion forum to interact with and learn from fellow analytics enthusiasts. The strong peer group will be your biggest source of support and knowledge.",onPrev:function(e){return s.navigate("/v/course/"+a.get("courseId")),n.trigger(n.E.SHOW_MODULES),n.Demo.trackPrevClick(),e.end()}},{stepIdentifier:"firstDiscussion",title:"Academic Support",content:"Each academic question can be answered by you or your peers. It is reviewed by dedicated teaching associates to ensure all your doubts are resolved."},{stepIdentifier:"calendarMenuItem",title:"Events Calendar",content:"Live Academic sessions, industry hangouts and offline events add to the program experience and are always updated on your calendar."},{stepIdentifier:"supportMenuItem",title:"Student Support",content:"upGrad provides strong hand holding during your entire program journey. If you have a question or a problem or just want to say Hi, your dedicated student support manager will always be there for you.",onNext:function(e){var t,o,r;return n.Demo.revertStyleTour(),t=a.get("demoModule"),r=null!=(o=t.get("sessions")[0])?o.id:void 0,a.set("sessionId",r),a.get("sessionId")&&(s.navigate("/v/course/"+a.get("courseId")+"/session/"+a.get("sessionId"),!0),$(".components-overlay").removeClass("hide")),n.Demo.trackNextClick(),e.end()}},{stepIdentifier:"components",title:"Explore the Content",content:"The demo module contains 2 sessions and a case study session for you to view and better understand the program content pedagogy.",template:"<div class='popover tour demo'>\n\t<div class=\"pull-right small-font close-tour\" data-role='end'>x</div>\n\t<div class='popover-title large-font bold'></div>\n\t<div class='popover-content medium-font'></div>\n\t<div class='popover-navigation pull-right'>\n\t\t<button class='btn btn-default primary-green-button' data-role='end'>View content</button>\n\t</div>\n</div>"}],"startup-india-english":[{stepIdentifier:"startMessage",title:"Welcome to upGrad",content:"The Startup India Learning Program is a 6-week immersive learning experience to give you more clarity for your entrepreneurial journey. Here's a guide through the learning experience."},{stepIdentifier:"courseMenuItem",title:"Course Curriculum",content:"The course curriculum is a combination of 6 modules each specifically focussing on a topic area. "},{stepIdentifier:"firstModule",title:"Course Modules",content:"The course is divided into different modules covering a key learning objective. Each module contains concepts and examples from leading Entrepreneurs.",onNext:function(e){return a.set("moduleId",i.first().get("id")),a.get("moduleId")&&s.navigate("/v/course/"+a.get("courseId")+"/module/"+a.get("moduleId"),!0),n.Demo.trackNextClick(),e.end()}},{stepIdentifier:"firstSession",title:"Sessions",content:"Each module is broken into smaller 20-30 min sessions each covering a key learning objective."},{stepIdentifier:"components",title:"Pages",content:"Each session is broken into different components - videos, quizzes, readings, discussions and assignments are combined to give you an immersive learning experience for the topic."},{stepIdentifier:"discussionsMenuItem",title:"Discussions",content:"Use the discussion forum to interact with and learn from your cohort. The strong peer group will be your biggest source of support and knowledge."},{stepIdentifier:"firstDiscussion",title:"Academic Support",content:"Each academic question can be answered by your peers in the discussion forum."},{stepIdentifier:"compactLeaderboard",title:"Discussion Leaderboard",content:"Your participation in the discussion forum contributes to your points on the social leaderboard. Most active students receive rewards such as additional industry hangouts and mentoring sessions.",onNext:function(e){return s.navigate("/v/course/"+a.get("courseId")+"/dashboard"),n.trigger(n.E.SHOW_DASHBOARD),n.Demo.trackNextClick()}},{stepIdentifier:"supportMenuItem",title:"Help and Support",content:"Click on the support tab to browse common questions about the program and the platform",onPrev:function(e){return s.navigate("/v/course/"+a.get("courseId")+"/discussions"),n.trigger(n.E.SHOW_DISCUSSION_FORUM),n.Demo.trackPrevClick(),e.end()}},{stepIdentifier:"profileIcon",title:"Student Profile",content:"Complete your profile with a profile picture for your peers to know you better."},{stepIdentifier:"endMessage",element:".start-learning:not(.hide)",orphan:!1,title:"Start Program",content:"So let's get started with the program. We wish you the best in your entrepreneurial journey. Click here to Continue.",placement:"bottom",template:"<div class='popover tour demo'>\n\t<div class=\"pull-right small-font close-tour\" data-role='end'>x</div>\n\t<div class='popover-title large-font bold'></div>\n\t<div class='popover-content medium-font'></div>\n\t<div class='popover-navigation pull-right'>\n\t\t<button class='btn btn-default primary-green-button' data-role='end'>Continue</button>\n\t</div>\n</div>"}],"startup-india-hindi":[{stepIdentifier:"startMessage",title:"    ",content:"    6                     |            |"},{stepIdentifier:"courseMenuItem",title:" ",content:"      6           |"},{stepIdentifier:"firstModule",title:" ",content:"  -              |               |",onNext:function(e){return a.set("moduleId",i.first().get("id")),a.get("moduleId")&&s.navigate("/v/course/"+a.get("courseId")+"/module/"+a.get("moduleId"),!0),n.Demo.trackNextClick(),e.end()}},{stepIdentifier:"firstSession",title:"",content:"   -   -              |  "},{stepIdentifier:"components",title:"",content:"        , , ,   |                 |"},{stepIdentifier:"discussionsMenuItem",title:"",content:"        -         |             |"},{stepIdentifier:"firstDiscussion",title:" ",content:"             |"},{stepIdentifier:"compactLeaderboard",title:"  ",content:"              ,             |",onNext:function(e){return s.navigate("/v/course/"+a.get("courseId")+"/dashboard"),n.trigger(n.E.SHOW_DASHBOARD),n.Demo.trackNextClick()}},{stepIdentifier:"supportMenuItem",title:"  ",content:"               ",onPrev:function(e){return s.navigate("/v/course/"+a.get("courseId")+"/discussions"),n.trigger(n.E.SHOW_DISCUSSION_FORUM),n.Demo.trackPrevClick(),e.end()}},{stepIdentifier:"profileIcon",title:"",content:"                  |"},{stepIdentifier:"endMessage",element:".start-learning:not(.hide)",orphan:!1,title:"",content:"                  |",placement:"bottom",template:"<div class='popover tour demo'>\n\t<div class=\"pull-right small-font close-tour\" data-role='end'>x</div>\n\t<div class='popover-title large-font bold'></div>\n\t<div class='popover-content medium-font'></div>\n\t<div class='popover-navigation pull-right'>\n\t\t<button class='btn btn-default primary-green-button' data-role='end'>Continue</button>\n\t</div>\n</div>"}]},t.exports=r},{"../../../collections/modules":26,"../../../models/shared-model":85,"../../student-router":117,backbone:318,underscore:445}],270:[function(e,t,o){var n,r,i,s,a,u;n=e("backbone"),u=e("underscore"),n.$=$,s=e("../../student-router"),a=e("../../../models/shared-model"),i=e("../../../collections/modules"),r=[{stepIdentifier:"startMessage",orphan:!0,title:"Welcome !!! Your learning starts here...",content:"Take a tour to know all available options on the platform ...",elementBase:"body",backdrop:!0,placement:"top",onNext:function(e){return n.Demo.trackStartTour()},template:"<div class='popover tour demo'>\n\t<div class=\"pull-right small-font close-tour\" data-role='end'>x</div>\n\t<div class='popover-title large-font bold'></div>\n\t<div class='popover-content medium-font'></div>\n\t<div class='popover-navigation pull-right'>\n\t\t<button class='btn btn-default primary-green-button' data-role='next'>Start Tour</button>\n\t</div>\n</div>"},{stepIdentifier:"courseMenuItem",element:"#course",title:"Course",content:"All your academic lessons in one place",backdrop:!0,onShown:function(){return n.trigger(n.E.SELECT_MENU_ITEM,$("#course")),n.Demo.styleTour()},onNext:function(e){return n.Demo.revertStyleTour(),s.navigate("/v/course/"+a.get("courseId")),n.trigger(n.E.SHOW_MODULES),n.Demo.trackNextClick(),e.end()},onPrev:function(e){return n.Demo.revertStyleTour(),n.Demo.trackPrevClick()}},{stepIdentifier:"firstModule",element:".demo-module",title:"Modules",content:"Each module covers specific part of the programme broken down into smaller sessions.",backdrop:!0,placement:"top",onNext:function(e){return n.Demo.trackNextClick()},onPrev:function(e){return s.navigate("/v/course/"+a.get("courseId")+"/dashboard"),n.trigger(n.E.SHOW_DASHBOARD),n.Demo.trackPrevClick()}},{stepIdentifier:"firstProject",element:".demo-project",title:"Live Lectures",content:"Something about live lectures here ....",backdrop:!0,placement:"top",onNext:function(e){return n.Demo.trackNextClick()},onPrev:function(){return n.Demo.trackPrevClick()}},{stepIdentifier:"firstCaseStudy",element:".demo-case-study",title:"Case Study",content:"Each case study will .....",backdrop:!0,placement:"top",onNext:function(e){return a.set("moduleId",i.first().get("id")),a.get("moduleId")&&s.navigate("/v/course/"+a.get("courseId")+"/module/"+a.get("moduleId"),!0),n.Demo.trackNextClick(),e.end()},onPrev:function(){return n.Demo.trackPrevClick()}},{stepIdentifier:"firstSession",element:".sessions-container",title:"Sessions",content:"Sessions contain course content for a specific module",backdrop:!0,placement:"top",onNext:function(e){var t,o;return a.set("sessionId",null!=(t=i.get(a.get("moduleId")))&&null!=(o=t.get("sessions")[0])?o.id:void 0),a.get("sessionId")&&(s.navigate("/v/course/"+a.get("courseId")+"/session/"+a.get("sessionId"),!0),$(".components-overlay").removeClass("hide")),n.Demo.trackNextClick(),e.end()},onPrev:function(e){return s.navigate("/v/course/"+a.get("courseId")),n.trigger(n.E.SHOW_MODULES),n.Demo.trackPrevClick(),e.end()}},{stepIdentifier:"components",title:"Pages",content:"Learn through text, videos and quizzes on pages",backdrop:!0,placement:"top",orphan:!0,onNext:function(e){return s.navigate("/v/course/"+a.get("courseId")+"/dashboard"),n.trigger(n.E.SHOW_DASHBOARD),$(".components-overlay").addClass("hide"),n.Demo.trackNextClick()},onPrev:function(e){return s.navigate("/v/course/"+a.get("courseId")+"/module/"+a.get("moduleId"),!0),$(".components-overlay").addClass("hide"),n.Demo.trackPrevClick(),e.end()}},{stepIdentifier:"discussionsMenuItem",element:"#discussions",title:"Discussions",content:"Connect with your classmates during topic",backdrop:!0,onShown:function(){return n.trigger(n.E.SELECT_MENU_ITEM,$("#discussions")),n.Demo.styleTour()},onNext:function(e){return n.Demo.revertStyleTour(),s.navigate("/v/course/"+a.get("courseId")+"/discussions"),n.trigger(n.E.SHOW_DISCUSSION_FORUM),n.Demo.trackNextClick(),e.end()},onPrev:function(e){return s.navigate("/v/course/"+a.get("courseId")+"/session/"+a.get("sessionId"),!0),$(".components-overlay").removeClass("hide"),n.Demo.trackPrevClick(),e.end()}},{stepIdentifier:"firstDiscussion",element:".discussion-card:first",title:"Discussions",content:"This is how a question looks !! ",backdrop:!0,onNext:function(e){return n.Demo.trackNextClick()},onPrev:function(e){return n.trigger(n.E.SELECT_MENU_ITEM,$("#discussions")),s.navigate("/v/course/"+a.get("courseId")+"/dashboard"),n.trigger(n.E.SHOW_DASHBOARD),n.Demo.trackPrevClick()}},{stepIdentifier:"compactLeaderboard",element:".leaderboard-compact",title:"Leaderboard",content:"Actively contribute in discussions and climb the leaderboard",backdrop:!0,placement:"top",onNext:function(e){return n.trigger(n.E.SHOW_CALENDAR_VIEW),n.Demo.trackNextClick(),e.end()},onPrev:function(){return n.Demo.trackPrevClick()}},{stepIdentifier:"calendarMenuItem",element:"#student-calendar .material-icons",title:"Calendar",content:"Shows student calendar ..",backdrop:!0,onShown:function(){return n.trigger(n.E.SELECT_MENU_ITEM,$("#student-calendar")),n.Demo.styleTour()},onNext:function(e){return n.Demo.revertStyleTour(),n.Demo.trackNextClick()},onPrev:function(e){return n.trigger(n.E.SELECT_MENU_ITEM,$("#discussions")),s.navigate("/v/course/"+a.get("courseId")+"/discussions"),n.trigger(n.E.SHOW_DISCUSSION_FORUM),n.Demo.trackPrevClick(),e.end()}},{stepIdentifier:"calendarFirstEvent",element:".calendar-event-item-dummy:first",title:"Calendar events",content:"Check upcoming events here ..",backdrop:!0,placement:"bottom",onNext:function(){return n.Demo.trackNextClick()},onPrev:function(){return n.Demo.trackPrevClick()}},{stepIdentifier:"calendarSecondEvent",element:".calendar-event-item-dummy:eq(1)",title:"Calendar Events",content:"Check PM related event .. ",backdrop:!0,placement:"bottom",onNext:function(){return n.Demo.trackNextClick()},onPrev:function(){return n.Demo.trackPrevClick()}},{stepIdentifier:"supportMenuItem",element:"#support .material-icons",title:"Support",content:"In case you have a question, upGrad team is here for your resque. You can connect with your chat buddies if you have doubts regrading upGrad or the course.",backdrop:!0,placement:"bottom",onShown:function(){return n.trigger(n.E.SELECT_MENU_ITEM,$("#support")),n.Demo.styleTour()},onNext:function(e){return n.Demo.revertStyleTour(),s.navigate("/v/course/"+a.get("courseId")+"/dashboard"),n.trigger(n.E.SHOW_DASHBOARD),n.Demo.trackNextClick()},onPrev:function(e){return n.trigger(n.E.SHOW_CALENDAR_VIEW),n.Demo.trackPrevClick(),e.end()}},{stepIdentifier:"continueLearning",element:".start-learning:not(.hide)",title:"Start Learning",content:"Start learning here .. ",placement:"bottom",backdrop:!0,onNext:function(e){return n.Demo.trackNextClick()},onPrev:function(){return n.Demo.trackPrevClick()}},{stepIdentifier:"profileIcon",element:".user-menu-toggle",title:"Student Profile",content:"Update your profile",placement:"bottom",backdrop:!0,onNext:function(e){return n.Demo.trackNextClick()},onPrev:function(){return n.Demo.trackPrevClick()}},{stepIdentifier:"endMessage",orphan:!0,title:"Thanks for demo with us.",content:"We feel that you are ready to learn and explore upGrad. Have fun!!!",backdrop:!0,placement:"top",template:"<div class='popover tour demo'>\n\t<div class=\"pull-right small-font close-tour\" data-role='end'>x</div>\n\t<div class='popover-title large-font bold'></div>\n\t<div class='popover-content medium-font'></div>\n\t<div class='popover-navigation pull-right'>\n\t\t<button class='btn btn-default primary-green-button' data-role='end'>Explore</button>\n\t</div>\n</div>"}],t.exports=r},{"../../../collections/modules":26,"../../../models/shared-model":85,"../../student-router":117,backbone:318,underscore:445}],271:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),u=e("underscore"),n.$=$,a=e("./demo-steps"),r=e("./course-based-demo-messages"),s=e("../../../models/shared-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.el="body",t.prototype.events={"click .close-tour":"finishDemo"},t.prototype.initialize=function(){return this.listenTo(n,n.E.INITIALIZE_DEMO_EXPERIENCE,this.initializeTour),this.listenTo(n,n.E.SHOW_DEMO_EXPERIENCE,this.show),this.storage={getItem:function(e){return this[e]},setItem:function(e,t){if("setItem"!==e&&"getItem"!==e&&"deleteItem"!==e)return this[e]=t},deleteItem:function(e){return delete this[e]}}},t.prototype.finishDemo=function(){return this.storage.deleteItem("demo_current_step"),n.Demo.trackDemoClosed(),n.Demo.finish()},t.prototype.initializeTour=function(){var e,t;if(!n.Demo.onGoing())return t=new Tour({name:"demo",container:"body",steps:[],smartPlacement:!0,storage:this.storage,onEnd:function(e){return function(t){if(n.Demo.isLastStep(n.Demo.getCurrentStep()))return e.storage.deleteItem("demo_current_step"),n.Demo.trackDemoComplete(),n.Demo.finish()}}(this),onNext:function(e){return n.Demo.trackNextClick()},onPrev:function(e){return n.Demo.trackPrevClick()},template:"<div class='popover tour demo'>\n\t<div class=\"pull-right small-font close-tour\" data-role='end'>x</div>\n\t<div class='popover-title large-font bold'></div>\n\t<div class='popover-content medium-font'></div>\n\t<div class='popover-navigation pull-right'>\n\t\t<button class='btn btn-default secondary-green-button' data-role='prev'>Previous</button>\n\t\t<button class='btn btn-default primary-green-button' data-role='next'>Next</button>\n\t</div>\n</div>"}),s.set("demoTour",t),e=r[s.get("programKey")],u.each(e,function(e){return function(e){var o,n;return n=u.find(a,function(t){return t.stepIdentifier===e.stepIdentifier}),e.element?n.element=e.element:!n.element&&n.elementBase&&(o=$(n.elementBase).find(n.elementSelector),n.element=o),n.title=e.title,n.content=e.content,e.onNext&&(n.onNext=e.onNext),e.onPrev&&(n.onPrev=e.onPrev),e.template&&(n.template=e.template),e.hasOwnProperty("orphan")&&(n.orphan=e.orphan),e.placement&&(n.placement=e.placement),t.addStep(n)}}(this))},t.prototype.show=function(e){var t,o;if(n.Demo.onGoing())return t=n.Demo.getStepIndexFromIdentifier(e),o=s.get("demoTour"),o._options.steps.length&&n.Demo.start(),setTimeout(function(e){return function(){return t?(o.setCurrentStep(t),o.start(!0)):(o.init(),o.start(!0))}}(this),1e3)},t}(n.View),t.exports=new i},{"../../../models/shared-model":85,"./course-based-demo-messages":269,"./demo-steps":270,backbone:318,underscore:445}],272:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;r=e("backbone"),u=e("underscore"),r.$=$,n=e("../../../models/account-settings-model"),s=e("../../../models/shared-model"),a=e("../../../models/user-model"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.el="body",t.prototype.events={"click .hide-forum-onboarding":"hide"},t.prototype.topicSelector="#discussion-forum .questions-filter-div",t.prototype.sortSelector="#discussion-forum .sort",t.prototype.searchSelector="#discussion-forum .search",t.prototype.flagSelector="#discussion-forum .flag-question:first",t.prototype.answerSelector="#discussion-question-detail .answer-question",t.prototype.commentSelector="#discussion-question-detail .comment-icon:first",t.prototype.hindiTextMessages={topicSelector:"   |",sortSelector:",        |",searchSelector:"   |",flagSelector:"  /    |",commentSelector:"        |",answerSelector:"  |"},t.prototype.englishTextMessages={topicSelector:"Filter posts by topic.",sortSelector:"Sort posts based on number or answers, upvotes etc.",searchSelector:"Search for questions from here.",flagSelector:"Use this option to flag inappropriate/ spam posts.",commentSelector:"Use Comments to reply to an existing answer.",answerSelector:"Post an answer to the question."},t.prototype.initialize=function(){return this.listenTo(r,r.E.SHOW_FORUM_DEMO,this.showDiscussionListDemo),this.listenTo(r,r.E.SHOW_FORUM_DETAIL_DEMO,this.showForumDetailDemo)},t.prototype.shouldShowDiscussionListDemo=function(){var e,t,o;return o=!r.Demo.onGoing(),e=null!=(t=n.get("tour"))?t.forumDemo:void 0,e=e?JSON.parse(e):{},o&(s.get("forceShowForumListDemo")||!e.is_old_student&&!e.list_demo_seen)},t.prototype.showDiscussionListDemo=function(){var e;if(e=a.get("career_eligible"),e&&this.shouldShowDiscussionListDemo())return this.addBackdrop(),this.highlightForumItems(),this.addTextForTopic(),this.addTextForSort(),this.addTextForSearch(),this.addTextForFlag(),this.updateDemoProperty("listDemoSeen",!0),s.set("forceShowForumListDemo",!1)},t.prototype.shouldShowDiscussionDetailDemo=function(){var e,t,o;return o=!r.Demo.onGoing(),e=null!=(t=n.get("tour"))?t.forumDemo:void 0,e=e?JSON.parse(e):{},o&(s.get("forceShowForumDetailDemo")||!e.is_old_student&&!e.list_demo_seen)},t.prototype.showForumDetailDemo=function(){if(this.shouldShowDiscussionDetailDemo())return r.F.SCROLL_TO_ELEMENT($("#discussion-question-detail .discussion-card-content .title"),-50),this.addBackdrop(),this.highlightForumDetailItems(),this.addTextForComment(),this.addtextForAnswer(),this.updateDemoProperty("detail_demo_seen",!0),s.set("forceShowForumDetailDemo",!1)},t.prototype.updateDemoProperty=function(e,t){var o,i,s;if(o=null!=(i=n.get("tour"))?i.forumDemo:void 0,o=o?JSON.parse(o):{},o[e]!==t)return o[e]=t,s=n.get("tour"),s.forumDemo=JSON.stringify(o),n.set("tour",s),n.save(n.toJSON(),{url:r.C.MEDIA_PATH()+"/v2/usersettings"})},t.prototype.highlightForumItems=function(){var e;return e=[this.topicSelector,this.sortSelector,this.searchSelector,this.flagSelector],$(e.join(",")).addClass("highlight-for-forum-onboarding")},t.prototype.highlightForumDetailItems=function(){var e;return e=[this.answerSelector,this.commentSelector],$(e.join(",")).addClass("highlight-for-forum-onboarding")},t.prototype.removeHighlightsFromForumItems=function(){var e;return e=[this.topicSelector,this.sortSelector,this.searchSelector,this.flagSelector],$(e.join(",")).removeClass("highlight-for-forum-onboarding")},t.prototype.removeHighlightsFromForumDetailItems=function(){var e;return e=[this.answerSelector,this.commentSelector],$(e.join(",")).removeClass("highlight-for-forum-onboarding")},t.prototype.addBackdrop=function(){return $("body").append("<div class='tour-backdrop forum-onboarding'></div>"),$("body").append("<i style='position: fixed;' class='material-icons forum-onboarding-added-elements hide-forum-onboarding'>clear</i>")},t.prototype.addElement=function(e,t,o,n,r,i){return $("body").append("<p style='"+e+"' class='"+t+"'>"+r+"</p>\n<p style='"+o+"' class='"+n+"'>"+i+"</p>")},t.prototype.getText=function(e){return"startup-india-hindi"===s.get("programKey")?this.hindiTextMessages[e]:this.englishTextMessages[e]},t.prototype.addTextForTopic=function(){var e,t,o,n,r,i;if(o=null!=(n=$(this.topicSelector)[0])?n.getBoundingClientRect():void 0)return t="top: "+o.bottom+"px; left: "+(o.left+40)+"px",e="forum-onboarding-added-elements onboarding-arrow",i="top: "+(o.bottom+17)+"px; left: "+(o.left-100)+"px; width: 200px",r="forum-onboarding-added-elements forum-onboarding-text",this.addElement(t,e,i,r,"",this.getText("topicSelector"))},t.prototype.addTextForSort=function(){var e,t,o,n,r,i;if(o=null!=(n=$(this.sortSelector)[0])?n.getBoundingClientRect():void 0)return t="top: "+o.bottom+"px; left: "+(o.right-70)+"px",e="forum-onboarding-added-elements onboarding-arrow",i="top: "+(o.bottom+13)+"px; left: "+(o.right-30)+"px; width: 200px;",r="forum-onboarding-added-elements forum-onboarding-text",this.addElement(t,e,i,r,"",this.getText("sortSelector"))},t.prototype.addTextForSearch=function(){var e,t,o,n,r,i;if(o=null!=(n=$(this.searchSelector)[0])?n.getBoundingClientRect():void 0)return t="top: "+(o.top-15)+"px; left: "+(o.right+2)+"px",e="forum-onboarding-added-elements onboarding-arrow",i="top: "+(o.top-30)+"px; left: "+(o.right+2)+"px; width: 200px",r="forum-onboarding-added-elements forum-onboarding-text",this.addElement(t,e,i,r,"",this.getText("searchSelector"))},t.prototype.addTextForFlag=function(){var e,t,o,n,r,i;if(o=null!=(n=$(this.flagSelector)[0])?n.getBoundingClientRect():void 0)return t="top: "+(o.top-10)+"px; left: "+(o.left-40)+"px; transform: rotate(60deg);",e="forum-onboarding-added-elements onboarding-arrow",i="top: "+(o.top-50)+"px; left: "+(o.left-130)+"px; width: 200px",r="forum-onboarding-added-elements forum-onboarding-text",this.addElement(t,e,i,r,"",this.getText("flagSelector"))},t.prototype.addTextForComment=function(){var e,t,o,n,r,i;if(o=null!=(n=$(this.commentSelector)[0])?n.getBoundingClientRect():void 0)return t="top: "+o.top+"px; left: "+(o.right+10)+"px; transform: rotate(270deg);",e="forum-onboarding-added-elements onboarding-arrow",i="top: "+(o.top+40)+"px; left: "+(o.right+10)+"px; width: 300px",r="forum-onboarding-added-elements forum-onboarding-text",this.addElement(t,e,i,r,"",this.getText("commentSelector"))},t.prototype.addtextForAnswer=function(){var e,t,o,n,r,i;if(o=null!=(n=$(this.answerSelector)[0])?n.getBoundingClientRect():void 0)return t="top: "+(o.top-10)+"px; left: "+(o.left-40)+"px; transform: rotate(60deg);",e="forum-onboarding-added-elements onboarding-arrow",i="top: "+(o.top-20)+"px; left: "+(o.left-120)+"px; width: 200px",r="forum-onboarding-added-elements forum-onboarding-text",this.addElement(t,e,i,r,"",this.getText("answerSelector"))},t.prototype.hide=function(){return this.removeHighlightsFromForumItems(),this.removeHighlightsFromForumDetailItems(),$(".forum-onboarding, .forum-onboarding-added-elements").remove()},t}(r.View),t.exports=new i},{"../../../models/account-settings-model":44,"../../../models/shared-model":85,"../../../models/user-model":87,backbone:318,underscore:445}],273:[function(e,t,o){var n,r,i,s,a,u;r=e("backbone"),u=e("underscore"),r.$=$,s=e("../../../models/shared-model"),i=e("../../../models/config-model"),a=e("../../../models/user-model"),n=e("../../../models/account-settings-model"),r.Demo={canShowDemo:function(){return i.showModule("demo")&&(r.F.isDemoPlatform()||r.F.isStartupIndia())&&r.F.isTourAvailable()&&r.F.isAllowedScreenSize()},initialize:function(e){if(null==e&&(e=!1),this.canShowDemo())return r.F.fetchAccountSettings(function(t){return function(){return!e&&t.started()||(r.trigger(r.E.INITIALIZE_DEMO_EXPERIENCE),t.show()),r.F.HIDE_LOADER()}}(this))},updateDemoProperty:function(e,t){var o,i,a,u;if(s.get("demoTour")&&(s.get("demoTour")._options.storage.setItem(e,t),i=null!=(a=n.get("tour"))?a.demo:void 0,i=i?JSON.parse(i):{},o=i[s.get("programKey")]||{},o[e]!==t))return o[e]=t,i[s.get("programKey")]=o,u=n.get("tour"),u.demo=JSON.stringify(i),n.set("tour",u),n.save(n.toJSON(),{url:r.C.MEDIA_PATH()+"/v2/usersettings"})},getDemoProperty:function(e){var t,o,r,i;return"demo_current_step"===e?null!=(t=s.get("demoTour"))?t.getCurrentStep():void 0:null!=(o=JSON.parse((null!=(r=n.get("tour"))?r.demo:void 0)||"{}"))&&null!=(i=o[s.get("programKey")])?i[e]:void 0},show:function(e){if(this.canShowDemo())return r.trigger(r.E.SHOW_DEMO_EXPERIENCE,e)},start:function(){return $(".demo-overlay").removeClass("hide"),this.updateDemoProperty("upgrad_demo_started",!0),this.updateDemoProperty("upgrad_demo_closed",!1)},started:function(){var e,t;return t=null!=(e=this.getDemoProperty("upgrad_demo_started"))?e.toString():void 0,"true"===t},finish:function(){if(!this.finished())return $(".demo-overlay, .components-overlay").addClass("hide"),this.updateDemoProperty("upgrad_demo_closed",!0),s.set("demoTour",null)},finished:function(){var e;return"true"===(null!=(e=this.getDemoProperty("upgrad_demo_closed"))?e.toString():void 0)},onGoing:function(){return!!s.get("demoTour")},hasStep:function(e){var t,o,n;if(n=s.get("demoTour"))return o=n._options.steps,t=u.find(o,function(t){return t.stepIdentifier===e}),!!t},getStepFromIdentifier:function(e){var t,o,n;if(n=s.get("demoTour"))return o=n._options.steps,t=u.find(o,function(t){return t.stepIdentifier===e})},getStepIndexFromIdentifier:function(e){var t,o,n,r;if(t=this.getStepFromIdentifier(e),r=s.get("demoTour"),r&&t)return n=r._options.steps,o=n.indexOf(t)},isLastStep:function(e){var t,o;if(this.onGoing())return o=s.get("demoTour"),t=o._options.steps,t[t.length-1].stepIdentifier===e},styleTour:function(){return $(".tour-step-background").addClass("circular-tour-background")},revertStyleTour:function(){return $(".tour-step-background").removeClass("circular-tour-background")},getCurrentStep:function(){var e,t,o;return o=parseInt(this.getDemoProperty("demo_current_step")),null!=(e=s.get("demoTour"))&&null!=(t=e._options.steps[o])?t.stepIdentifier:void 0},clearTourData:function(){return u.each(["demo_end","upgrad_demo_started","upgrad_demo_closed","demo_current_step"],function(e){var t;return t=s.get("demoTour"),t&&t._options.storage.deleteItem(e),s.set("demoTour",null)})},clearForumTourData:function(){return s.set("forceShowForumListDemo",!0),s.set("forceShowForumDetailDemo",!0)},trackStartTour:function(){return r.T.MIXPANEL_TRACK("Demo Tour",{Action:"start",Email:a.get("email"),Course:s.get("programKey")})},trackDemoClosed:function(){return r.T.MIXPANEL_TRACK("Demo Tour",{Action:"cross",Email:a.get("email"),Course:s.get("programKey"),"Step Num":parseInt(this.getDemoProperty("demo_current_step")),Step:this.getCurrentStep()})},trackPrevClick:function(){return r.T.MIXPANEL_TRACK("Demo Tour",{Action:"previous",Email:a.get("email"),Course:s.get("programKey"),"Step Num":parseInt(this.getDemoProperty("demo_current_step")),Step:this.getCurrentStep()})},trackNextClick:function(){return r.T.MIXPANEL_TRACK("Demo Tour",{Action:"next",Email:a.get("email"),Course:s.get("programKey"),"Step Num":parseInt(this.getDemoProperty("demo_current_step")),Step:this.getCurrentStep()})},trackDemoComplete:function(){return r.T.MIXPANEL_TRACK("Demo Tour",{Action:"explore",Email:a.get("email"),Course:s.get("programKey")
})}}},{"../../../models/account-settings-model":44,"../../../models/config-model":54,"../../../models/shared-model":85,"../../../models/user-model":87,backbone:318,underscore:445}],274:[function(e,t,o){var n,r,i,s;n=e("backbone"),s=e("underscore"),n.$=$,r=e("../../models/config-model"),i={bindUpvoteSupportMethods:function(){return s.bindAll(this,"bindUpvoteEvents","initializeUpvoteState","showUpvotes","updatePermissions","updateVotesClick","toggleVote"),this.bindUpvoteEvents()},bindUpvoteEvents:function(){return this.listenTo(this.model,"change:votes",this.updateVotesClick)},initializeUpvoteState:function(){return this.model.get("hasUpvoted")&&this.$(".upvote-"+this.type).addClass("voted"),n.F.IS_USER_LOGGED_IN(this.model.get("owner").userId)&&this.$(".upvote-"+this.type).tooltip({title:"Cannot upvote your own "+this.type}),this.updatePermissions(),this.updateVotesClick()},showUpvotes:function(e){if(e&&e.stopPropagation(),this.model.get("votes"))return n.trigger(n.E.SHOW_UPVOTES,{itemId:this.model.get("id"),type:this.type+"s"})},updatePermissions:function(){if(r.checkDiscussionPermission("upvote","create")&&(this.$(".upvote-"+this.type).removeClass("hide"),this.$(".discussion-card-footer").removeClass("hide")),r.checkDiscussionPermission("upvote","read"))return this.$("."+this.type+"-upvote-count").removeClass("hide"),this.$(".discussion-card-footer").removeClass("hide")},updateVotesClick:function(){return this.model.get("votes")?(this.$(".upvotes").removeClass("normal-cursor"),this.$(".upvotes").addClass("underline-on-hover")):(this.$(".upvotes").addClass("normal-cursor"),this.$(".upvotes").removeClass("underline-on-hover"))},toggleVote:function(e){var t,o;if(e.stopPropagation(),!n.F.IS_USER_LOGGED_IN(this.model.get("owner").userId))return o=this.type[0].toUpperCase()+this.type.slice(1),this.model.get("hasUpvoted")?(this.model.set("votes",this.model.get("votes")-1),this.model.set("hasUpvoted",!1),this.model.downvote(),this.$(".upvote-"+this.type).removeClass("voted"),n.T.MIXPANEL_TRACK("Downvote",{"Entity ID":this.model.get("id").toString(),"Entity Type":o}),t=new Date,n.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Forum Activity":t.toISOString()})):(this.model.set("votes",this.model.get("votes")+1),this.model.set("hasUpvoted",!0),n.T.MIXPANEL_TRACK("Upvote",{"Entity ID":this.model.get("id").toString(),"Entity Type":o}),t=new Date,n.T.MIXPANEL_SET_PEOPLE_PROPERTY({"Last Forum Activity":t.toISOString()}),this.model.upvote(),this.$(".upvote-"+this.type).addClass("voted"))}},t.exports=i},{"../../models/config-model":54,backbone:318,underscore:445}],275:[function(e,t,o){var n,r,i,s;n=e("backbone"),i=e("underscore"),n.$=$,s=e("sanitize-html"),r={colors:["#F66B68","#5097E2","#1CB9C7","#F7915E","#34ADA3","#3F6799","#6458A6","#2D92BA","#C24C65","#F7AF43"],getInitials:function(){var e,t,o,n,r,i;return this.user.fullname||(this.user.fullname=this.user.firstname,this.user.lastname&&(this.user.fullname+=" "+this.user.lastname)),this.user.fullname&&(e=null!=(t=this.user.fullname.split(" ")[0])&&null!=(o=t[0])?o.toUpperCase():void 0,this.user.fullname.split(" ")&&(null!=(n=this.user.fullname.split(" ")[1])?n[0]:void 0)&&(e+=null!=(r=this.user.fullname.split(" ")[1])&&null!=(i=r[0])?i.toUpperCase():void 0)),e||""},getUserInitialsHtml:function(){var e,t,o,n,r;return r=s(this.getInitials()),n=this.user.userId||this.user.id,o=n%this.colors.length,o||(o=0),e=this.colors[o],t=this.$(this.userImageSelector).attr("class"),t&&(t+=" user-image-initials-wrapper"),'<div class="'+t+'" style="background: '+e+";\">\n\t<div class='user-image-initials' data-toggle='tooltip'>\n\t\t"+r+"\n\t</div>\n</div>"},replaceWithProfilePic:function(){var e,t,o;if(this.user)return(null!=(t=this.user.profilePic)?t.url:void 0)||this.user.photo?(this.$("img"+this.userImageSelector).attr("src",(null!=(o=this.user.profilePic)?o.url:void 0)||this.user.photo),this.$("div"+this.userImageSelector).addClass("hide"),this.$("img"+this.userImageSelector).removeClass("hide")):(e=this.getUserInitialsHtml(),this.$("img"+this.userImageSelector).addClass("hide"),this.$("div"+this.userImageSelector).remove(),$(e).insertAfter(this.$("img"+this.userImageSelector)),this.$("div"+this.userImageSelector).removeClass("hide"))}},t.exports=r},{backbone:318,"sanitize-html":426,underscore:445}],276:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;n=e("backbone"),c=e("underscore"),n.$=$,u=e("../../../models/shared-model"),l=e("../../../models/user-model"),s=e("./dynamic-module-viewer"),a=e("../../student-router"),r=e("../../../collections/calendar-events"),e("../calendar/calendar-view"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.moduleName="calendar",t.prototype.dependentCollections=[r],t.prototype.listeners=[{event:n.E.SHOW_CALENDAR_VIEW,method:"navigateToCalendar"}],t.prototype.fetchCalendarEvents=function(e){return r.length?e?e():void 0:(n.trigger(n.E.EMPTY_OVERDUE_LIST),r.fetch({reset:!0,data:{courseId:u.get("courseId"),startDateIso:moment().subtract(6,"M").format("DD-MM-YYYY"),endDateIso:moment().add(6,"M").format("DD-MM-YYYY")},success:function(t){return function(){if(e)return e()}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)}))},t.prototype.navigateToCalendar=function(e){return n.F.SHOW_LOADER(),this.fetchCalendarEvents(function(t){return function(){return n.trigger(n.E.SELECT_MENU_ITEM,$("#student-calendar")),document.title="Calendar | upGrad",n.trigger(n.E.SHOW_CALENDAR),n.trigger(n.E.SHOW_CALENDAR_NOTIFICATION_ITEM,e),n.F.HIDE_LOADER()}}(this))},t}(s),t.exports=new i},{"../../../collections/calendar-events":7,"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,"../calendar/calendar-view":125,"./dynamic-module-viewer":281,backbone:318,underscore:445}],277:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y,v,b,_=function(e,t){function o(){this.constructor=e}for(var n in t)w.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},w={}.hasOwnProperty;n=e("backbone"),b=e("underscore"),n.$=$,g=e("../../../models/shared-model"),v=e("../../../models/user-model"),c=e("../../../collections/modules"),m=e("../../../collections/sessions"),h=e("../../../models/session-model"),i=e("../../../models/progress-models/course-progress-model"),l=e("../../../models/progress-models/module-progress-model"),f=e("../../../models/progress-models/session-progress-model"),r=e("../../../models/canned-response-model"),d=e("../question-factory"),u=e("./dynamic-module-viewer"),p=e("../../student-router"),y=e("../../../collections/user-group-collection"),s=e("./utils/course-getters"),e("../modules/module-view"),e("../component-view"),e("../sessions/session-view"),e("../segment-view"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _(t,e),t.prototype.moduleName="course",t.prototype.dependentCollections=[c,m],t.prototype.listeners=[{event:n.E.SHOW_MODULES,method:"showModulesPage"},{event:n.E.SHOW_MODULES_FOR_SELECTED_GROUP,method:"showModules"},{event:n.E.SHOW_SESSIONS,method:"showSessions"},{event:n.E.SHOW_SEGMENTS,method:"showSegments"}],t.prototype.initialize=function(){return t.__super__.initialize.call(this),new d},t.prototype.addModule=function(){return this.fetchCannedResponse(),t.__super__.addModule.call(this)},t.prototype.fetchCannedResponse=function(){return r.fetch()},t.prototype.highlightCourseItem=function(){return n.trigger(n.E.SELECT_MENU_ITEM,$("#course"))},t.prototype.showModulesPage=function(){return this.highlightCourseItem(),this.fetchModuleGroups(function(e){return function(){return n.trigger(n.E.SHOW_MODULE_GROUPS_SIDEBAR)}}(this)),this.fetchCurrentComponent(function(e){return function(){return e.showModules()}}(this))},t.prototype.showModules=function(){return this.fetchModules(function(e){return function(){return e.fetchCourseProgress(function(){return n.F.HIDE_LOADER(),e.course&&(document.title="All Modules - "+e.course.get("name")+" | upGrad"),n.trigger(n.E.UPDATE_MODULES_PROGRESS),n.trigger(n.E.UPDATE_ACTIVE_MODULE)}),n.trigger(n.E.SHOW_MODULES_VIEW)}}(this))},t.prototype.showSessions=function(){return this.highlightCourseItem(),this.fetchSessions(function(e){return function(){return e.fetchModuleProgress(function(){return document.title=c.get(g.get("moduleId")).get("name")+" | upGrad",n.trigger(n.E.UPDATE_SESSIONS_PROGRESS)}),n.F.HIDE_LOADER(),n.trigger(n.E.SHOW_SESSIONS_VIEW)}}(this)),this.fetchCurrentComponent(function(e){return function(){return n.trigger(n.E.UPDATE_ACTIVE_SESSION)}}(this))},t.prototype.showSegments=function(){return this.highlightCourseItem(),this.fetchSegments(function(e){return function(){return e.fetchModuleProgress(function(){return n.F.HIDE_LOADER(),document.title=m.get(g.get("sessionId")).get("name")+" | upGrad",n.trigger(n.E.SHOW_SEGMENTS_VIEW),n.trigger(n.E.UPDATE_SESSIONS_PROGRESS)})}}(this)),this.fetchCurrentComponent(function(e){return function(){return n.trigger(n.E.UPDATE_SEGMENTS_PROGRESS)}}(this)),n.P.mark("route:segmentView")},t.prototype.fetchSessions=function(e,t){return null==t&&(t=!1),t||!c.get(g.get("moduleId"))?this.fetchModuleById(g.get("moduleId"),function(t){return function(t){if(c.add(t),g.set("moduleGroupId",t.get("moduleGroupId")),m.reset(c.get(g.get("moduleId")).get("sessions")),e)return e()}}(this)):(m.reset(c.get(g.get("moduleId")).get("sessions")),e?e():void 0)},t.prototype.fetchSegments=function(e){var t;return m.get(g.get("sessionId"))?e?e():void 0:(n.F.SHOW_LOADER(),t=new h({id:g.get("sessionId")}),t.fetch({success:function(o){return function(){return g.set("moduleId",t.get("moduleId")),g.set("moduleGroupId",t.get("moduleGroupId")),o.fetchSessions(function(){if(e)return e()})}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)}))},t.prototype.fetchModuleProgress=function(e){return n.F.SHOW_LOADER(),l.set("moduleId",g.get("moduleId")),l.fetch({success:function(t){return function(o){return t.sessionUpdated()?t.fetchSessions(function(){return t.updateSessions(),m.updateProgress(),e&&e(o),n.F.HIDE_LOADER()},!0):(m.updateProgress(),e?e(o):void 0)}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},t}(u),b.extend(a.prototype,s),t.exports=new a},{"../../../collections/modules":26,"../../../collections/sessions":33,"../../../collections/user-group-collection":36,"../../../models/canned-response-model":51,"../../../models/progress-models/course-progress-model":75,"../../../models/progress-models/module-progress-model":77,"../../../models/progress-models/session-progress-model":79,"../../../models/session-model":84,"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,"../component-view":131,"../modules/module-view":214,"../question-factory":240,"../segment-view":259,"../sessions/session-view":265,"./dynamic-module-viewer":281,"./utils/course-getters":291,backbone:318,underscore:445}],278:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h=function(e,t){function o(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},f={}.hasOwnProperty;n=e("backbone"),p=e("underscore"),n.$=$,u=e("./dynamic-module-viewer"),l=e("../../student-router"),c=e("../../../models/shared-model"),d=e("../../../models/user-model"),i=e("../../../models/progress-models/course-progress-model"),s=e("./utils/course-getters"),r=e("../../../models/config-model"),e("../dashboard-view"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.moduleName="dashboard",t.prototype.listeners=[{event:n.E.SHOW_DASHBOARD,method:"showDashboard"}],t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.showDashboard=function(){return n.trigger(n.E.SELECT_MENU_ITEM,$("#home")),this.fetchCurrentComponent(function(e){return function(t){if(c.get("courseName")?document.title=c.get("courseName")+" Home | upGrad":document.title="Home | upGrad",r.showSubModule("dashboard","courseProgress"))return n.trigger(n.E.SHOW_MODULE_PROGRESS,t),e.fetchCourseProgress(function(e){return n.F.HIDE_LOADER(),n.trigger(n.E.SHOW_CURRENT_COMPONENT_PROGRESS,e),n.Demo.initialize()})}}(this)),n.trigger(n.E.INITIALIZE_DASHBOARD_COMPONENTS)},t}(u),p.extend(a.prototype,s),t.exports=new a},{"../../../models/config-model":54,"../../../models/progress-models/course-progress-model":75,"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,"../dashboard-view":173,"./dynamic-module-viewer":281,"./utils/course-getters":291,backbone:318,underscore:445}],279:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f=function(e,t){function o(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},m={}.hasOwnProperty;n=e("backbone"),h=e("underscore"),n.$=$,u=e("./dynamic-module-viewer"),c=e("../../student-router"),d=e("../../../models/shared-model"),p=e("../../../models/user-model"),i=e("../../../collections/discussions/discussion-contexts"),s=e("../../../collections/discussions/discussion-questions"),l=e("../../../collections/discussions/my-questions-collection"),r=e("../../../collections/discussions/my-bookmarks-collection"),e("../discussions/questions-list-view"),e("../discussions/search-results-view"),e("../discussions/question-detail-view"),e("../discussions/create-question-view"),e("../discussions/my-bookmarks-view"),e("../discussions/upvote-users-modal-view"),e("../tours/forum-demo-highlights"),e("../discussions/related-questions-view"),e("../discussions/suggestion-list-view"),e("../discussions/facets-view"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.moduleName="discussions",t.prototype.listeners=[{event:n.E.SHOW_DISCUSSION_FORUM,method:"showDiscussions"},{event:n.E.SHOW_SEARCH_RESULTS,method:"showSearch"},{event:n.E.SHOW_QUESTION_DETAILS,method:"showQuestionDetails"},{event:n.E.SHOW_MY_BOOKMARK_VIEW,method:"showMyBookmarks"},{event:n.E.SHOW_SINGLE_ANSWER,method:"showSingleAnswerView"}],t.prototype.dependentCollections=[i,s,r,l],t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.navigateToForum=function(){var e;return e=window.location.pathname.indexOf("dashboard")!==-1?"Dashboard":window.location.pathname.indexOf("module")!==-1?"Sessions Page":window.location.pathname.indexOf("session")!==-1?"Segments Page":window.location.pathname.indexOf("course")!==-1?"Modules Page":window.location.pathname.indexOf("calendar")!==-1?"Calendar Page":window.location.pathname.indexOf("discussions")!==-1?"Discussion Page":window.location.pathname,n.T.MIXPANEL_TRACK("Click Forum Button",{"Ref Page":e}),d.set("discussionQuestionId",null),this.showDiscussions()},t.prototype.showQuestionDetails=function(e){return this.fetchCourseStructure(function(t){return function(){return n.trigger(n.E.SELECT_MENU_ITEM,$("#discussions")),n.trigger(n.E.SHOW_QUESTION_DETAILS_VIEW,e)}}(this))},t.prototype.showSingleAnswerView=function(e){return this.fetchCourseStructure(function(t){return function(){return n.trigger(n.E.SELECT_MENU_ITEM,$("#discussions")),n.trigger(n.E.SHOW_SINGLE_ANSWER_VIEW,e)}}(this))},t.prototype.showDiscussions=function(e,t){return n.trigger(n.E.SELECT_MENU_ITEM,$("#discussions")),document.title="Discussion Forum | upGrad",this.fetchCourseStructure(function(o){return function(){return n.trigger(n.E.SHOW_DISCUSSION_FORUM_VIEW,e,t)}}(this)),n.trigger(n.E.SHOW_FORUM_STATS,p.get("id")),n.trigger(n.E.VIEW_COMPACT_LEADERBOARD)},t.prototype.showSearch=function(e){return this.fetchCourseStructure(function(t){return function(){return n.trigger(n.E.SHOW_SEARCH_RESULTS_VIEW,e)}}(this)),n.trigger(n.E.SHOW_FORUM_STATS,p.get("id")),n.trigger(n.E.VIEW_COMPACT_LEADERBOARD)},t.prototype.showMyBookmarks=function(){return n.trigger(n.E.SELECT_MENU_ITEM),document.title="Followed Questions | upGrad",n.trigger(n.E.LOAD_BOOKMARKS)},t.prototype.fetchCourseStructure=function(e){return i.length?e?e():void 0:i.fetch({success:function(t){var o;if(o=[],t.each(function(e){return function(e){var t;return(null!=(t=e.get("children"))?t.length:void 0)&&h.each(e.get("children"),function(e){return o.push(e.pk)}),o.push(e.get("pk"))}}(this)),d.set("contextArray",o),e)return e()},error:function(e,t){return n.ERR.SHOW(t)}})},t}(u),t.exports=new a},{"../../../collections/discussions/discussion-contexts":13,"../../../collections/discussions/discussion-questions":16,"../../../collections/discussions/my-bookmarks-collection":19,"../../../collections/discussions/my-questions-collection":20,"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,"../discussions/create-question-view":182,"../discussions/facets-view":187,"../discussions/my-bookmarks-view":189,"../discussions/question-detail-view":191,"../discussions/questions-list-view":193,"../discussions/related-questions-view":195,"../discussions/search-results-view":197,"../discussions/suggestion-list-view":201,"../discussions/upvote-users-modal-view":203,"../tours/forum-demo-highlights":272,"./dynamic-module-viewer":281,backbone:318,underscore:445}],280:[function(e,t,o){var n,r,i,s,a,u=function(e,t){function o(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=e("backbone"),a=e("underscore"),n.$=$,s=e("../../../models/shared-model"),i=e("../../../collections/discussions/discussion-questions"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.el="#drawer",t.prototype.initialize=function(e){return a.bindAll(this,"show","hide","toggleDrawer","scrollHandler","enableClickOutsideHandler","disableClickOutsideHandler"),this.scrollHandler()},t.prototype.events={"click .toggle-drawer":"toggleDrawer","click .drawer-overlay":"toggleDrawer"},t.prototype.show=function(){if(this.$el.removeClass("active"),this.$el.removeClass("hide"),n.trigger(n.E.SHIFT_NOTIFICATION_BAR_RIGHT),$(".segment-overlay").addClass("hide"),s.get("viewingInIframe"))return this.$el.addClass("is-loading-in-iframe")},t.prototype.hide=function(){return this.$el.addClass("hide"),n.trigger(n.E.UNSHIFT_NOTIFICATION_BAR_RIGHT)},t.prototype.open=function(e){return this.$el.addClass("active"),n.trigger(n.E.NPS_NOTIFICATION_CLOSE),$(".segment-overlay").removeClass("hide"),n.F.DISABLE_BODY_SCROLL(),this.enableClickOutsideHandler(),n.T.MIXPANEL_TRACK("DIC",{"Segment Id":s.get("segmentId").toString(),Questions:i.length,"Opened By":e,"Ref Page":"DIC",Action:"Opened"})},t.prototype.close=function(e){return this.$el.removeClass("active"),n.trigger(n.E.NPS_NOTIFICATION_SHOW),$(".segment-overlay").addClass("hide"),n.F.ENABLE_BODY_SCROLL(),this.disableClickOutsideHandler(),n.T.MIXPANEL_TRACK("DIC",{"Segment Id":s.get("segmentId").toString(),"Closed By":e,"Ref Page":"DIC",Action:"Closed"})},t.prototype.toggleDrawer=function(e){var t;return $(e.currentTarget).hasClass("toggle-drawer")?t="Drawer toggle button":$(e.currentTarget).hasClass("drawer-overlay")&&(t="Drawer collapsed overlay"),this.$el.hasClass("active")?this.close(t):this.open(t)},t.prototype.scrollHandler=function(){var e;return e=n.F.getTopNavbarHeight(),$(document).scroll(function(t){return function(){return $(document).scrollTop()>e?$("#drawer").addClass("fixed"):$("#drawer").removeClass("fixed")}}(this))},t.prototype.enableClickOutsideHandler=function(){return $(".student-container").on("click.drawer",function(e){return function(t){if(!$(t.target).closest("#drawer").length&&$(t.target).closest(".student-container").length)return e.close("Outside drawer")}}(this))},t.prototype.disableClickOutsideHandler=function(){return $(".student-container").off("click.drawer")},t}(n.View),t.exports=new r},{"../../../collections/discussions/discussion-questions":16,"../../../models/shared-model":85,backbone:318,underscore:445}],281:[function(e,t,o){var n,r,i,s=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("backbone"),i=e("underscore"),n.$=$,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.el="body",t.prototype.initialize=function(){return this.listenTo(n,n.E["ADD_"+this.upperCaseModule()+"_LISTENER"],this.addModule),this.listenTo(n,n.E["REMOVE_"+this.upperCaseModule()+"_LISTENER"],this.removeModule),this.listenTo(n,n.E.RESET_COLLECTIONS,this.resetCollections)},t.prototype.upperCaseModule=function(){var e;return e=this.moduleName.replace(/([A-Z])/g,function(e){return"_"+e}).toUpperCase()},t.prototype.addModule=function(){if(this.listeners&&!this.listenersAdded)return i.each(this.listeners,function(e){return function(t){return e.listenTo(n,t.event,e[t.method])}}(this)),this.listenersAdded=!0},t.prototype.removeModule=function(){if(this.listeners&&this.listenersAdded)return i.each(this.listeners,function(e){return function(t){return e.stopListening(n,t.event)}}(this)),this.listenersAdded=!1},t.prototype.resetCollections=function(){return i.each(this.dependentCollections,function(e){return e.reset()})},t}(n.View),t.exports=r},{backbone:318,underscore:445}],282:[function(e,t,o){var n,r,i,s,a,u,l,c,d=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;r=e("backbone"),c=e("underscore"),r.$=$,i=e("./dynamic-module-viewer"),n=e("../../../models/account-settings-model"),u=e("../../student-router"),s=e("../../../models/user-profile-models/forum-stats-model"),l=e("../../../models/user-model"),e("../dashboard-components/account-settings-view"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.moduleName="forumStats",t.prototype.listeners=[{event:r.E.SHOW_FORUM_STATS,method:"showForumStats"}],t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.showForumStats=function(e){return this.fetchForumStats(e)},t.prototype.fetchForumStats=function(e){var t,o;return o=e===l.get("id"),t=new s({userId:e}),t.fetch({success:function(){return r.trigger(r.E.SHOW_PROFILE_STATUS,t,o)},error:function(e,t){return r.ERR.SHOW(t)}})},t}(i),t.exports=new a},{"../../../models/account-settings-model":44,"../../../models/user-model":87,"../../../models/user-profile-models/forum-stats-model":91,"../../student-router":117,"../dashboard-components/account-settings-view":160,"./dynamic-module-viewer":281,backbone:318,underscore:445}],283:[function(e,t,o){e("./menu-builder"),e("./calendar-viewer"),e("./course-viewer"),e("./dashboard-viewer"),e("./discussions-viewer"),e("../career-eligible-blocker-view"),e("./intercom-viewer"),e("./leaderboard-viewer"),e("./notifications-viewer"),e("./student-directory-viewer"),e("./user-profile-viewer"),e("./forum-stats-viewer"),e("./drawer-view")},{"../career-eligible-blocker-view":127,"./calendar-viewer":276,"./course-viewer":277,"./dashboard-viewer":278,"./discussions-viewer":279,"./drawer-view":280,"./forum-stats-viewer":282,"./intercom-viewer":284,"./leaderboard-viewer":285,"./menu-builder":286,"./notifications-viewer":287,"./student-directory-viewer":289,"./user-profile-viewer":290}],284:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),u=e("underscore"),n.$=$,s=e("../../../models/shared-model"),a=e("../../../models/user-model"),r=e("./dynamic-module-viewer"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.moduleName="intercom",t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.addModule=function(){return t.__super__.addModule.call(this),this.listenTo(a,"change:email",this.intializeIntercom),this.intializeIntercom(),setTimeout(function(){var e;try{return __insp.push(["identify",a.get("email")])}catch(t){return e=t,console.log(e)}},5e3)},t.prototype.intializeIntercom=function(){var e;try{return window.intercomSettings.email=a.get("email"),Intercom("boot",window.intercomSettings)}catch(t){return e=t,console.log(e)}},t}(r),t.exports=new i},{"../../../models/shared-model":85,"../../../models/user-model":87,"./dynamic-module-viewer":281,backbone:318,underscore:445}],285:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,a=e("../../../models/shared-model"),u=e("../../../models/user-model"),r=e("./dynamic-module-viewer"),i=e("../../../collections/leaderboard-collection"),e("../leaderboard/leaderboard-main-view"),e("../leaderboard/leaderboard-compact-view"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.moduleName="leaderboard",t.prototype.listeners=[{event:n.E.SHOW_LEADERBOARD_VIEW,method:"showLeaderboard"},{event:n.E.VIEW_COMPACT_LEADERBOARD,method:"showCompactLeaderboard"}],t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.showCompactLeaderboard=function(){return i.fetch({success:function(e){return function(){return n.trigger(n.E.SHOW_COMPACT_LEADERBOARD)}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},t.prototype.showLeaderboard=function(){return n.trigger(n.E.SELECT_MENU_ITEM),document.title="Forum Leaderboard | upGrad",n.trigger(n.E.SHOW_LEADERBOARD)},t}(r),t.exports=new s},{"../../../collections/leaderboard-collection":24,"../../../models/shared-model":85,"../../../models/user-model":87,"../leaderboard/leaderboard-compact-view":206,"../leaderboard/leaderboard-main-view":208,"./dynamic-module-viewer":281,backbone:318,underscore:445}],286:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,s=e("../../student-router"),u=e("../../../models/user-model"),a=e("../../../models/shared-model"),r=e("../../../models/lecture-model"),e("./referral-viewer"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.el="body",t.prototype.events={"click .account-settings":"showAccountSettings","click #student-calendar":"showCalendar","click #course":"showCourse","click #home":"showDashboard","click #discussions":"showDiscussions","click #past-lectures":"showPastLectures","click .view-bookmarks":"showMyBookmarks","click .logout":"logout","click .view-profile":"showMyProfile","click .show-demo":"showDemoTour","click #student-grades":"showStudentGrades","click #support":"highlightSupport","click #career":"openCareerCenter","click .full-screen-button":"simulateFullScreen","click .referral":"showReferrals"},t.prototype.elementSelectors={accountSettings:".account-settings",referral:".referral",calendar:"#student-calendar",course:"#course",dashboard:"#home",discussions:"#discussions,.view-bookmarks",intercom:"#support",notifications:".notification-li-dropdown",userProfile:".view-profile",grades:"#student-grades",demo:".show-demo",career:"#career",fullScreenButton:".full-screen-button"},t.prototype.initialize=function(){return l.bindAll(this,"simulateFullScreen","exitFullScreen"),this.listenTo(n,n.E.HIDE_MENU_ITEM,this.hideMenuItem),this.listenTo(n,n.E.SHOW_MENU_ITEM,this.showMenuItem),this.listenTo(n,n.E.SELECT_MENU_ITEM,this.highlightSelectedMenuItem),this.listenTo(n,n.E.EXIT_FULL_SCREEN_MODE,this.exitFullScreen),this.listenTo(n,n.E.SHOW_LECTURES_TAB,this.showLecturesTab),$(document).on("mozfullscreenchange webkitfullscreenchange fullscreenchange",function(e){return function(){var t;return t=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen,e.checkForFullScreenMode()}}(this))},t.prototype.checkForFullScreenMode=function(){var e;e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen,this.$(".full-screen-button").tooltip("hide"),e?($("body").addClass("full-screen-mode"),this.$(".full-screen-button").empty(),this.$(".full-screen-button").append('<i class="material-icons">fullscreen_exit</i>'),this.$(".full-screen-button").attr({title:"Exit Distraction Free Mode"}),n.T.MIXPANEL_TRACK("Enter Distraction Free Mode")):($("body").removeClass("full-screen-mode"),this.$(".full-screen-button").empty(),this.$(".full-screen-button").append('<i class="material-icons">fullscreen</i>'),this.$(".full-screen-button").attr({title:"Enter Distraction Free Mode"}),n.T.MIXPANEL_TRACK("Exit Distraction Free Mode"))},t.prototype.highlightSelectedMenuItem=function(e){return a.get("courseConfiguration").liveLecture&&"#home"!==(null!=e?e.selector:void 0)&&!a.get("islectureAPICalled")&&(n.trigger(n.E.SHOW_LIVE_LECTURE),a.set("islectureAPICalled",!0)),$(".component-part").removeClass("selected"),e&&e.addClass("selected"),n.trigger(n.E.SHOW_CAREER_BLOCKER)},t.prototype.highlightSupport=function(){var e;return a.get("startupIndia")?e=window.open("https://upgradhelp.zendesk.com/hc/en-us","_blank"):(n.trigger(n.E.SELECT_MENU_ITEM,$("#support")),e=window.open("http://help.upgrad.com/","_blank")),n.T.MIXPANEL_TRACK("Support Button Clicked")},t.prototype.openCareerCenter=function(){return window.open(n.C.CAREER_SITE(),"_blank"),n.T.MIXPANEL_TRACK("click_career_centre")},t.prototype.showMenuItem=function(e){var t,o;if(o="grades"===e&&a.get("showGrade"),t="demo"===e&&n.F.isDemoPlatform()||n.F.isStartupIndia(),t&=n.F.isTourAvailable(),(o||t||["grades","demo"].indexOf(e)===-1)&&$(this.elementSelectors[e]).removeClass("hide"),"referral"===e||"career"===e)return this.$(this.elementSelectors[e]).removeClass("hide")},t.prototype.hideMenuItem=function(e){return $(this.elementSelectors[e]).addClass("hide")},t.prototype.showAccountSettings=function(){return s.navigate("/v/settings",!0)},t.prototype.showCalendar=function(){return s.navigate("v/course/"+a.get("courseId")+"/calendar",!0),n.P.mark("route:calendarView")},t.prototype.showCourse=function(){return s.navigate("v/course/"+a.get("courseId"),!0),n.T.MIXPANEL_TRACK("Click Program")},t.prototype.logout=function(){var e;try{clevertap.logout()}catch(t){e=t,console.log("clevertap logout failed")}return window.location.href="/logout"},t.prototype.showDashboard=function(){return a.get("courseId")?s.navigate("/v/course/"+a.get("courseId")+"/dashboard",!0):window.location=window.location.origin+"/v/courses",n.T.MIXPANEL_TRACK("Click Home")},t.prototype.showDiscussions=function(){return s.navigate("/v/course/"+a.get("courseId")+"/discussions"),n.trigger(n.E.SHOW_DISCUSSION_FORUM,null,!0),n.P.mark("route:discussionForum")},t.prototype.showLecturesTab=function(){return this.$("#past-lectures").removeClass("hide")},t.prototype.showPastLectures=function(){return"ROLE_STUDENT"!==u.get("highestRole")?window.open(n.C.LECTURE_SITE()+"/admin/batch-crud","_blank"):r.get("id")?window.open(n.C.LECTURE_SITE()+"/student/enrollments/batch/lecture/videos/"+r.get("id"),"_blank"):void 0},t.prototype.showMyBookmarks=function(){return s.navigate("/v/course/"+a.get("courseId")+"/followed-questions"),n.trigger(n.E.SHOW_MY_BOOKMARK_VIEW)},t.prototype.showDemoTour=function(){return n.Demo.clearTourData(),n.Demo.clearForumTourData(),"student-dashboard"!==a.get("currentView")&&(s.navigate("/v/course/"+a.get("courseId")+"/dashboard"),n.trigger(n.E.SHOW_DASHBOARD)),
n.Demo.initialize(!0),n.T.MIXPANEL_TRACK("Demo Tour",{Action:"take",Email:u.get("email"),Course:a.get("programKey")})},t.prototype.showMyProfile=function(){return a.set("profileId",u.get("id")),s.navigate("/v/course/"+a.get("courseId")+"/profile/"+u.get("id")+"/about"),n.trigger(n.E.DISPLAY_PROFILE)},t.prototype.showStudentGrades=function(){return"V2"===a.get("gradeType")?window.open(a.get("gradingSite")+"/v/course/"+a.get("courseId")+"/grades/v2","_blank"):window.open(a.get("gradingSite")+"/v/course/"+a.get("courseId")+"/grades/v1","_blank")},t.prototype.simulateFullScreen=function(){var e,t;if(t=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen)this.exitFullScreen();else{if($("body").addClass("full-screen-mode"),this.$(".full-screen-button").attr({title:"Enter Distraction Free Mode"}),e=document.documentElement,e.requestFullscreen)return e.requestFullscreen();if(e.mozRequestFullScreen)return e.mozRequestFullScreen();if(e.webkitRequestFullScreen)return e.webkitRequestFullScreen()}},t.prototype.exitFullScreen=function(){if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement){if(document.exitFullscreen)return document.exitFullscreen();if(document.mozCancelFullScreen)return document.mozCancelFullScreen();if(document.webkitCancelFullScreen)return document.webkitCancelFullScreen()}},t.prototype.showReferrals=function(){return n.T.MIXPANEL_TRACK("Show Referral Page",{Platform:"platform",referrer:u.get("email"),Action:"show_referral_page"}),n.trigger(n.E.VIEW_REFERRAL_PAGE)},t}(n.View),t.exports=new i},{"../../../models/lecture-model":70,"../../../models/shared-model":85,"../../../models/user-model":87,"../../student-router":117,"./referral-viewer":288,backbone:318,underscore:445}],287:[function(e,t,o){var n,r,i,s,a,u,l=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;n=e("backbone"),u=e("underscore"),n.$=$,s=e("../../../models/shared-model"),a=e("../../../models/user-model"),r=e("./dynamic-module-viewer"),e("../notifications-view"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.moduleName="notifications",t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.addModule=function(){return t.__super__.addModule.call(this),n.trigger(n.E.RENDER_NOTIFICATIONS)},t}(r),t.exports=new i},{"../../../models/shared-model":85,"../../../models/user-model":87,"../notifications-view":216,"./dynamic-module-viewer":281,backbone:318,underscore:445}],288:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,a=e("../../student-router"),u=e("../../../models/shared-model"),i=e("../../../collections/referral-courses"),r=e("../../helpers/feature-flags-helper"),e("../referral/referral-view"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.initialize=function(){return this.listenTo(n,n.E.VIEW_REFERRAL_PAGE,this.openReferral),t.__super__.initialize.call(this)},t.prototype.openReferral=function(){return a.navigate("/v/course/"+u.get("courseId")+"/refer"),this.fetchReferralCourses(function(e){return function(){return n.trigger(n.E.SHOW_NEW_REFERRAL_PAGE)}}(this))},t.prototype.fetchReferralCourses=function(e){return n.F.SHOW_LOADER(),i.fetch({reset:!0,success:function(t){return function(){if(n.F.HIDE_LOADER(),e)return e()}}(this),error:function(e){return function(e){return n.F.HIDE_LOADER(),n.ERR.SHOW(e)}}(this)})},t}(n.View),t.exports=new s},{"../../../collections/referral-courses":31,"../../../models/shared-model":85,"../../helpers/feature-flags-helper":103,"../../student-router":117,"../referral/referral-view":257,backbone:318,underscore:445}],289:[function(e,t,o){var n,r,i,s,a,u,l,c=function(e,t){function o(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},d={}.hasOwnProperty;n=e("backbone"),l=e("underscore"),n.$=$,s=e("../../../models/shared-model"),u=e("../../../models/user-model"),r=e("./dynamic-module-viewer"),i=e("../../../collections/user-profile-collections/peers"),e("../profiles/student-directory-view"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.moduleName="studentDirectory",t.prototype.dependentCollections=[i],t.prototype.listeners=[{event:n.E.VIEW_STUDENT_DIRECTORY,method:"showStudentDirectory"}],t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.showStudentDirectory=function(e){return n.trigger(n.E.SELECT_MENU_ITEM),document.title="Student Directory | upGrad",this.fetchPeers(function(t){return function(){return n.F.HIDE_LOADER(),n.trigger(n.E.SHOW_STUDENT_DIRECTORY,e)}}(this))},t.prototype.fetchPeers=function(e){var t;return i.length?e?e():void 0:(t={courseId:s.get("courseId")},t.pageNo=0,t.pageSize=12,i.fetch({data:$.param(t),success:function(){if(e)return e()},error:function(e,t){return n.ERR.SHOW(t)}}))},t}(r),t.exports=new a},{"../../../collections/user-profile-collections/peers":40,"../../../models/shared-model":85,"../../../models/user-model":87,"../profiles/student-directory-view":233,"./dynamic-module-viewer":281,backbone:318,underscore:445}],290:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m=function(e,t){function o(){this.constructor=e}for(var n in t)g.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},g={}.hasOwnProperty;n=e("backbone"),f=e("underscore"),n.$=$,d=e("../../../models/shared-model"),p=e("../../../models/user-model"),i=e("./dynamic-module-viewer"),r=e("./utils/course-getters"),l=e("../../../collections/user-profile-collections/peers"),u=e("../../../models/user-profile-models/peer-model"),a=e("../../../collections/user-profile-collections/experiences"),s=e("../../../collections/user-profile-collections/education-history"),c=e("../../student-router"),e("../profiles/user-profile-view"),e("../badge-modal-view"),h=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.moduleName="userProfile",t.prototype.listeners=[{event:n.E.DISPLAY_PROFILE,method:"displayProfile"},{event:n.E.DISPLAY_DISCUSSIONS,method:"displayUserDiscussions"},{event:n.E.SET_PROFILE_ROUTE,method:"setRoute"}],t.prototype.initialize=function(){return t.__super__.initialize.call(this)},t.prototype.displayUserDiscussions=function(){return this.fetchUser(function(e){return function(){return n.trigger(n.E.SHOW_USER_DISCUSSIONS),n.trigger(n.E.SHOW_FORUM_STATS,d.get("profileId")),n.F.HIDE_LOADER()}}(this))},t.prototype.setRoute=function(){return c.navigate("/v/course/"+d.get("courseId")+"/profile/"+d.get("user").id+"/about")},t.prototype.displayProfile=function(){return n.trigger(n.E.SELECT_MENU_ITEM),this.showCourseProgress(),this.fetchUser(function(e){return function(){return n.trigger(n.E.SHOW_FORUM_STATS,d.get("profileId")),n.trigger(n.E.SHOW_PROFILE),n.F.HIDE_LOADER()}}(this))},t.prototype.showCourseProgress=function(){return this.fetchCourseProgress(function(e){return function(e){return n.trigger(n.E.SHOW_COURSE_PROGRESS,e),n.trigger(n.E.FILL_USER_PROGRESS,e),n.F.HIDE_LOADER()}}(this))},t.prototype.fetchUser=function(e){var t,o,r;return o=l.get(d.get("profileId")),o&&d.set("recentlyViewedUser",o),o?(document.title=o.get("name")+" | upGrad",d.set("userCity",null!=(r=o.get("address"))?r.city:void 0),d.set("userFirstname",o.get("firstname")),a.reset(o.get("workHistory")),s.reset(o.get("educationHistory")),e?e():void 0):(n.F.SHOW_LOADER(),o=new u({id:d.get("profileId")}),d.set("recentlyViewedUser",o),t={courseId:d.get("courseId")},o.fetch({data:$.param(t),success:function(){var t;if(document.title=o.get("name")+" | upGrad",d.set("userCity",null!=(t=o.get("address"))?t.city:void 0),d.set("userFirstname",o.get("firstname")),a.reset(o.get("workHistory")),s.reset(o.get("educationHistory")),e)return e()},error:function(e,t){return n.ERR.SHOW(t)}}))},t}(i),f.extend(h.prototype,r),t.exports=new h},{"../../../collections/user-profile-collections/education-history":38,"../../../collections/user-profile-collections/experiences":39,"../../../collections/user-profile-collections/peers":40,"../../../models/shared-model":85,"../../../models/user-model":87,"../../../models/user-profile-models/peer-model":92,"../../student-router":117,"../badge-modal-view":120,"../profiles/user-profile-view":239,"./dynamic-module-viewer":281,"./utils/course-getters":291,backbone:318,underscore:445}],291:[function(e,t,o){var n,r,i,s,a,u,l,c,d,p,h,f,m,g,y;n=e("backbone"),y=e("underscore"),n.$=$,g=e("../../../../models/shared-model"),r=e("../../../../models/progress-models/course-progress-model"),d=e("../../../../models/progress-models/module-progress-model"),f=e("../../../../models/progress-models/session-progress-model"),a=e("../../../../models/current-component"),u=e("../../../../models/module-group-model"),c=e("../../../../models/module-model"),m=e("../../../../collections/sessions"),p=e("../../../../collections/modules"),s=e("../../../../collections/courses"),h=e("../../../../collections/segments"),l=e("../../../../collections/module-groups"),i={checkForUpdates:function(e,t){var o,n,r,i;return o=!1,i=e.pluck("id"),r=y.map(t,function(e){return e.id}),y.each(y.difference(i,r),function(t){return e.get(t).trigger("destroy"),o=!0}),o||(n=-1,y.each(t,function(t){var r;n=1,t.version!==(null!=(r=e.get(t.id))?r.get("version"):void 0)&&(o=!0)})),o},isCourseUpdated:function(){var e,t,o,n;if(n=g.get("oldProgressData"),n.course)return e=n.course.version&&n.course.version!==r.get("course").version,t=!1,o=y.filter(r.get("modules"),function(e){return g.get("moduleGroupId")===e.moduleGroupId}),t=this.checkForUpdates(p,o),t||e},sessionUpdated:function(){var e;return e=this.checkForUpdates(m,d.get("sessions"))},updateModules:function(){return p.add(this.course.get("modules"),{merge:!0})},updateSessions:function(){return m.add(p.get(g.get("moduleId")).get("sessions"),{merge:!0}),m.each(function(e){if("Array"===e.get("segments").constructor.name)return e.set("segments",new h(e.get("segments")))})},fetchCourseProgress:function(e){return g.set("oldProgressData",y.clone(r.attributes)),r.set("courseId",g.get("courseId")),r.fetch({success:function(t){return function(o){return 0===o.get("modules").length?(g.set("courseIsLocked",!0),n.trigger(n.E.SHOW_PLATFORM_ACCESS_ERROR,"COURSE_UNAVAILABLE")):g.set("courseIsLocked",!1),t.isCourseUpdated()?t.fetchModules(function(){return t.updateModules(),e&&e(o),n.F.HIDE_LOADER()},!0):e?e(o):void 0}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},fetchModuleById:function(e,t){var o;return o=p.get(e)||new c({id:e}),o.fetch({data:{complete:!0},success:function(e){return function(e,o,n){if(t)return t(e)}}(this),error:function(e){return function(){return n.trigger(n.E.VIEW_NOT_FOUND)}}(this)})},fetchModules:function(e,t){var o,n;return null==t&&(t=!1),!t&&this.course&&this.course.get("id")===g.get("moduleGroupId")?void(e&&e()):(this.course=null,o=g.get("moduleGroupId")||(null!=(n=g.get("currentComponent"))?n.get("moduleGroupId"):void 0),o?this.fetchModulesForGroup(o,e,t):this.fetchModuleGroups(function(o){return function(){return g.set("moduleGroupId",l.at(0).id),o.fetchModulesForGroup(l.at(0).id,e,t)}}(this)))},fetchModulesForGroup:function(e,t,o){var r,i;return null==o&&(o=!1),this.course=l.find(function(t){return function(t){return t.id===e}}(this)),g.get("filterWithModuleType")&&!this.course?void this.fetchModuleGroups(function(e){return function(){return l.length?(g.set("moduleGroupId",l.at(0).id),e.fetchModulesForGroup(l.at(0).id,t,o)):t?t():void 0}}(this)):this.course&&(null!=(i=this.course.get("modules"))?i.length:void 0)&&!o?(p.reset(this.course.get("modules"),{parse:!0}),void t()):(this.course=l.get(e),this.course||(this.course=new u({id:e})),n.F.SHOW_LOADER(),r={courseId:g.get("courseId"),withNumber:!0},g.get("filterWithModuleType")&&(r.moduleType=""+g.get("filterModuleType")),this.course.fetch({data:r,success:function(e){return function(o,n,r){if(g.set("moduleGroupId",o.id),p.reset(e.course.get("modules")||[],{parse:!0}),t)return t()}}(this),error:function(e,t){return n.ERR.SHOW(t)}}))},fetchModuleGroups:function(e){var t;return t=n.C.MEDIA_PATH()+"/v2/modulegroups",g.get("filterWithModuleType")&&(t+="?moduleType="+g.get("filterModuleType")),l.fetch({url:t,data:{courseId:g.get("courseId")},success:function(t){return function(t,o,n){if(e)return e()}}(this),error:function(e){return function(e,t){return n.ERR.SHOW(t)}}(this)})},fetchCurrentComponent:function(e){var t;return this.currentComponent=new a,t={courseId:g.get("courseId")},this.currentComponent.fetch({data:$.param(t),success:function(t,o,n){if(g.set("currentComponent",t),e)return e(t)},error:function(e,t){return n.ERR.SHOW(t)}})}},t.exports=i},{"../../../../collections/courses":10,"../../../../collections/module-groups":25,"../../../../collections/modules":26,"../../../../collections/segments":32,"../../../../collections/sessions":33,"../../../../models/current-component":57,"../../../../models/module-group-model":71,"../../../../models/module-model":72,"../../../../models/progress-models/course-progress-model":75,"../../../../models/progress-models/module-progress-model":77,"../../../../models/progress-models/session-progress-model":79,"../../../../models/shared-model":85,backbone:318,underscore:445}],292:[function(e,t,o){var n,r,i;n=e("backbone"),i=e("underscore"),n.$=$,r={bindZoomSupportMethods:function(){return i.bindAll(this,"openImageModal","closeImageModal")},openImageModal:function(e){var t,o,n,r,i;return e.stopPropagation(),o=$(e.currentTarget),r=$(window).height(),i=$(window).width(),t=$("<img>")[0],n=o.attr("src").replace("/720",""),$(".show-image-modal").on("show.bs.modal",function(e){return function(){return $(".show-image-modal .image-in-modal").addClass("hide"),$(".show-image-modal .loading-container").removeClass("hide"),$(".show-image-modal .image-in-modal").attr("src",n),t.src=n,t.onload=function(){var e,o,n,s,a;return a=t.width,n=t.height,o=i-100,e=r-100,$(".show-image-modal .modal-body").css({width:o,height:e}),$(".show-image-modal .modal-content,.show-image-modal .modal-dialog").css("width",o+"px"),$(".show-image-modal .modal-content").css("margin-top",(r-e)/2+"px"),n<e?(s=(e-n)/2,$(".show-image-modal .image-in-modal").css("margin-top",s+"px")):$(".show-image-modal .image-in-modal").css("margin-top","initial"),$(".show-image-modal .image-in-modal").removeClass("hide"),$(".show-image-modal .loading-container").addClass("hide")}}}(this)),$(".show-image-modal").modal("show"),$(".modal-backdrop").addClass("darker-backdrop")},closeImageModal:function(){return $(".modal-backdrop").removeClass("darker-backdrop"),$(".show-image-modal").modal("hide")}},t.exports=r},{backbone:318,underscore:445}],293:[function(e,t,o){function n(){u.apply(this,arguments)}function r(){var e="Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com";throw new c.AlgoliaSearchError(e)}t.exports=n;var i=e("./Index.js"),s=e("./deprecate.js"),a=e("./deprecatedMessage.js"),u=e("./AlgoliaSearchCore.js"),l=e("inherits"),c=e("./errors");l(n,u),n.prototype.deleteIndex=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},n.prototype.moveIndex=function(e,t,o){var n={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:n,hostType:"write",callback:o})},n.prototype.copyIndex=function(e,t,o,n){var r={operation:"copy",destination:t},i=n;if("function"==typeof o)i=o;else if(Array.isArray(o)&&o.length>0)r.scope=o;else if("undefined"!=typeof o)throw new Error("the scope given to `copyIndex` was not an array with settings, synonyms or rules");return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:r,hostType:"write",callback:i})},n.prototype.getLogs=function(t,o,n){var r=e("./clone.js"),i={};return"object"==typeof t?(i=r(t),n=o):0===arguments.length||"function"==typeof t?n=t:1===arguments.length||"function"==typeof o?(n=o,i.offset=t):(i.offset=t,i.length=o),void 0===i.offset&&(i.offset=0),void 0===i.length&&(i.length=10),this._jsonRequest({method:"GET",url:"/1/logs?"+this._getSearchParams(i,""),hostType:"read",callback:n})},n.prototype.listIndexes=function(e,t){var o="";return void 0===e||"function"==typeof e?t=e:o="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+o,hostType:"read",callback:t})},n.prototype.initIndex=function(e){return new i(this,e)},n.prototype.initAnalytics=function(t){var o=e("./createAnalyticsClient.js");return o(this.applicationID,this.apiKey,t)},n.prototype.listUserKeys=s(function(e){return this.listApiKeys(e)},a("client.listUserKeys()","client.listApiKeys()")),n.prototype.listApiKeys=function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},n.prototype.getUserKeyACL=s(function(e,t){return this.getApiKey(e,t)},a("client.getUserKeyACL()","client.getApiKey()")),n.prototype.getApiKey=function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},n.prototype.deleteUserKey=s(function(e,t){return this.deleteApiKey(e,t)},a("client.deleteUserKey()","client.deleteApiKey()")),n.prototype.deleteApiKey=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},n.prototype.addUserKey=s(function(e,t,o){return this.addApiKey(e,t,o)},a("client.addUserKey()","client.addApiKey()")),n.prototype.addApiKey=function(t,o,n){var r=e("isarray"),i="Usage: client.addApiKey(arrayOfAcls[, params, callback])";if(!r(t))throw new Error(i);1!==arguments.length&&"function"!=typeof o||(n=o,o=null);var s={acl:t};return o&&(s.validity=o.validity,s.maxQueriesPerIPPerHour=o.maxQueriesPerIPPerHour,s.maxHitsPerQuery=o.maxHitsPerQuery,s.indexes=o.indexes,s.description=o.description,o.queryParameters&&(s.queryParameters=this._getSearchParams(o.queryParameters,"")),s.referers=o.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:s,hostType:"write",callback:n})},n.prototype.addUserKeyWithValidity=s(function(e,t,o){return this.addApiKey(e,t,o)},a("client.addUserKeyWithValidity()","client.addApiKey()")),n.prototype.updateUserKey=s(function(e,t,o,n){return this.updateApiKey(e,t,o,n)},a("client.updateUserKey()","client.updateApiKey()")),n.prototype.updateApiKey=function(t,o,n,r){var i=e("isarray"),s="Usage: client.updateApiKey(key, arrayOfAcls[, params, callback])";if(!i(o))throw new Error(s);2!==arguments.length&&"function"!=typeof n||(r=n,n=null);var a={acl:o};return n&&(a.validity=n.validity,a.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,a.maxHitsPerQuery=n.maxHitsPerQuery,a.indexes=n.indexes,a.description=n.description,n.queryParameters&&(a.queryParameters=this._getSearchParams(n.queryParameters,"")),a.referers=n.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+t,body:a,hostType:"write",callback:r})},n.prototype.startQueriesBatch=s(function(){this._batch=[]},a("client.startQueriesBatch()","client.search()")),n.prototype.addQueryInBatch=s(function(e,t,o){this._batch.push({indexName:e,query:t,params:o})},a("client.addQueryInBatch()","client.search()")),n.prototype.sendQueriesBatch=s(function(e){return this.search(this._batch,e)},a("client.sendQueriesBatch()","client.search()")),n.prototype.batch=function(t,o){var n=e("isarray"),r="Usage: client.batch(operations[, callback])";if(!n(t))throw new Error(r);return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:t},hostType:"write",callback:o})},n.prototype.assignUserID=function(e,t){if(!e.userID||!e.cluster)throw new c.AlgoliaSearchError("You have to provide both a userID and cluster",e);return this._jsonRequest({method:"POST",url:"/1/clusters/mapping",hostType:"write",body:{cluster:e.cluster},callback:t,headers:{"x-algolia-user-id":e.userID}})},n.prototype.getTopUserID=function(e){return this._jsonRequest({method:"GET",url:"/1/clusters/mapping/top",hostType:"read",callback:e})},n.prototype.getUserID=function(e,t){if(!e.userID)throw new c.AlgoliaSearchError("You have to provide a userID",{debugData:e});return this._jsonRequest({method:"GET",url:"/1/clusters/mapping/"+e.userID,hostType:"read",callback:t})},n.prototype.listClusters=function(e){return this._jsonRequest({method:"GET",url:"/1/clusters",hostType:"read",callback:e})},n.prototype.listUserIDs=function(e,t){return this._jsonRequest({method:"GET",url:"/1/clusters/mapping",body:e,hostType:"read",callback:t})},n.prototype.removeUserID=function(e,t){if(!e.userID)throw new c.AlgoliaSearchError("You have to provide a userID",{debugData:e});return this._jsonRequest({method:"DELETE",url:"/1/clusters/mapping",hostType:"write",callback:t,headers:{"x-algolia-user-id":e.userID}})},n.prototype.searchUserIDs=function(e,t){return this._jsonRequest({method:"POST",url:"/1/clusters/mapping/search",body:e,hostType:"read",callback:t})},n.prototype.destroy=r,n.prototype.enableRateLimitForward=r,n.prototype.disableRateLimitForward=r,n.prototype.useSecuredAPIKey=r,n.prototype.disableSecuredAPIKey=r,n.prototype.generateSecuredApiKey=r},{"./AlgoliaSearchCore.js":294,"./Index.js":295,"./clone.js":303,"./createAnalyticsClient.js":304,"./deprecate.js":305,"./deprecatedMessage.js":306,"./errors":307,inherits:368,isarray:370}],294:[function(e,t,o){(function(o){function n(t,o,n){var i=e("debug")("algoliasearch"),s=e("./clone.js"),a=e("isarray"),l=e("./map.js"),c="Usage: algoliasearch(applicationID, apiKey, opts)";if(n._allowEmptyCredentials!==!0&&!t)throw new u.AlgoliaSearchError("Please provide an application ID. "+c);if(n._allowEmptyCredentials!==!0&&!o)throw new u.AlgoliaSearchError("Please provide an API key. "+c);this.applicationID=t,this.apiKey=o,this.hosts={read:[],write:[]},n=n||{},this._timeouts=n.timeouts||{connect:1e3,read:2e3,write:3e4},n.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=n.timeout);var d=n.protocol||"https:";if(/:$/.test(d)||(d+=":"),"http:"!==d&&"https:"!==d)throw new u.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+n.protocol+"`)");if(this._checkAppIdData(),n.hosts)a(n.hosts)?(this.hosts.read=s(n.hosts),this.hosts.write=s(n.hosts)):(this.hosts.read=s(n.hosts.read),this.hosts.write=s(n.hosts.write));else{var p=l(this._shuffleResult,function(e){return t+"-"+e+".algolianet.com"}),h=(n.dsn===!1?"":"-dsn")+".algolia.net";this.hosts.read=[this.applicationID+h].concat(p),this.hosts.write=[this.applicationID+".algolia.net"].concat(p)}this.hosts.read=l(this.hosts.read,r(d)),this.hosts.write=l(this.hosts.write,r(d)),this.extraHeaders={},this.cache=n._cache||{},this._ua=n._ua,this._useCache=!(void 0!==n._useCache&&!n._cache)||n._useCache,this._useRequestCache=this._useCache&&n._useRequestCache,this._useFallback=void 0===n.useFallback||n.useFallback,this._setTimeout=n._setTimeout,i("init done, %j",this)}function r(e){return function(t){return e+"//"+t.toLowerCase()}}function i(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var o=JSON.stringify(e);return Array.prototype.toJSON=t,o}function s(e){for(var t,o,n=e.length;0!==n;)o=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[o],e[o]=t;return e}function a(e){var t={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n;n="x-algolia-api-key"===o||"x-algolia-application-id"===o?"**hidden for security purposes**":e[o],t[o]=n}return t}t.exports=n;var u=e("./errors"),l=e("./exitPromise.js"),c=e("./IndexCore.js"),d=e("./store.js"),p=500,h=o.env.RESET_APP_DATA_TIMER&&parseInt(o.env.RESET_APP_DATA_TIMER,10)||12e4;n.prototype.initIndex=function(e){return new c(this,e)},n.prototype.setExtraHeader=function(e,t){this.extraHeaders[e.toLowerCase()]=t},n.prototype.getExtraHeader=function(e){return this.extraHeaders[e.toLowerCase()]},n.prototype.unsetExtraHeader=function(e){delete this.extraHeaders[e.toLowerCase()]},n.prototype.addAlgoliaAgent=function(e){this._ua.indexOf(";"+e)===-1&&(this._ua+=";"+e)},n.prototype._jsonRequest=function(t){function o(e,r){function l(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;h("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers);var o=2===Math.floor(t/100),n=new Date;if(_.push({currentHost:k,headers:a(d),content:s||null,contentLength:void 0!==s?s.length:null,method:r.method,timeouts:r.timeouts,url:r.url,startTime:C,endTime:n,duration:n-C,statusCode:t}),o)return g._useCache&&!g._useRequestCache&&m&&(m[c]=e.responseText),{responseText:e.responseText,body:e.body};var i=4!==Math.floor(t/100);if(i)return y+=1,w();h("unrecoverable error");var l=new u.AlgoliaSearchError(e.body&&e.body.message,{debugData:_,statusCode:t});return g._promise.reject(l)}function p(e){h("error: %s, stack: %s",e.message,e.stack);var o=new Date;return _.push({currentHost:k,headers:a(d),content:s||null,contentLength:void 0!==s?s.length:null,method:r.method,timeouts:r.timeouts,url:r.url,startTime:C,endTime:o,duration:o-C}),e instanceof u.AlgoliaSearchError||(e=new u.Unknown(e&&e.message,e)),y+=1,e instanceof u.Unknown||e instanceof u.UnparsableJSON||y>=g.hosts[t.hostType].length&&(v||!b)?(e.debugData=_,g._promise.reject(e)):e instanceof u.RequestTimeout?S():w()}function w(){return h("retrying request"),g._incrementHostIndex(t.hostType),o(e,r)}function S(){return h("retrying request with higher timeout"),g._incrementHostIndex(t.hostType),g._incrementTimeoutMultipler(),r.timeouts=g._getTimeoutsForRequest(t.hostType),o(e,r)}g._checkAppIdData();var C=new Date;if(g._useCache&&!g._useRequestCache&&(c=t.url),g._useCache&&!g._useRequestCache&&s&&(c+="_body_"+r.body),n(!g._useRequestCache,m,c)){h("serving response from cache");var E=m[c];return g._promise.resolve({body:JSON.parse(E),responseText:E})}if(y>=g.hosts[t.hostType].length)return!b||v?(h("could not get any response"),g._promise.reject(new u.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+g.applicationID,{debugData:_}))):(h("switching to fallback"),y=0,r.method=t.fallback.method,r.url=t.fallback.url,r.jsonBody=t.fallback.body,r.jsonBody&&(r.body=i(r.jsonBody)),d=g._computeRequestHeaders({additionalUA:f,headers:t.headers}),r.timeouts=g._getTimeoutsForRequest(t.hostType),g._setHostIndexByType(0,t.hostType),v=!0,o(g._request.fallback,r));var k=g._getHostByType(t.hostType),T=k+r.url,I={body:r.body,jsonBody:r.jsonBody,method:r.method,headers:d,timeouts:r.timeouts,debug:h,forceAuthHeaders:r.forceAuthHeaders};return h("method: %s, url: %s, headers: %j, timeouts: %d",I.method,T,I.headers,I.timeouts),e===g._request.fallback&&h("using fallback"),e.call(g,T,I).then(l,p)}function n(e,t,o){return g._useCache&&e&&t&&void 0!==t[o]}function r(e,o){return n(g._useRequestCache,m,c)&&e["catch"](function(){delete m[c]}),"function"!=typeof t.callback?e.then(o):void e.then(function(e){l(function(){t.callback(null,o(e))},g._setTimeout||setTimeout)},function(e){l(function(){t.callback(e)},g._setTimeout||setTimeout)})}this._checkAppIdData();var s,c,d,h=e("debug")("algoliasearch:"+t.url),f=t.additionalUA||"",m=t.cache,g=this,y=0,v=!1,b=g._useFallback&&g._request.fallback&&t.fallback;this.apiKey.length>p&&void 0!==t.body&&(void 0!==t.body.params||void 0!==t.body.requests)?(t.body.apiKey=this.apiKey,d=this._computeRequestHeaders({additionalUA:f,withApiKey:!1,headers:t.headers})):d=this._computeRequestHeaders({additionalUA:f,headers:t.headers}),void 0!==t.body&&(s=i(t.body)),h("request start");var _=[];if(g._useCache&&g._useRequestCache&&(c=t.url),g._useCache&&g._useRequestCache&&s&&(c+="_body_"+s),n(g._useRequestCache,m,c)){h("serving request from cache");var w=m[c],S="function"!=typeof w.then?g._promise.resolve({responseText:w}):w;return r(S,function(e){return JSON.parse(e.responseText)})}var C=o(g._request,{url:t.url,method:t.method,body:s,jsonBody:t.body,timeouts:g._getTimeoutsForRequest(t.hostType),forceAuthHeaders:t.forceAuthHeaders});return g._useCache&&g._useRequestCache&&m&&(m[c]=C),r(C,function(e){return e.body})},n.prototype._getSearchParams=function(e,t){if(void 0===e||null===e)return t;for(var o in e)null!==o&&void 0!==e[o]&&e.hasOwnProperty(o)&&(t+=""===t?"":"&",t+=o+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[o])?i(e[o]):e[o]));return t},n.prototype._computeRequestHeaders=function(t){var o=e("foreach"),n=t.additionalUA?this._ua+";"+t.additionalUA:this._ua,r={"x-algolia-agent":n,"x-algolia-application-id":this.applicationID};return t.withApiKey!==!1&&(r["x-algolia-api-key"]=this.apiKey),this.userToken&&(r["x-algolia-usertoken"]=this.userToken),this.securityTags&&(r["x-algolia-tagfilters"]=this.securityTags),o(this.extraHeaders,function(e,t){r[t]=e}),t.headers&&o(t.headers,function(e,t){r[t]=e}),r},n.prototype.search=function(t,o,n){var r=e("isarray"),i=e("./map.js"),s="Usage: client.search(arrayOfQueries[, callback])";if(!r(t))throw new Error(s);"function"==typeof o?(n=o,o={}):void 0===o&&(o={});var a=this,u={requests:i(t,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:a._getSearchParams(e.params,t)}})},l=i(u.requests,function(e,t){return t+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(e.indexName)+"?"+e.params)}).join("&"),c="/1/indexes/*/queries";return void 0!==o.strategy&&(u.strategy=o.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:c,body:u,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:l}},callback:n})},n.prototype.searchForFacetValues=function(t){var o=e("isarray"),n=e("./map.js"),r="Usage: client.searchForFacetValues([{indexName, params: {facetName, facetQuery, ...params}}, ...queries])";if(!o(t))throw new Error(r);var i=this;return i._promise.all(n(t,function(t){if(!t||void 0===t.indexName||void 0===t.params.facetName||void 0===t.params.facetQuery)throw new Error(r);var o=e("./clone.js"),n=e("./omit.js"),s=t.indexName,a=t.params,u=a.facetName,l=n(o(a),function(e){return"facetName"===e}),c=i._getSearchParams(l,"");return i._jsonRequest({cache:i.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(s)+"/facets/"+encodeURIComponent(u)+"/query",hostType:"read",body:{params:c}})}))},n.prototype.setSecurityTags=function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],o=0;o<e.length;++o)if("[object Array]"===Object.prototype.toString.call(e[o])){for(var n=[],r=0;r<e[o].length;++r)n.push(e[o][r]);t.push("("+n.join(",")+")")}else t.push(e[o]);e=t.join(",")}this.securityTags=e},n.prototype.setUserToken=function(e){this.userToken=e},n.prototype.clearCache=function(){this.cache={}},n.prototype.setRequestTimeout=function(e){e&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=e)},n.prototype.setTimeouts=function(e){this._timeouts=e},n.prototype.getTimeouts=function(){return this._timeouts},n.prototype._getAppIdData=function(){var e=d.get(this.applicationID);return null!==e&&this._cacheAppIdData(e),e},n.prototype._setAppIdData=function(e){return e.lastChange=(new Date).getTime(),this._cacheAppIdData(e),d.set(this.applicationID,e)},n.prototype._checkAppIdData=function(){var e=this._getAppIdData(),t=(new Date).getTime();return null===e||t-e.lastChange>h?this._resetInitialAppIdData(e):e},n.prototype._resetInitialAppIdData=function(e){var t=e||{};return t.hostIndexes={read:0,write:0},t.timeoutMultiplier=1,t.shuffleResult=t.shuffleResult||s([1,2,3]),this._setAppIdData(t)},n.prototype._cacheAppIdData=function(e){this._hostIndexes=e.hostIndexes,
this._timeoutMultiplier=e.timeoutMultiplier,this._shuffleResult=e.shuffleResult},n.prototype._partialAppIdDataUpdate=function(t){var o=e("foreach"),n=this._getAppIdData();return o(t,function(e,t){n[t]=e}),this._setAppIdData(n)},n.prototype._getHostByType=function(e){return this.hosts[e][this._getHostIndexByType(e)]},n.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},n.prototype._getHostIndexByType=function(e){return this._hostIndexes[e]},n.prototype._setHostIndexByType=function(t,o){var n=e("./clone"),r=n(this._hostIndexes);return r[o]=t,this._partialAppIdDataUpdate({hostIndexes:r}),t},n.prototype._incrementHostIndex=function(e){return this._setHostIndexByType((this._getHostIndexByType(e)+1)%this.hosts[e].length,e)},n.prototype._incrementTimeoutMultipler=function(){var e=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:e})},n.prototype._getTimeoutsForRequest=function(e){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[e]*this._timeoutMultiplier}}}).call(this,e("_process"))},{"./IndexCore.js":297,"./clone":303,"./clone.js":303,"./errors":307,"./exitPromise.js":308,"./map.js":309,"./omit.js":311,"./store.js":313,_process:320,debug:328,foreach:355,isarray:370}],295:[function(e,t,o){function n(){s.apply(this,arguments)}function r(e,t,o){function n(o,r){var i={page:o||0,hitsPerPage:t||100},s=r||[];return e(i).then(function(e){var t=e.hits,o=e.nbHits,r=t.map(function(e){return delete e._highlightResult,e}),a=s.concat(r);return a.length<o?n(i.page+1,a):a})}return n().then(function(e){return"function"==typeof o?void o(e):e})}var i=e("inherits"),s=e("./IndexCore.js"),a=e("./deprecate.js"),u=e("./deprecatedMessage.js"),l=e("./exitPromise.js"),c=e("./errors"),d=a(function(){},u("forwardToSlaves","forwardToReplicas"));t.exports=n,i(n,s),n.prototype.addObject=function(e,t,o){var n=this;return 1!==arguments.length&&"function"!=typeof t||(o=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:o})},n.prototype.addObjects=function(t,o){var n=e("isarray"),r="Usage: index.addObjects(arrayOfObjects[, callback])";if(!n(t))throw new Error(r);for(var i=this,s={requests:[]},a=0;a<t.length;++a){var u={action:"addObject",body:t[a]};s.requests.push(u)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/batch",body:s,hostType:"write",callback:o})},n.prototype.partialUpdateObject=function(e,t,o){1!==arguments.length&&"function"!=typeof t||(o=t,t=void 0);var n=this,r="/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial";return t===!1&&(r+="?createIfNotExists=false"),this.as._jsonRequest({method:"POST",url:r,body:e,hostType:"write",callback:o})},n.prototype.partialUpdateObjects=function(t,o,n){1!==arguments.length&&"function"!=typeof o||(n=o,o=!0);var r=e("isarray"),i="Usage: index.partialUpdateObjects(arrayOfObjects[, callback])";if(!r(t))throw new Error(i);for(var s=this,a={requests:[]},u=0;u<t.length;++u){var l={action:o===!0?"partialUpdateObject":"partialUpdateObjectNoCreate",objectID:t[u].objectID,body:t[u]};a.requests.push(l)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/batch",body:a,hostType:"write",callback:n})},n.prototype.saveObject=function(e,t){var o=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},n.prototype.saveObjects=function(t,o){var n=e("isarray"),r="Usage: index.saveObjects(arrayOfObjects[, callback])";if(!n(t))throw new Error(r);for(var i=this,s={requests:[]},a=0;a<t.length;++a){var u={action:"updateObject",objectID:t[a].objectID,body:t[a]};s.requests.push(u)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/batch",body:s,hostType:"write",callback:o})},n.prototype.deleteObject=function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var o=new c.AlgoliaSearchError(e&&"function"!=typeof e?"ObjectID must be a string":"Cannot delete an object without an objectID");return t=e,"function"==typeof t?t(o):this.as._promise.reject(o)}var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},n.prototype.deleteObjects=function(t,o){var n=e("isarray"),r=e("./map.js"),i="Usage: index.deleteObjects(arrayOfObjectIDs[, callback])";if(!n(t))throw new Error(i);var s=this,a={requests:r(t,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/batch",body:a,hostType:"write",callback:o})},n.prototype.deleteByQuery=a(function(t,o,n){function r(e){if(0===e.nbHits)return e;var t=d(e.hits,function(e){return e.objectID});return p.deleteObjects(t).then(i).then(s)}function i(e){return p.waitTask(e.taskID)}function s(){return p.deleteByQuery(t,o)}function a(){l(function(){n(null)},h._setTimeout||setTimeout)}function u(e){l(function(){n(e)},h._setTimeout||setTimeout)}var c=e("./clone.js"),d=e("./map.js"),p=this,h=p.as;1===arguments.length||"function"==typeof o?(n=o,o={}):o=c(o),o.attributesToRetrieve="objectID",o.hitsPerPage=1e3,o.distinct=!1,this.clearCache();var f=this.search(t,o).then(r);return n?void f.then(a,u):f},u("index.deleteByQuery()","index.deleteBy()")),n.prototype.deleteBy=function(e,t){var o=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/deleteByQuery",body:{params:o.as._getSearchParams(e,"")},hostType:"write",callback:t})},n.prototype.browseAll=function(t,o){function n(e){if(!a._stopped){var t;t=void 0!==e?{cursor:e}:{params:c},u._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(l.indexName)+"/browse",hostType:"read",body:t,callback:r})}}function r(e,t){if(!a._stopped)return e?void a._error(e):(a._result(t),void 0===t.cursor?void a._end():void n(t.cursor))}"object"==typeof t&&(o=t,t=void 0);var i=e("./merge.js"),s=e("./IndexBrowser"),a=new s,u=this.as,l=this,c=u._getSearchParams(i({},o||{},{query:t}),"");return n(),a},n.prototype.ttAdapter=a(function(e){var t=this;return function(o,n,r){var i;i="function"==typeof r?r:n,t.search(o,e,function(e,t){return e?void i(e):void i(t.hits)})}},"ttAdapter is not necessary anymore and will be removed in the next version,\nhave a look at autocomplete.js (https://github.com/algolia/autocomplete.js)"),n.prototype.waitTask=function(e,t){function o(){return c._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(u.indexName)+"/task/"+e}).then(function(e){a++;var t=i*a*a;return t>s&&(t=s),"published"!==e.status?c._promise.delay(t).then(o):e})}function n(e){l(function(){t(null,e)},c._setTimeout||setTimeout)}function r(e){l(function(){t(e)},c._setTimeout||setTimeout)}var i=100,s=5e3,a=0,u=this,c=u.as,d=o();return t?void d.then(n,r):d},n.prototype.clearIndex=function(e){var t=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},n.prototype.getSettings=function(e,t){1===arguments.length&&"function"==typeof e&&(t=e,e={}),e=e||{};var o=encodeURIComponent(this.indexName);return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+o+"/settings?getVersion=2"+(e.advanced?"&advanced="+e.advanced:""),hostType:"read",callback:t})},n.prototype.searchSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/search",body:e,hostType:"read",callback:t})},n.prototype.exportSynonyms=function(e,t){return r(this.searchSynonyms.bind(this),e,t)},n.prototype.saveSynonym=function(e,t,o){"function"==typeof t?(o=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&d();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e.objectID)+"?forwardToReplicas="+n,body:e,hostType:"write",callback:o})},n.prototype.getSynonym=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e),hostType:"read",callback:t})},n.prototype.deleteSynonym=function(e,t,o){"function"==typeof t?(o=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&d();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e)+"?forwardToReplicas="+n,hostType:"write",callback:o})},n.prototype.clearSynonyms=function(e,t){"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),void 0!==e.forwardToSlaves&&d();var o=e.forwardToSlaves||e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/clear?forwardToReplicas="+o,hostType:"write",callback:t})},n.prototype.batchSynonyms=function(e,t,o){"function"==typeof t?(o=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&d();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/batch?forwardToReplicas="+n+"&replaceExistingSynonyms="+(t.replaceExistingSynonyms?"true":"false"),hostType:"write",body:e,callback:o})},n.prototype.searchRules=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/search",body:e,hostType:"read",callback:t})},n.prototype.exportRules=function(e,t){return r(this.searchRules.bind(this),e,t)},n.prototype.saveRule=function(e,t,o){if("function"==typeof t?(o=t,t={}):void 0===t&&(t={}),!e.objectID)throw new c.AlgoliaSearchError("Missing or empty objectID field for rule");var n=t.forwardToReplicas===!0?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(e.objectID)+"?forwardToReplicas="+n,body:e,hostType:"write",callback:o})},n.prototype.getRule=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(e),hostType:"read",callback:t})},n.prototype.deleteRule=function(e,t,o){"function"==typeof t?(o=t,t={}):void 0===t&&(t={});var n=t.forwardToReplicas===!0?"true":"false";return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(e)+"?forwardToReplicas="+n,hostType:"write",callback:o})},n.prototype.clearRules=function(e,t){"function"==typeof e?(t=e,e={}):void 0===e&&(e={});var o=e.forwardToReplicas===!0?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/clear?forwardToReplicas="+o,hostType:"write",callback:t})},n.prototype.batchRules=function(e,t,o){"function"==typeof t?(o=t,t={}):void 0===t&&(t={});var n=t.forwardToReplicas===!0?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/batch?forwardToReplicas="+n+"&clearExistingRules="+(t.clearExistingRules===!0?"true":"false"),hostType:"write",body:e,callback:o})},n.prototype.setSettings=function(e,t,o){1!==arguments.length&&"function"!=typeof t||(o=t,t={}),void 0!==t.forwardToSlaves&&d();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false",r=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/settings?forwardToReplicas="+n,hostType:"write",body:e,callback:o})},n.prototype.listUserKeys=a(function(e){return this.listApiKeys(e)},u("index.listUserKeys()","client.listApiKeys()")),n.prototype.listApiKeys=a(function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},u("index.listApiKeys()","client.listApiKeys()")),n.prototype.getUserKeyACL=a(function(e,t){return this.getApiKey(e,t)},u("index.getUserKeyACL()","client.getApiKey()")),n.prototype.getApiKey=a(function(e,t){var o=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/keys/"+e,hostType:"read",callback:t})},u("index.getApiKey()","client.getApiKey()")),n.prototype.deleteUserKey=a(function(e,t){return this.deleteApiKey(e,t)},u("index.deleteUserKey()","client.deleteApiKey()")),n.prototype.deleteApiKey=a(function(e,t){var o=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/keys/"+e,hostType:"write",callback:t})},u("index.deleteApiKey()","client.deleteApiKey()")),n.prototype.addUserKey=a(function(e,t,o){return this.addApiKey(e,t,o)},u("index.addUserKey()","client.addApiKey()")),n.prototype.addApiKey=a(function(t,o,n){var r=e("isarray"),i="Usage: index.addApiKey(arrayOfAcls[, params, callback])";if(!r(t))throw new Error(i);1!==arguments.length&&"function"!=typeof o||(n=o,o=null);var s={acl:t};return o&&(s.validity=o.validity,s.maxQueriesPerIPPerHour=o.maxQueriesPerIPPerHour,s.maxHitsPerQuery=o.maxHitsPerQuery,s.description=o.description,o.queryParameters&&(s.queryParameters=this.as._getSearchParams(o.queryParameters,"")),s.referers=o.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:s,hostType:"write",callback:n})},u("index.addApiKey()","client.addApiKey()")),n.prototype.addUserKeyWithValidity=a(function(e,t,o){return this.addApiKey(e,t,o)},u("index.addUserKeyWithValidity()","client.addApiKey()")),n.prototype.updateUserKey=a(function(e,t,o,n){return this.updateApiKey(e,t,o,n)},u("index.updateUserKey()","client.updateApiKey()")),n.prototype.updateApiKey=a(function(t,o,n,r){var i=e("isarray"),s="Usage: index.updateApiKey(key, arrayOfAcls[, params, callback])";if(!i(o))throw new Error(s);2!==arguments.length&&"function"!=typeof n||(r=n,n=null);var a={acl:o};return n&&(a.validity=n.validity,a.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,a.maxHitsPerQuery=n.maxHitsPerQuery,a.description=n.description,n.queryParameters&&(a.queryParameters=this.as._getSearchParams(n.queryParameters,"")),a.referers=n.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,body:a,hostType:"write",callback:r})},u("index.updateApiKey()","client.updateApiKey()"))},{"./IndexBrowser":296,"./IndexCore.js":297,"./clone.js":303,"./deprecate.js":305,"./deprecatedMessage.js":306,"./errors":307,"./exitPromise.js":308,"./map.js":309,"./merge.js":310,inherits:368,isarray:370}],296:[function(e,t,o){"use strict";function n(){}t.exports=n;var r=e("inherits"),i=e("events").EventEmitter;r(n,i),n.prototype.stop=function(){this._stopped=!0,this._clean()},n.prototype._end=function(){this.emit("end"),this._clean()},n.prototype._error=function(e){this.emit("error",e),this._clean()},n.prototype._result=function(e){this.emit("result",e)},n.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},{events:354,inherits:368}],297:[function(e,t,o){function n(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}var r=e("./buildSearchMethod.js"),i=e("./deprecate.js"),s=e("./deprecatedMessage.js");t.exports=n,n.prototype.clearCache=function(){this.cache={}},n.prototype.search=r("query"),n.prototype.similarSearch=r("similarQuery"),n.prototype.browse=function(t,o,n){var r,i,s=e("./merge.js"),a=this;0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(r=0,n=arguments[0],t=void 0):"number"==typeof arguments[0]?(r=arguments[0],"number"==typeof arguments[1]?i=arguments[1]:"function"==typeof arguments[1]&&(n=arguments[1],i=void 0),t=void 0,o=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(n=arguments[1]),o=arguments[0],t=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(n=arguments[1],o=void 0),o=s({},o||{},{page:r,hitsPerPage:i,query:t});var u=this.as._getSearchParams(o,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/browse",body:{params:u},hostType:"read",callback:n})},n.prototype.browseFrom=function(e,t){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse",body:{cursor:e},hostType:"read",callback:t})},n.prototype.searchForFacetValues=function(t,o){var n=e("./clone.js"),r=e("./omit.js"),i="Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])";if(void 0===t.facetName||void 0===t.facetQuery)throw new Error(i);var s=t.facetName,a=r(n(t),function(e){return"facetName"===e}),u=this.as._getSearchParams(a,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/facets/"+encodeURIComponent(s)+"/query",hostType:"read",body:{params:u},callback:o})},n.prototype.searchFacet=i(function(e,t){return this.searchForFacetValues(e,t)},s("index.searchFacet(params[, callback])","index.searchForFacetValues(params[, callback])")),n.prototype._search=function(e,t,o,n){return this.as._jsonRequest({cache:this.cache,method:"POST",url:t||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:o,additionalUA:n})},n.prototype.getObject=function(e,t,o){var n=this;1!==arguments.length&&"function"!=typeof t||(o=t,t=void 0);var r="";if(void 0!==t){r="?attributes=";for(var i=0;i<t.length;++i)0!==i&&(r+=","),r+=t[i]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e)+r,hostType:"read",callback:o})},n.prototype.getObjects=function(t,o,n){var r=e("isarray"),i=e("./map.js"),s="Usage: index.getObjects(arrayOfObjectIDs[, callback])";if(!r(t))throw new Error(s);var a=this;1!==arguments.length&&"function"!=typeof o||(n=o,o=void 0);var u={requests:i(t,function(e){var t={indexName:a.indexName,objectID:e};return o&&(t.attributesToRetrieve=o.join(",")),t})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:u,callback:n})},n.prototype.as=null,n.prototype.indexName=null,n.prototype.typeAheadArgs=null,n.prototype.typeAheadValueOption=null},{"./buildSearchMethod.js":302,"./clone.js":303,"./deprecate.js":305,"./deprecatedMessage.js":306,"./map.js":309,"./merge.js":310,"./omit.js":311,isarray:370}],298:[function(e,t,o){"use strict";var n=e("../../AlgoliaSearch.js"),r=e("../createAlgoliasearch.js");t.exports=r(n)},{"../../AlgoliaSearch.js":293,"../createAlgoliasearch.js":299}],299:[function(e,t,o){(function(o){"use strict";var n=e("global"),r=n.Promise||e("es6-promise").Promise;t.exports=function(t,i){function s(t,o,n){var r=e("../clone.js");return n=r(n||{}),n._ua=n._ua||s.ua,new a(t,o,n)}function a(){t.apply(this,arguments)}var u=e("inherits"),l=e("../errors"),c=e("./inline-headers"),d=e("./jsonp-request"),p=e("../places.js");i=i||"","debug"===o.env.NODE_ENV&&e("debug").enable("algoliasearch*"),s.version=e("../version.js"),s.ua="Algolia for vanilla JavaScript "+i+s.version,s.initPlaces=p(s),n.__algolia={debug:e("debug"),algoliasearch:s};var h={hasXMLHttpRequest:"XMLHttpRequest"in n,hasXDomainRequest:"XDomainRequest"in n};return h.hasXMLHttpRequest&&(h.cors="withCredentials"in new XMLHttpRequest),u(a,t),a.prototype._request=function(e,t){return new r(function(o,n){function r(){if(!f){clearTimeout(p);var e;try{e={body:JSON.parse(g.responseText),responseText:g.responseText,statusCode:g.status,headers:g.getAllResponseHeaders&&g.getAllResponseHeaders()||{}}}catch(t){e=new l.UnparsableJSON({more:g.responseText})}e instanceof l.UnparsableJSON?n(e):o(e)}}function i(e){f||(clearTimeout(p),n(new l.Network({more:e})))}function s(){f=!0,g.abort(),n(new l.RequestTimeout)}function a(){y=!0,clearTimeout(p),p=setTimeout(s,t.timeouts.complete)}function u(){y||a()}function d(){!y&&g.readyState>1&&a()}if(!h.cors&&!h.hasXDomainRequest)return void n(new l.Network("CORS not supported"));e=c(e,t.headers);var p,f,m=t.body,g=h.cors?new XMLHttpRequest:new XDomainRequest,y=!1;p=setTimeout(s,t.timeouts.connect),g.onprogress=u,"onreadystatechange"in g&&(g.onreadystatechange=d),g.onload=r,g.onerror=i,g instanceof XMLHttpRequest?(g.open(t.method,e,!0),t.forceAuthHeaders&&(g.setRequestHeader("x-algolia-application-id",t.headers["x-algolia-application-id"]),g.setRequestHeader("x-algolia-api-key",t.headers["x-algolia-api-key"]))):g.open(t.method,e),h.cors&&(m&&("POST"===t.method?g.setRequestHeader("content-type","application/x-www-form-urlencoded"):g.setRequestHeader("content-type","application/json")),g.setRequestHeader("accept","application/json")),m?g.send(m):g.send()})},a.prototype._request.fallback=function(e,t){return e=c(e,t.headers),new r(function(o,n){d(e,t,function(e,t){return e?void n(e):void o(t)})})},a.prototype._promise={reject:function(e){return r.reject(e)},resolve:function(e){return r.resolve(e)},delay:function(e){return new r(function(t){setTimeout(t,e)})},all:function(e){return r.all(e)}},s}}).call(this,e("_process"))},{"../clone.js":303,"../errors":307,"../places.js":312,"../version.js":314,"./inline-headers":300,"./jsonp-request":301,_process:320,debug:328,"es6-promise":353,global:356,inherits:368}],300:[function(e,t,o){"use strict";function n(e,t){return e+=/\?/.test(e)?"&":"?",e+r(t)}t.exports=n;var r=e("querystring-es3/encode")},{"querystring-es3/encode":409}],301:[function(e,t,o){"use strict";function n(e,t,o){function n(){t.debug("JSONP: success"),g||p||(g=!0,d||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),a(),o(new r.JSONPScriptFail)))}function s(){"loaded"!==this.readyState&&"complete"!==this.readyState||n()}function a(){clearTimeout(y),f.onload=null,f.onreadystatechange=null,f.onerror=null,h.removeChild(f)}function u(){try{delete window[m],delete window[m+"_loaded"]}catch(e){window[m]=window[m+"_loaded"]=void 0}}function l(){t.debug("JSONP: Script timeout"),p=!0,a(),o(new r.RequestTimeout)}function c(){t.debug("JSONP: Script error"),g||p||(a(),o(new r.JSONPScriptError))}if("GET"!==t.method)return void o(new Error("Method "+t.method+" "+e+" is not supported by JSONP."));t.debug("JSONP: start");var d=!1,p=!1;i+=1;var h=document.getElementsByTagName("head")[0],f=document.createElement("script"),m="algoliaJSONP_"+i,g=!1;window[m]=function(e){return u(),p?void t.debug("JSONP: Late answer, ignoring"):(d=!0,a(),void o(null,{body:e,responseText:JSON.stringify(e)}))},e+="&callback="+m,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var y=setTimeout(l,t.timeouts.complete);f.onreadystatechange=s,f.onload=n,f.onerror=c,f.async=!0,f.defer=!0,f.src=e,h.appendChild(f)}t.exports=n;var r=e("../errors"),i=0},{"../errors":307}],302:[function(e,t,o){function n(e,t){return function(o,n,i){if("function"==typeof o&&"object"==typeof n||"object"==typeof i)throw new r.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof o?(i=o,o=""):1!==arguments.length&&"function"!=typeof n||(i=n,n=void 0),"object"==typeof o&&null!==o?(n=o,o=void 0):void 0!==o&&null!==o||(o="");var s="";void 0!==o&&(s+=e+"="+encodeURIComponent(o));var a;return void 0!==n&&(n.additionalUA&&(a=n.additionalUA,delete n.additionalUA),s=this.as._getSearchParams(n,s)),this._search(s,t,i,a)}}t.exports=n;var r=e("./errors.js")},{"./errors.js":307}],303:[function(e,t,o){t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],304:[function(e,t,o){function n(e,t,o){var n={};return o=o||{},o.hosts=o.hosts||["analytics.algolia.com","analytics.algolia.com","analytics.algolia.com","analytics.algolia.com"],o.protocol=o.protocol||"https:",n.as=r(e,t,o),n.getABTests=function(e,t){var o=o||{},n=o.offset||0,r=o.limit||10;return this.as._jsonRequest({method:"GET",url:"/2/abtests?offset="+encodeURIComponent(n)+"&limit="+encodeURIComponent(r),hostType:"read",forceAuthHeaders:!0,callback:t})},n.getABTest=function(e,t){return this.as._jsonRequest({method:"GET",url:"/2/abtests/"+encodeURIComponent(e),hostType:"read",forceAuthHeaders:!0,callback:t})},n.addABTest=function(e,t){return this.as._jsonRequest({method:"POST",url:"/2/abtests",body:e,hostType:"read",forceAuthHeaders:!0,callback:t})},n.stopABTest=function(e,t){return this.as._jsonRequest({method:"POST",url:"/2/abtests/"+encodeURIComponent(e)+"/stop",hostType:"read",forceAuthHeaders:!0,callback:t})},n.deleteABTest=function(e,t){return this.as._jsonRequest({method:"DELETE",url:"/2/abtests/"+encodeURIComponent(e),hostType:"write",forceAuthHeaders:!0,callback:t})},n.waitTask=function(e,t,o){return this.as.initIndex(e).waitTask(t,o)},n}t.exports=n;var r=e("../index.js")},{"../index.js":298}],305:[function(e,t,o){t.exports=function(e,t){function o(){return n||(console.warn(t),n=!0),e.apply(this,arguments)}var n=!1;return o}},{}],306:[function(e,t,o){t.exports=function(e,t){var o=e.toLowerCase().replace(/[\.\(\)]/g,"");return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-javascript/wiki/Deprecated#"+o}},{}],307:[function(e,t,o){"use strict";function n(t,o){var n=e("foreach"),r=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):r.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=t||"Unknown error",o&&n(o,function(e,t){r[t]=e})}function r(e,t){function o(){var o=Array.prototype.slice.call(arguments,0);"string"!=typeof o[0]&&o.unshift(t),n.apply(this,o),this.name="AlgoliaSearch"+e+"Error"}return i(o,n),o}var i=e("inherits");i(n,Error),t.exports={AlgoliaSearchError:n,UnparsableJSON:r("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:r("RequestTimeout","Request timedout before getting a response"),Network:r("Network","Network issue, see err.more for details"),JSONPScriptFail:r("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:r("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:r("Unknown","Unknown error occured")}},{foreach:355,inherits:368}],308:[function(e,t,o){t.exports=function(e,t){t(e,0)}},{}],309:[function(e,t,o){var n=e("foreach");t.exports=function(e,t){var o=[];return n(e,function(n,r){o.push(t(n,r,e))}),o}},{foreach:355}],310:[function(e,t,o){var n=e("foreach");t.exports=function r(e){var t=Array.prototype.slice.call(arguments);return n(t,function(t){for(var o in t)t.hasOwnProperty(o)&&("object"==typeof e[o]&&"object"==typeof t[o]?e[o]=r({},e[o],t[o]):void 0!==t[o]&&(e[o]=t[o]))}),e}},{foreach:355}],311:[function(e,t,o){t.exports=function(t,o){var n=e("object-keys"),r=e("foreach"),i={};return r(n(t),function(e){o(e)!==!0&&(i[e]=t[e])}),i}},{foreach:355,"object-keys":379}],312:[function(e,t,o){function n(t){return function(o,n,i){var s=e("./clone.js");i=i&&s(i)||{},i.hosts=i.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!=typeof o&&void 0!==o||(o="",n="",i._allowEmptyCredentials=!0);var a=t(o,n,i),u=a.initIndex("places");return u.search=r("query","/1/places/query"),u.getObject=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/places/"+encodeURIComponent(e),hostType:"read",callback:t})},u}}t.exports=n;var r=e("./buildSearchMethod.js")},{"./buildSearchMethod.js":302,"./clone.js":303}],313:[function(e,t,o){(function(o){function n(e,t){return u("localStorage failed with",t),s(),a=c,a.get(e)}function r(e,t){return 1===arguments.length?a.get(e):a.set(e,t)}function i(){try{return"localStorage"in o&&null!==o.localStorage&&(o.localStorage[l]||o.localStorage.setItem(l,JSON.stringify({})),!0)}catch(e){return!1}}function s(){try{o.localStorage.removeItem(l)}catch(e){}}var a,u=e("debug")("algoliasearch:src/hostIndexState.js"),l="algoliasearch-client-js",c={state:{},set:function(e,t){return this.state[e]=t,this.state[e]},get:function(e){return this.state[e]||null}},d={set:function(e,t){c.set(e,t);try{var r=JSON.parse(o.localStorage[l]);return r[e]=t,o.localStorage[l]=JSON.stringify(r),r[e]}catch(i){return n(e,i)}},get:function(e){try{return JSON.parse(o.localStorage[l])[e]||null}catch(t){return n(e,t)}}};a=i()?d:c,t.exports={get:r,set:r,supportsLocalStorage:i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:328}],314:[function(e,t,o){"use strict";t.exports="3.30.0"},{}],315:[function(e,t,o){(function(e){"use strict";function o(e){for(var t=[],o=0;o<e.length;o++)t.indexOf(e[o])===-1&&t.push(e[o]);return t}function n(e){var t=new Set;return e.filter(function(e){return!t.has(e)&&(t.add(e),!0)})}function r(e){var t=[];return new Set(e).forEach(function(e){t.push(e)}),t}function i(){var e=!1;return new Set([!0]).forEach(function(t){e=t}),e===!0}"Set"in e?"function"==typeof Set.prototype.forEach&&i()?t.exports=r:t.exports=n:t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],316:[function(e,t,o){!function(t,n){"function"==typeof define&&define.amd?define(["exports","backbone","underscore"],n):"undefined"!=typeof o?n(o,e("backbone"),e("underscore")):n(t,t.Backbone,t._)}(this,function(e,t,o){"use strict";t.Relational={showWarnings:!0},t.Semaphore={_permitsAvailable:null,_permitsUsed:0,acquire:function(){if(this._permitsAvailable&&this._permitsUsed>=this._permitsAvailable)throw new Error("Max permits acquired");this._permitsUsed++},release:function(){if(0===this._permitsUsed)throw new Error("All permits released");this._permitsUsed--},isLocked:function(){return this._permitsUsed>0},setAvailablePermits:function(e){if(this._permitsUsed>e)throw new Error("Available permits cannot be less than used permits");this._permitsAvailable=e}},t.BlockingQueue=function(){this._queue=[]},o.extend(t.BlockingQueue.prototype,t.Semaphore,{_queue:null,add:function(e){this.isBlocked()?this._queue.push(e):e()},process:function(){var e=this._queue;for(this._queue=[];e&&e.length;)e.shift()()},block:function(){this.acquire()},unblock:function(){this.release(),this.isBlocked()||this.process()},isBlocked:function(){return this.isLocked()}}),t.Relational.eventQueue=new t.BlockingQueue,t.Store=function(){this._collections=[],this._reverseRelations=[],this._orphanRelations=[],this._subModels=[],this._modelScopes=[e]},o.extend(t.Store.prototype,t.Events,{initializeRelation:function(e,n,r){var i=o.isString(n.type)?t[n.type]||this.getObjectByName(n.type):n.type;if(i&&i.prototype instanceof t.Relation){new i(e,n,r)}else t.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Relation=%o; missing or invalid relation type!",n)},addModelScope:function(e){this._modelScopes.push(e)},removeModelScope:function(e){this._modelScopes=o.without(this._modelScopes,e)},addSubModels:function(e,t){this._subModels.push({superModelType:t,subModels:e})},setupSuperModel:function(e){o.find(this._subModels,function(t){return o.filter(t.subModels||[],function(o,n){var r=this.getObjectByName(o);if(e===r)return t.superModelType._subModels[n]=e,e._superModel=t.superModelType,e._subModelTypeValue=n,e._subModelTypeAttribute=t.superModelType.prototype.subModelTypeAttribute,!0},this).length},this)},addReverseRelation:function(e){var t=o.any(this._reverseRelations,function(t){return o.all(e||[],function(e,o){return e===t[o]})});!t&&e.model&&e.type&&(this._reverseRelations.push(e),this._addRelation(e.model,e),
this.retroFitRelation(e))},addOrphanRelation:function(e){var t=o.any(this._orphanRelations,function(t){return o.all(e||[],function(e,o){return e===t[o]})});!t&&e.model&&e.type&&this._orphanRelations.push(e)},processOrphanRelations:function(){o.each(this._orphanRelations.slice(0),function(e){var n=t.Relational.store.getObjectByName(e.relatedModel);n&&(this.initializeRelation(null,e),this._orphanRelations=o.without(this._orphanRelations,e))},this)},_addRelation:function(e,t){e.prototype.relations||(e.prototype.relations=[]),e.prototype.relations.push(t),o.each(e._subModels||[],function(e){this._addRelation(e,t)},this)},retroFitRelation:function(e){var t=this.getCollection(e.model,!1);t&&t.each(function(t){if(t instanceof e.model){new e.type(t,e)}},this)},getCollection:function(e,n){e instanceof t.RelationalModel&&(e=e.constructor);for(var r=e;r._superModel;)r=r._superModel;var i=o.find(this._collections,function(e){return e.model===r});return i||n===!1||(i=this._createCollection(r)),i},getObjectByName:function(e){var t=e.split("."),n=null;return o.find(this._modelScopes,function(e){if(n=o.reduce(t||[],function(e,t){return e?e[t]:void 0},e),n&&n!==e)return!0},this),n},_createCollection:function(e){var o;return e instanceof t.RelationalModel&&(e=e.constructor),e.prototype instanceof t.RelationalModel&&(o=new t.Collection,o.model=e,this._collections.push(o)),o},resolveIdForItem:function(e,n){var r=o.isString(n)||o.isNumber(n)?n:null;return null===r&&(n instanceof t.RelationalModel?r=n.id:o.isObject(n)&&(r=n[e.prototype.idAttribute])),r||0===r||(r=null),r},find:function(e,t){var o=this.resolveIdForItem(e,t),n=this.getCollection(e);if(n){var r=n.get(o);if(r instanceof e)return r}return null},register:function(e){var t=this.getCollection(e);if(t){var o=e.collection;t.add(e),e.collection=o}},checkId:function(e,o){var n=this.getCollection(e),r=n&&n.get(o);if(r&&e!==r)throw t.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Duplicate id! Old RelationalModel=%o, new RelationalModel=%o",r,e),new Error("Cannot instantiate more than one Backbone.RelationalModel with the same id per type!")},update:function(e){var t=this.getCollection(e);t.contains(e)||this.register(e),t._onModelEvent("change:"+e.idAttribute,e,t),e.trigger("relational:change:id",e,t)},unregister:function(e){var n,r;e instanceof t.Model?(n=this.getCollection(e),r=[e]):e instanceof t.Collection?(n=this.getCollection(e.model),r=o.clone(e.models)):(n=this.getCollection(e),r=o.clone(n.models)),o.each(r,function(e){this.stopListening(e),o.invoke(e.getRelations(),"stopListening")},this),o.contains(this._collections,e)?n.reset([]):o.each(r,function(e){n.get(e)?n.remove(e):n.trigger("relational:remove",e,n)},this)},reset:function(){this.stopListening(),o.each(this._collections,function(e){this.unregister(e)},this),this._collections=[],this._subModels=[],this._modelScopes=[e]}}),t.Relational.store=new t.Store,t.Relation=function(e,n,r){if(this.instance=e,n=o.isObject(n)?n:{},this.reverseRelation=o.defaults(n.reverseRelation||{},this.options.reverseRelation),this.options=o.defaults(n,this.options,t.Relation.prototype.options),this.reverseRelation.type=o.isString(this.reverseRelation.type)?t[this.reverseRelation.type]||t.Relational.store.getObjectByName(this.reverseRelation.type):this.reverseRelation.type,this.key=this.options.key,this.keySource=this.options.keySource||this.key,this.keyDestination=this.options.keyDestination||this.keySource||this.key,this.model=this.options.model||this.instance.constructor,this.relatedModel=this.options.relatedModel,o.isUndefined(this.relatedModel)&&(this.relatedModel=this.model),!o.isFunction(this.relatedModel)||this.relatedModel.prototype instanceof t.RelationalModel||(this.relatedModel=o.result(this,"relatedModel")),o.isString(this.relatedModel)&&(this.relatedModel=t.Relational.store.getObjectByName(this.relatedModel)),this.checkPreconditions()&&(!this.options.isAutoRelation&&this.reverseRelation.type&&this.reverseRelation.key&&t.Relational.store.addReverseRelation(o.defaults({isAutoRelation:!0,model:this.relatedModel,relatedModel:this.model,reverseRelation:this.options},this.reverseRelation)),e)){var i=this.keySource;i!==this.key&&o.isObject(this.instance.get(this.key))&&(i=this.key),this.setKeyContents(this.instance.get(i)),this.relatedCollection=t.Relational.store.getCollection(this.relatedModel),this.keySource!==this.key&&delete this.instance.attributes[this.keySource],this.instance._relations[this.key]=this,this.initialize(r),this.options.autoFetch&&this.instance.getAsync(this.key,o.isObject(this.options.autoFetch)?this.options.autoFetch:{}),this.listenTo(this.instance,"destroy",this.destroy).listenTo(this.relatedCollection,"relational:add relational:change:id",this.tryAddRelated).listenTo(this.relatedCollection,"relational:remove",this.removeRelated)}},t.Relation.extend=t.Model.extend,o.extend(t.Relation.prototype,t.Events,t.Semaphore,{options:{createModels:!0,includeInJSON:!0,isAutoRelation:!1,autoFetch:!1,parse:!1},instance:null,key:null,keyContents:null,relatedModel:null,relatedCollection:null,reverseRelation:null,related:null,checkPreconditions:function(){var e=this.instance,n=this.key,r=this.model,i=this.relatedModel,s=t.Relational.showWarnings&&"undefined"!=typeof console;if(!r||!n||!i)return s&&console.warn("Relation=%o: missing model, key or relatedModel (%o, %o, %o).",this,r,n,i),!1;if(!(r.prototype instanceof t.RelationalModel))return s&&console.warn("Relation=%o: model does not inherit from Backbone.RelationalModel (%o).",this,e),!1;if(!(i.prototype instanceof t.RelationalModel))return s&&console.warn("Relation=%o: relatedModel does not inherit from Backbone.RelationalModel (%o).",this,i),!1;if(this instanceof t.HasMany&&this.reverseRelation.type===t.HasMany)return s&&console.warn("Relation=%o: relation is a HasMany, and the reverseRelation is HasMany as well.",this),!1;if(e&&o.keys(e._relations).length){var a=o.find(e._relations,function(e){return e.key===n},this);if(a)return s&&console.warn("Cannot create relation=%o on %o for model=%o: already taken by relation=%o.",this,n,e,a),!1}return!0},setRelated:function(e){this.related=e,this.instance.attributes[this.key]=e},_isReverseRelation:function(e){return e.instance instanceof this.relatedModel&&this.reverseRelation.key===e.key&&this.key===e.reverseRelation.key},getReverseRelations:function(e){for(var t=[],n=o.isUndefined(e)?this.related&&(this.related.models||[this.related]):[e],r=null,i=null,s=0;s<(n||[]).length;s++){r=n[s].getRelations()||[];for(var a=0;a<r.length;a++)i=r[a],this._isReverseRelation(i)&&t.push(i)}return t},destroy:function(){this.stopListening(),this instanceof t.HasOne?this.setRelated(null):this instanceof t.HasMany&&this.setRelated(this._prepareCollection()),o.each(this.getReverseRelations(),function(e){e.removeRelated(this.instance)},this)}}),t.HasOne=t.Relation.extend({options:{reverseRelation:{type:"HasMany"}},initialize:function(e){this.listenTo(this.instance,"relational:change:"+this.key,this.onChange);var t=this.findRelated(e);this.setRelated(t),o.each(this.getReverseRelations(),function(t){t.addRelated(this.instance,e)},this)},findRelated:function(e){var t=null;if(e=o.defaults({parse:this.options.parse},e),this.keyContents instanceof this.relatedModel)t=this.keyContents;else if(this.keyContents||0===this.keyContents){var n=o.defaults({create:this.options.createModels},e);t=this.relatedModel.findOrCreate(this.keyContents,n)}return t&&(this.keyId=null),t},setKeyContents:function(e){this.keyContents=e,this.keyId=t.Relational.store.resolveIdForItem(this.relatedModel,this.keyContents)},onChange:function(e,n,r){if(!this.isLocked()){this.acquire(),r=r?o.clone(r):{};var i=o.isUndefined(r.__related),s=i?this.related:r.__related;if(i){this.setKeyContents(n);var a=this.findRelated(r);this.setRelated(a)}if(s&&this.related!==s&&o.each(this.getReverseRelations(s),function(e){e.removeRelated(this.instance,null,r)},this),o.each(this.getReverseRelations(),function(e){e.addRelated(this.instance,r)},this),!r.silent&&this.related!==s){var u=this;this.changed=!0,t.Relational.eventQueue.add(function(){u.instance.trigger("change:"+u.key,u.instance,u.related,r,!0),u.changed=!1})}this.release()}},tryAddRelated:function(e,t,o){!this.keyId&&0!==this.keyId||e.id!==this.keyId||(this.addRelated(e,o),this.keyId=null)},addRelated:function(e,t){var n=this;e.queue(function(){if(e!==n.related){var r=n.related||null;n.setRelated(e),n.onChange(n.instance,e,o.defaults({__related:r},t))}})},removeRelated:function(e,t,n){if(this.related&&e===this.related){var r=this.related||null;this.setRelated(null),this.onChange(this.instance,e,o.defaults({__related:r},n))}}}),t.HasMany=t.Relation.extend({collectionType:null,options:{reverseRelation:{type:"HasOne"},collectionType:t.Collection,collectionKey:!0,collectionOptions:{}},initialize:function(e){if(this.listenTo(this.instance,"relational:change:"+this.key,this.onChange),this.collectionType=this.options.collectionType,!o.isFunction(this.collectionType)||this.collectionType===t.Collection||this.collectionType.prototype instanceof t.Collection||(this.collectionType=o.result(this,"collectionType")),o.isString(this.collectionType)&&(this.collectionType=t.Relational.store.getObjectByName(this.collectionType)),this.collectionType!==t.Collection&&!(this.collectionType.prototype instanceof t.Collection))throw new Error("`collectionType` must inherit from Backbone.Collection");var n=this.findRelated(e);this.setRelated(n)},_prepareCollection:function(e){if(this.related&&this.stopListening(this.related),!(e&&e instanceof t.Collection)){var n=o.isFunction(this.options.collectionOptions)?this.options.collectionOptions(this.instance):this.options.collectionOptions;e=new this.collectionType(null,n)}if(e.model=this.relatedModel,this.options.collectionKey){var r=this.options.collectionKey===!0?this.options.reverseRelation.key:this.options.collectionKey;e[r]&&e[r]!==this.instance?t.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Relation=%o; collectionKey=%s already exists on collection=%o",this,r,this.options.collectionKey):r&&(e[r]=this.instance)}return this.listenTo(e,"relational:add",this.handleAddition).listenTo(e,"relational:remove",this.handleRemoval).listenTo(e,"relational:reset",this.handleReset),e},findRelated:function(e){var n=null;if(e=o.defaults({parse:this.options.parse},e),this.keyContents instanceof t.Collection)this._prepareCollection(this.keyContents),n=this.keyContents;else{var r=[];o.each(this.keyContents,function(t){var n=null;n=t instanceof this.relatedModel?t:o.isObject(t)&&e.parse&&this.relatedModel.prototype.parse?this.relatedModel.prototype.parse(o.clone(t),e):t,n&&r.push(n)},this),n=this.related instanceof t.Collection?this.related:this._prepareCollection(),n.set(r,o.defaults({parse:!1},e))}return this.keyIds=o.difference(this.keyIds,o.pluck(n.models,"id")),n},setKeyContents:function(e){this.keyContents=e instanceof t.Collection?e:null,this.keyIds=[],this.keyContents||!e&&0!==e||(this.keyContents=o.isArray(e)?e:[e],o.each(this.keyContents,function(e){var o=t.Relational.store.resolveIdForItem(this.relatedModel,e);(o||0===o)&&this.keyIds.push(o)},this))},onChange:function(e,n,r){r=r?o.clone(r):{},this.setKeyContents(n),this.changed=!1;var i=this.findRelated(r);if(this.setRelated(i),!r.silent){var s=this;t.Relational.eventQueue.add(function(){s.changed&&(s.instance.trigger("change:"+s.key,s.instance,s.related,r,!0),s.changed=!1)})}},handleAddition:function(e,n,r){r=r?o.clone(r):{},this.changed=!0,o.each(this.getReverseRelations(e),function(e){e.addRelated(this.instance,r)},this);var i=this;!r.silent&&t.Relational.eventQueue.add(function(){i.instance.trigger("add:"+i.key,e,i.related,r)})},handleRemoval:function(e,n,r){r=r?o.clone(r):{},this.changed=!0,o.each(this.getReverseRelations(e),function(e){e.removeRelated(this.instance,null,r)},this);var i=this;!r.silent&&t.Relational.eventQueue.add(function(){i.instance.trigger("remove:"+i.key,e,i.related,r)})},handleReset:function(e,n){var r=this;n=n?o.clone(n):{},!n.silent&&t.Relational.eventQueue.add(function(){r.instance.trigger("reset:"+r.key,r.related,n)})},tryAddRelated:function(e,t,n){var r=o.contains(this.keyIds,e.id);r&&(this.addRelated(e,n),this.keyIds=o.without(this.keyIds,e.id))},addRelated:function(e,t){var n=this;e.queue(function(){n.related&&!n.related.get(e)&&n.related.add(e,o.defaults({parse:!1},t))})},removeRelated:function(e,t,o){this.related.get(e)&&this.related.remove(e,o)}}),t.RelationalModel=t.Model.extend({relations:null,_relations:null,_isInitialized:!1,_deferProcessing:!1,_queue:null,_attributeChangeFired:!1,subModelTypeAttribute:"type",subModelTypes:null,constructor:function(e,n){if(n&&n.collection){var r=this,i=this.collection=n.collection;delete n.collection,this._deferProcessing=!0;var s=function(e){e===r&&(r._deferProcessing=!1,r.processQueue(),i.off("relational:add",s))};i.on("relational:add",s),o.defer(function(){s(r)})}t.Relational.store.processOrphanRelations(),t.Relational.store.listenTo(this,"relational:unregister",t.Relational.store.unregister),this._queue=new t.BlockingQueue,this._queue.block(),t.Relational.eventQueue.block();try{t.Model.apply(this,arguments)}finally{t.Relational.eventQueue.unblock()}},trigger:function(e){if(e.length>5&&0===e.indexOf("change")){var o=this,n=arguments;t.Relational.eventQueue.isBlocked()?t.Relational.eventQueue.add(function(){var r=!0;if("change"===e)r=o.hasChanged()||o._attributeChangeFired,o._attributeChangeFired=!1;else{var i=e.slice(7),s=o.getRelation(i);s?(r=n[4]===!0,r?o.changed[i]=n[2]:s.changed||delete o.changed[i]):r&&(o._attributeChangeFired=!0)}r&&t.Model.prototype.trigger.apply(o,n)}):t.Model.prototype.trigger.apply(o,n)}else"destroy"===e?(t.Model.prototype.trigger.apply(this,arguments),t.Relational.store.unregister(this)):t.Model.prototype.trigger.apply(this,arguments);return this},initializeRelations:function(e){this.acquire(),this._relations={},o.each(this.relations||[],function(o){t.Relational.store.initializeRelation(this,o,e)},this),this._isInitialized=!0,this.release(),this.processQueue()},updateRelations:function(e,t){this._isInitialized&&!this.isLocked()&&o.each(this._relations,function(o){if(!e||o.keySource in e||o.key in e){var n=this.attributes[o.keySource]||this.attributes[o.key],r=e&&(e[o.keySource]||e[o.key]);(o.related!==n||null===n&&null===r)&&this.trigger("relational:change:"+o.key,this,n,t||{})}o.keySource!==o.key&&delete this.attributes[o.keySource]},this)},queue:function(e){this._queue.add(e)},processQueue:function(){this._isInitialized&&!this._deferProcessing&&this._queue.isBlocked()&&this._queue.unblock()},getRelation:function(e){return this._relations[e]},getRelations:function(){return o.values(this._relations)},getIdsToFetch:function(e,n){var r=e instanceof t.Relation?e:this.getRelation(e),i=r?r.keyIds&&r.keyIds.slice(0)||(r.keyId||0===r.keyId?[r.keyId]:[]):[];if(n){var s=r.related&&(r.related.models||[r.related]);o.each(s,function(e){(e.id||0===e.id)&&i.push(e.id)})}return i},getAsync:function(e,n){n=o.extend({add:!0,remove:!1,refresh:!1},n);var r=this,i=[],s=this.getRelation(e),a=s&&this.getIdsToFetch(s,n.refresh),u=s.related instanceof t.Collection?s.related:s.relatedCollection;if(a&&a.length){var l,c=[],d=[],p=function(){c=o.map(a,function(e){var t=s.relatedModel.findModel(e);if(!t){var o={};o[s.relatedModel.prototype.idAttribute]=e,t=s.relatedModel.findOrCreate(o,n),d.push(t)}return t},this)};if(u instanceof t.Collection&&o.isFunction(u.url)){var h=u.url();l=u.url(a),l===h&&(p(),l=u.url(c),l===h&&(l=null))}if(l){var f=o.defaults({error:function(){o.each(d,function(e){e.trigger("destroy",e,e.collection,n)}),n.error&&n.error.apply(c,arguments)},url:l},n);i=[u.fetch(f)]}else c.length||p(),i=o.map(c,function(e){var t=o.defaults({error:function(){o.contains(d,e)&&e.trigger("destroy",e,e.collection,n),n.error&&n.error.apply(c,arguments)}},n);return e.fetch(t)},this)}return this.deferArray(i).then(function(){return t.Model.prototype.get.call(r,e)})},deferArray:function(e){return t.$.when.apply(null,e)},set:function(e,n,r){t.Relational.eventQueue.block();var i,s;o.isObject(e)||null==e?(i=e,r=n):(i={},i[e]=n);try{var a=this.id,u=i&&this.idAttribute in i&&i[this.idAttribute];t.Relational.store.checkId(this,u),s=t.Model.prototype.set.apply(this,arguments),this._isInitialized||this.isLocked()?u&&u!==a&&t.Relational.store.update(this):(this.constructor.initializeModelHierarchy(),(u||0===u)&&t.Relational.store.register(this),this.initializeRelations(r)),i&&this.updateRelations(i,r)}finally{t.Relational.eventQueue.unblock()}return s},clone:function(){var e=o.clone(this.attributes);return o.isUndefined(e[this.idAttribute])||(e[this.idAttribute]=null),o.each(this.getRelations(),function(t){delete e[t.key]}),new this.constructor(e)},toJSON:function(e){if(this.isLocked())return this.id;this.acquire();var n=t.Model.prototype.toJSON.call(this,e);return!this.constructor._superModel||this.constructor._subModelTypeAttribute in n||(n[this.constructor._subModelTypeAttribute]=this.constructor._subModelTypeValue),o.each(this._relations,function(r){var i=n[r.key],s=r.options.includeInJSON,a=null;s===!0?i&&o.isFunction(i.toJSON)&&(a=i.toJSON(e)):o.isString(s)?(i instanceof t.Collection?a=i.pluck(s):i instanceof t.Model&&(a=i.get(s)),s===r.relatedModel.prototype.idAttribute&&(r instanceof t.HasMany?a=a.concat(r.keyIds):r instanceof t.HasOne&&(a=a||r.keyId,a||o.isObject(r.keyContents)||(a=r.keyContents||null)))):o.isArray(s)?i instanceof t.Collection?(a=[],i.each(function(e){var t={};o.each(s,function(o){t[o]=e.get(o)}),a.push(t)})):i instanceof t.Model&&(a={},o.each(s,function(e){a[e]=i.get(e)})):delete n[r.key],null===a&&e&&e.wait&&(a=i),s&&(n[r.keyDestination]=a),r.keyDestination!==r.key&&delete n[r.key]}),this.release(),n}},{setup:function(e){return this.prototype.relations=(this.prototype.relations||[]).slice(0),this._subModels={},this._superModel=null,this.prototype.hasOwnProperty("subModelTypes")?t.Relational.store.addSubModels(this.prototype.subModelTypes,this):this.prototype.subModelTypes=null,o.each(this.prototype.relations||[],function(e){if(e.model||(e.model=this),e.reverseRelation&&e.model===this){var n=!0;if(o.isString(e.relatedModel)){var r=t.Relational.store.getObjectByName(e.relatedModel);n=r&&r.prototype instanceof t.RelationalModel}n?t.Relational.store.initializeRelation(null,e):o.isString(e.relatedModel)&&t.Relational.store.addOrphanRelation(e)}},this),this},build:function(e,t){this.initializeModelHierarchy();var o=this._findSubModelType(this,e)||this;return new o(e,t)},_findSubModelType:function(e,t){if(e._subModels&&e.prototype.subModelTypeAttribute in t){var o=t[e.prototype.subModelTypeAttribute],n=e._subModels[o];if(n)return n;for(o in e._subModels)if(n=this._findSubModelType(e._subModels[o],t))return n}return null},initializeModelHierarchy:function(){if(this.inheritRelations(),this.prototype.subModelTypes){var e=o.keys(this._subModels),n=o.omit(this.prototype.subModelTypes,e);o.each(n,function(e){var o=t.Relational.store.getObjectByName(e);o&&o.initializeModelHierarchy()})}},inheritRelations:function(){if(o.isUndefined(this._superModel)||o.isNull(this._superModel))if(t.Relational.store.setupSuperModel(this),this._superModel){if(this._superModel.inheritRelations(),this._superModel.prototype.relations){var e=o.filter(this._superModel.prototype.relations||[],function(e){return!o.any(this.prototype.relations||[],function(t){return e.relatedModel===t.relatedModel&&e.key===t.key},this)},this);this.prototype.relations=e.concat(this.prototype.relations)}}else this._superModel=!1},findOrCreate:function(e,t){t||(t={});var n=o.isObject(e)&&t.parse&&this.prototype.parse?this.prototype.parse(o.clone(e),t):e,r=this.findModel(n);return o.isObject(e)&&(r&&t.merge!==!1?(delete t.collection,delete t.url,r.set(n,t)):r||t.create===!1||(r=this.build(n,o.defaults({parse:!1},t)))),r},find:function(e,t){return t||(t={}),t.create=!1,this.findOrCreate(e,t)},findModel:function(e){return t.Relational.store.find(this,e)}}),o.extend(t.RelationalModel.prototype,t.Semaphore),t.Collection.prototype.__prepareModel=t.Collection.prototype._prepareModel,t.Collection.prototype._prepareModel=function(e,n){var r;return e instanceof t.Model?(e.collection||(e.collection=this),r=e):(n=n?o.clone(n):{},n.collection=this,r="undefined"!=typeof this.model.findOrCreate?this.model.findOrCreate(e,n):new this.model(e,n),r&&r.validationError&&(this.trigger("invalid",this,e,n),r=!1)),r};var n=t.Collection.prototype.__set=t.Collection.prototype.set;t.Collection.prototype.set=function(e,r){if(!(this.model.prototype instanceof t.RelationalModel))return n.call(this,e,r);r&&r.parse&&(e=this.parse(e,r));var i=!o.isArray(e),s=[],a=[],u=null;e=i?e?[e]:[]:o.clone(e);for(var l=0;l<e.length;l++)u=e[l],u instanceof t.Model||(u=t.Collection.prototype._prepareModel.call(this,u,r)),u&&(a.push(u),this.get(u)||this.get(u.cid)?null!==u.id&&void 0!==u.id&&(this._byId[u.id]=u):s.push(u));a=i?a.length?a[0]:null:a;var c=n.call(this,a,o.defaults({merge:!1,parse:!1},r));for(l=0;l<s.length;l++)u=s[l],(this.get(u)||this.get(u.cid))&&this.trigger("relational:add",u,this,r);return c};var r=t.Collection.prototype.___removeModels=t.Collection.prototype._removeModels;t.Collection.prototype._removeModels=function(e,n){if(!(this.model.prototype instanceof t.RelationalModel))return r.call(this,e,n);var i=[];o.each(e,function(e){e=this.get(e)||e&&this.get(e.cid),e&&i.push(e)},this);var s=r.call(this,i,n);return o.each(i,function(e){this.trigger("relational:remove",e,this,n)},this),s};var i=t.Collection.prototype.__reset=t.Collection.prototype.reset;t.Collection.prototype.reset=function(e,n){n=o.extend({merge:!0},n);var r=i.call(this,e,n);return this.model.prototype instanceof t.RelationalModel&&this.trigger("relational:reset",this,n),r};var s=t.Collection.prototype.__sort=t.Collection.prototype.sort;t.Collection.prototype.sort=function(e){var o=s.call(this,e);return this.model.prototype instanceof t.RelationalModel&&this.trigger("relational:reset",this,e),o};var a=t.Collection.prototype.__trigger=t.Collection.prototype.trigger;t.Collection.prototype.trigger=function(e){if(!(this.model.prototype instanceof t.RelationalModel))return a.apply(this,arguments);if("add"===e||"remove"===e||"reset"===e||"sort"===e){var n=this,r=arguments;o.isObject(r[3])&&(r=o.toArray(r),r[3]=o.clone(r[3])),t.Relational.eventQueue.add(function(){a.apply(n,r)})}else a.apply(this,arguments);return this},t.RelationalModel.extend=function(e,o){var n=t.Model.extend.call(this,e,o);return n.setup(this),n}})},{backbone:318,underscore:445}],317:[function(e,t,o){!function(t){"function"==typeof define&&define.amd?define(["underscore","backbone","exports"],t):"object"==typeof o?t(e("underscore"),e("backbone"),o):t(_,Backbone,{})}(function(e,t,o){t.Stickit=o,o._handlers=[],o.addHandler=function(t){t=e.map(e.flatten([t]),function(t){return e.defaults({},t,{updateModel:!0,updateView:!0,updateMethod:"text"})}),this._handlers=this._handlers.concat(t)},o.ViewMixin={_modelBindings:null,unstickit:function(t,o){if(e.isObject(o))return void e.each(o,function(e,o){this.unstickit(t,o)},this);var n=[],r=[];this._modelBindings=e.reject(this._modelBindings,function(e){if(!(t&&e.model!==t||o&&e.config.selector!=o))return e.model.off(e.event,e.fn),r.push(e.config._destroy),n.push(e.model),!0}),e.invoke(e.uniq(n),"trigger","stickit:unstuck",this.cid),e.each(e.uniq(r),function(e){e.call(this)},this),this.$el.off(".stickit"+(t?"."+t.cid:""),o)},stickit:function(t,o){var n=t||this.model,r=o||e.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]),this.addBinding(n,r);var i=this.remove;return i.stickitWrapped||(this.remove=function(){var e=this;return this.unstickit(),i&&(e=i.apply(this,arguments)),e}),this.remove.stickitWrapped=!0,this},addBinding:function(t,o,r){var m=t||this.model,g=".stickit."+m.cid;if(r=r||{},e.isObject(o)){var y=o;return void e.each(y,function(e,t){this.addBinding(m,t,e)},this)}var v=":el"===o?this.$el:this.$(o);if(this.unstickit(m,o),v.length){e.isString(r)&&(r={observe:r}),e.isFunction(r.observe)&&(r.observe=r.observe.call(this));var b=c(v,r),_=b.observe;b.selector=o,b.view=this;var w=b.bindId=e.uniqueId(),S=e.extend({stickitChange:b},b.setOptions);if(b._destroy=function(){i.call(this,b.destroy,v,m,b)},d(v,b,m,_),h(v,b,m,_),p(v,b,m,_),_){e.each(b.events,function(t){var r=t+g,a=function(e){var t=i.call(this,b.getVal,v,e,b,n.call(arguments,1)),o=s(b.updateModel,t,e,b);o&&u(m,_,t,S,b)},l=":el"===o?"":o;this.$el.on(r,l,e.bind(a,this))},this),e.each(e.flatten([_]),function(e){a(m,"change:"+e,b,function(e,t,o){var n=o&&o.stickitChange&&o.stickitChange.bindId;if(n!==w){var r=l(m,_,b);f(v,b,r,m)}})});var C=l(m,_,b);f(v,b,C,m,!0)}i.call(this,b.initialize,v,m,b)}}},e.extend(t.View.prototype,o.ViewMixin);var n=[].slice,r=function(t,o){var n=(o||"").split("."),r=e.reduce(n,function(e,t){return e[t]},t);return null==r?t:r},i=function(t){if(t=e.isString(t)?r(this,t):t)return t.apply(this,n.call(arguments,1))},s=function(t,o,n){if(e.isBoolean(t))return t;if(e.isFunction(t)||e.isString(t)){var r=e.last(arguments).view;return i.apply(r,arguments)}return!1},a=function(e,t,o,n){var r=o.view;e.on(t,n,r),r._modelBindings.push({model:e,event:t,fn:n,config:o})},u=function(t,o,n,r,s){var a={},u=s.view;s.onSet&&(n=i.call(u,s.onSet,n,s)),s.set?i.call(u,s.set,o,n,r,s):(a[o]=n,e.isArray(o)&&e.isArray(n)&&(a=e.reduce(o,function(t,o,r){return t[o]=e.has(n,r)?n[r]:null,t},{})),t.set(a,r))},l=function(t,o,n){var r=n.view,s=function(e){return t[n.escape?"escape":"get"](e)},a=function(e){return null==e?"":e},u=e.isArray(o)?e.map(o,s):s(o);return n.onGet&&(u=i.call(r,n.onGet,u,n)),e.isArray(u)?e.map(u,a):a(u)},c=o.getConfiguration=function(t,n){var r=[{updateModel:!1,updateMethod:"text",update:function(e,t,o,n){e[n.updateMethod]&&e[n.updateMethod](t)},getVal:function(e,t,o){return e[o.updateMethod]()}}];r=r.concat(e.filter(o._handlers,function(e){return t.is(e.selector)})),r.push(n);var i=e.extend.apply(e,r);return e.has(i,"updateView")||(i.updateView=!i.visible),i},d=function(t,o,n,r){var i=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"],s=o.view;e.each(o.attributes||[],function(u){u=e.clone(u),u.view=s;var c="",d=u.observe||(u.observe=r),p=function(){var o=e.contains(i,u.name)?"prop":"attr",r=l(n,d,u);"class"===u.name?(t.removeClass(c).addClass(r),c=r):t[o](u.name,r)};e.each(e.flatten([d]),function(e){a(n,"change:"+e,o,p)}),p()})},p=function(t,o,n,r){e.each(o.classes||[],function(r,i){e.isString(r)&&(r={observe:r}),r.view=o.view;var s=r.observe,u=function(){var e=l(n,s,r);t.toggleClass(i,!!e)};e.each(e.flatten([s]),function(e){a(n,"change:"+e,o,u)}),u()})},h=function(t,o,n,r){if(null!=o.visible){var s=o.view,u=function(){var a=o.visible,u=o.visibleFn,c=l(n,r,o),d=!!c;(e.isFunction(a)||e.isString(a))&&(d=!!i.call(s,a,c,o)),u?i.call(s,u,t,d,o):t.toggle(d)};e.each(e.flatten([r]),function(e){a(n,"change:"+e,o,u)}),u()}},f=function(e,t,o,n,r){var a=t.view;s(t.updateView,o,t)&&(i.call(a,t.update,e,o,n,t),r||i.call(a,t.afterUpdate,e,o,t))};return o.addHandler([{selector:"[contenteditable]",updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(e,t){e.val(t)},getVal:function(e){return e.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(e,t){e.val(t)},getVal:function(e){return e.val()}},{selector:'input[type="radio"]',events:["change"],update:function(e,t){e.filter('[value="'+t+'"]').prop("checked",!0)},getVal:function(e){return e.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(o,n,r,i){if(o.length>1)n||(n=[]),o.each(function(o,r){var i=t.$(r),s=e.contains(n,i.val());i.prop("checked",s)});else{var s=e.isBoolean(n)?n:n===o.val();o.prop("checked",s)}},getVal:function(o){var n;if(o.length>1)n=e.reduce(o,function(e,o){var n=t.$(o);return n.prop("checked")&&e.push(n.val()),e},[]);else{n=o.prop("checked");var r=o.val();"on"!==r&&null!=r&&(n=n?o.val():null)}return n}},{selector:"select",events:["change"],update:function(o,n,s,a){var u,c=a.selectOptions,d=c&&c.collection||void 0,p=o.prop("multiple");if(!c){c={};var h=function(e){return e.map(function(e,o){var n=t.$(o).data("stickit-bind-val");return{value:void 0!==n?n:o.value,label:o.text}}).get()};o.find("optgroup").length?(d={opt_labels:[]},o.find("> option").length&&(d.opt_labels.push(void 0),e.each(o.find("> option"),function(e){d[void 0]=h(t.$(e))})),e.each(o.find("optgroup"),function(e){var o=t.$(e).attr("label");d.opt_labels.push(o),d[o]=h(t.$(e).find("option"))})):d=h(o.find("option"))}c.valuePath=c.valuePath||"value",c.labelPath=c.labelPath||"label",c.disabledPath=c.disabledPath||"disabled";var f=function(o,n,i){e.each(o,function(o){var s,a,u,l=t.$("<option/>"),d=o,h=function(t,o,n){l.text(t),d=o,l.data("stickit-bind-val",d),e.isArray(d)||e.isObject(d)||l.val(d),n===!0&&l.prop("disabled","disabled")};"__default__"===o?(s=i.label,a=i.value,u=i.disabled):(s=r(o,c.labelPath),a=r(o,c.valuePath),u=r(o,c.disabledPath)),h(s,a,u);var f=function(){return!p&&null!=d&&null!=i&&d===i||!(!e.isObject(i)||!e.isEqual(d,i))};f()?l.prop("selected",!0):p&&e.isArray(i)&&e.each(i,function(t){e.isObject(t)&&(t=r(t,c.valuePath)),(t===d||e.isObject(t)&&e.isEqual(d,t))&&l.prop("selected",!0)}),n.append(l)})};if(o.find("*").remove(),e.isString(d)){var m=window;0===d.indexOf("this.")&&(m=this),d=d.replace(/^[a-z]*\.(.+)$/,"$1"),u=r(m,d)}else u=e.isFunction(d)?i.call(this,d,o,a):d;if(u instanceof t.Collection){var g=u,y=function(){var e=l(s,a.observe,a);i.call(this,a.update,o,e,s,a)},v=function(){g.off("add remove reset sort",y)},b=function(){v(),g.off("stickit:selectRefresh"),s.off("stickit:selectRefresh")};g.trigger("stickit:selectRefresh"),g.once("stickit:selectRefresh",v,this),g.on("add remove reset sort",y,this),s.trigger("stickit:selectRefresh"),s.once("stickit:selectRefresh",function(){s.off("stickit:unstuck",b)}),s.once("stickit:unstuck",b,this),u=u.toJSON()}if(c.defaultOption){var _=e.isFunction(c.defaultOption)?c.defaultOption.call(this,o,a):c.defaultOption;f(["__default__"],o,_)}if(e.isArray(u))f(u,o,n);else if(u.opt_labels)e.each(u.opt_labels,function(e){var r=t.$("<optgroup/>").attr("label",e);f(u[e],r,n),o.append(r)});else{var w,S=[];for(var C in u)w={},w[c.valuePath]=C,w[c.labelPath]=u[C],S.push(w);S=e.sortBy(S,c.comparator||c.labelPath),f(S,o,n)}},getVal:function(o){var n=o.find("option:selected");return o.prop("multiple")?e.map(n,function(e){return t.$(e).data("stickit-bind-val")}):n.data("stickit-bind-val")}}]),o})},{backbone:318,underscore:445}],318:[function(e,t,o){(function(t){!function(n){var r="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(e,t,o){r.Backbone=n(r,o,e,t)});else if("undefined"!=typeof o){var i,s=e("underscore");try{i=e("jquery")}catch(a){}n(r,o,s,i)}else r.Backbone=n(r,{},r._,r.jQuery||r.Zepto||r.ender||r.$)}(function(e,t,o,n){var r=e.Backbone,i=Array.prototype.slice;t.VERSION="1.3.3",t.$=n,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=function(e,t,n){switch(e){case 1:return function(){return o[t](this[n])};case 2:return function(e){return o[t](this[n],e)};case 3:return function(e,r){return o[t](this[n],u(e,this),r)};case 4:return function(e,r,i){return o[t](this[n],u(e,this),r,i)};default:return function(){var e=i.call(arguments);return e.unshift(this[n]),o[t].apply(o,e)}}},a=function(e,t,n){o.each(t,function(t,r){o[r]&&(e.prototype[r]=s(t,r,n))})},u=function(e,t){return o.isFunction(e)?e:o.isObject(e)&&!t._isModel(e)?l(e):o.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=o.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,p=function(e,t,n,r,i){
var s,a=0;if(n&&"object"==typeof n){void 0!==r&&"context"in i&&void 0===i.context&&(i.context=r);for(s=o.keys(n);a<s.length;a++)t=p(e,t,s[a],n[s[a]],i)}else if(n&&d.test(n))for(s=n.split(d);a<s.length;a++)t=e(t,s[a],r,i);else t=e(t,n,r,i);return t};c.on=function(e,t,o){return h(this,e,t,o)};var h=function(e,t,o,n,r){if(e._events=p(f,e._events||{},t,o,{context:n,ctx:e,listening:r}),r){var i=e._listeners||(e._listeners={});i[r.id]=r}return e};c.listenTo=function(e,t,n){if(!e)return this;var r=e._listenId||(e._listenId=o.uniqueId("l")),i=this._listeningTo||(this._listeningTo={}),s=i[r];if(!s){var a=this._listenId||(this._listenId=o.uniqueId("l"));s=i[r]={obj:e,objId:r,id:a,listeningTo:i,count:0}}return h(e,t,n,this,s),this};var f=function(e,t,o,n){if(o){var r=e[t]||(e[t]=[]),i=n.context,s=n.ctx,a=n.listening;a&&a.count++,r.push({callback:o,context:i,ctx:i||s,listening:a})}return e};c.off=function(e,t,o){return this._events?(this._events=p(m,this._events,e,t,{context:o,listeners:this._listeners}),this):this},c.stopListening=function(e,t,n){var r=this._listeningTo;if(!r)return this;for(var i=e?[e._listenId]:o.keys(r),s=0;s<i.length;s++){var a=r[i[s]];if(!a)break;a.obj.off(t,n,this)}return this};var m=function(e,t,n,r){if(e){var i,s=0,a=r.context,u=r.listeners;if(t||n||a){for(var l=t?[t]:o.keys(e);s<l.length;s++){t=l[s];var c=e[t];if(!c)break;for(var d=[],p=0;p<c.length;p++){var h=c[p];n&&n!==h.callback&&n!==h.callback._callback||a&&a!==h.context?d.push(h):(i=h.listening,i&&0===--i.count&&(delete u[i.id],delete i.listeningTo[i.objId]))}d.length?e[t]=d:delete e[t]}return e}for(var f=o.keys(u);s<f.length;s++)i=u[f[s]],delete u[i.id],delete i.listeningTo[i.objId]}};c.once=function(e,t,n){var r=p(g,{},e,t,o.bind(this.off,this));return"string"==typeof e&&null==n&&(t=void 0),this.on(r,t,n)},c.listenToOnce=function(e,t,n){var r=p(g,{},t,n,o.bind(this.stopListening,this,e));return this.listenTo(e,r)};var g=function(e,t,n,r){if(n){var i=e[t]=o.once(function(){r(t,i),n.apply(this,arguments)});i._callback=n}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),o=Array(t),n=0;n<t;n++)o[n]=arguments[n+1];return p(y,this._events,e,void 0,o),this};var y=function(e,t,o,n){if(e){var r=e[t],i=e.all;r&&i&&(i=i.slice()),r&&v(r,n),i&&v(i,[t].concat(n))}return e},v=function(e,t){var o,n=-1,r=e.length,i=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++n<r;)(o=e[n]).callback.call(o.ctx);return;case 1:for(;++n<r;)(o=e[n]).callback.call(o.ctx,i);return;case 2:for(;++n<r;)(o=e[n]).callback.call(o.ctx,i,s);return;case 3:for(;++n<r;)(o=e[n]).callback.call(o.ctx,i,s,a);return;default:for(;++n<r;)(o=e[n]).callback.apply(o.ctx,t);return}};c.bind=c.on,c.unbind=c.off,o.extend(t,c);var b=t.Model=function(e,t){var n=e||{};t||(t={}),this.cid=o.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{});var r=o.result(this,"defaults");n=o.defaults(o.extend({},r,n),r),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};o.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return o.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return o.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!o.iteratee(e,this)(this.attributes)},set:function(e,t,n){if(null==e)return this;var r;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;var i=n.unset,s=n.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=o.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,d=this._previousAttributes;for(var p in r)t=r[p],o.isEqual(l[p],t)||a.push(p),o.isEqual(d[p],t)?delete c[p]:c[p]=t,i?delete l[p]:l[p]=t;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=n);for(var h=0;h<a.length;h++)this.trigger("change:"+a[h],this,l[a[h]],n)}if(u)return this;if(!s)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,o.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,o.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!o.isEmpty(this.changed):o.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&o.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,n={};for(var r in e){var i=e[r];o.isEqual(t[r],i)||(n[r]=i)}return!!o.size(n)&&n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(e){e=o.extend({parse:!0},e);var t=this,n=e.success;return e.success=function(o){var r=e.parse?t.parse(o,e):o;return!!t.set(r,e)&&(n&&n.call(e.context,t,o,e),void t.trigger("sync",t,o,e))},H(this,e),this.sync("read",this,e)},save:function(e,t,n){var r;null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,n=o.extend({validate:!0,parse:!0},n);var i=n.wait;if(r&&!i){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;var s=this,a=n.success,u=this.attributes;n.success=function(e){s.attributes=u;var t=n.parse?s.parse(e,n):e;return i&&(t=o.extend({},r,t)),!(t&&!s.set(t,n))&&(a&&a.call(n.context,s,e,n),void s.trigger("sync",s,e,n))},H(this,n),r&&i&&(this.attributes=o.extend({},u,r));var l=this.isNew()?"create":n.patch?"patch":"update";"patch"!==l||n.attrs||(n.attrs=r);var c=this.sync(l,this,n);return this.attributes=u,c},destroy:function(e){e=e?o.clone(e):{};var t=this,n=e.success,r=e.wait,i=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(o){r&&i(),n&&n.call(e.context,t,o,e),t.isNew()||t.trigger("sync",t,o,e)};var s=!1;return this.isNew()?o.defer(e.success):(H(this,e),s=this.sync("delete",this,e)),r||i(),s},url:function(){var e=o.result(this,"urlRoot")||o.result(this.collection,"url")||U();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},o.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=o.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return!n||(this.trigger("invalid",this,n,o.extend(t,{validationError:n})),!1)}});var _={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(b,_,"attributes");var w=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,o.extend({silent:!0},t))},S={add:!0,remove:!0,merge:!0},C={add:!0,remove:!1},E=function(e,t,o){o=Math.min(Math.max(o,0),e.length);var n,r=Array(e.length-o),i=t.length;for(n=0;n<r.length;n++)r[n]=e[n+o];for(n=0;n<i;n++)e[n+o]=t[n];for(n=0;n<r.length;n++)e[n+i+o]=r[n]};o.extend(w.prototype,c,{model:b,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,o.extend({merge:!1},t,C))},remove:function(e,t){t=o.extend({},t);var n=!o.isArray(e);e=n?[e]:e.slice();var r=this._removeModels(e,t);return!t.silent&&r.length&&(t.changes={added:[],merged:[],removed:r},this.trigger("update",this,t)),n?r[0]:r},set:function(e,t){if(null!=e){t=o.extend({},S,t),t.parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var n=!o.isArray(e);e=n?[e]:e.slice();var r=t.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var i,s,a=[],u=[],l=[],c=[],d={},p=t.add,h=t.merge,f=t.remove,m=!1,g=this.comparator&&null==r&&t.sort!==!1,y=o.isString(this.comparator)?this.comparator:null;for(s=0;s<e.length;s++){i=e[s];var v=this.get(i);if(v){if(h&&i!==v){var b=this._isModel(i)?i.attributes:i;t.parse&&(b=v.parse(b,t)),v.set(b,t),l.push(v),g&&!m&&(m=v.hasChanged(y))}d[v.cid]||(d[v.cid]=!0,a.push(v)),e[s]=v}else p&&(i=e[s]=this._prepareModel(i,t),i&&(u.push(i),this._addReference(i,t),d[i.cid]=!0,a.push(i)))}if(f){for(s=0;s<this.length;s++)i=this.models[s],d[i.cid]||c.push(i);c.length&&this._removeModels(c,t)}var _=!1,w=!g&&p&&f;if(a.length&&w?(_=this.length!==a.length||o.some(this.models,function(e,t){return e!==a[t]}),this.models.length=0,E(this.models,a,0),this.length=this.models.length):u.length&&(g&&(m=!0),E(this.models,u,null==r?this.length:r),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(s=0;s<u.length;s++)null!=r&&(t.index=r+s),i=u[s],i.trigger("add",i,this,t);(m||_)&&this.trigger("sort",this,t),(u.length||c.length||l.length)&&(t.changes={added:u,removed:c,merged:l},this.trigger("update",this,t))}return n?e[0]:e}},reset:function(e,t){t=t?o.clone(t):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,o.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,o.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return i.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var n=t.length;return o.isFunction(t)&&(t=o.bind(t,this)),1===n||o.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){e=o.extend({parse:!0},e);var t=e.success,n=this;return e.success=function(o){var r=e.reset?"reset":"set";n[r](o,e),t&&t.call(e.context,n,o,e),n.trigger("sync",n,o,e)},H(this,e),this.sync("read",this,e)},create:function(e,t){t=t?o.clone(t):{};var n=t.wait;if(e=this._prepareModel(e,t),!e)return!1;n||this.add(e,t);var r=this,i=t.success;return t.success=function(e,t,o){n&&r.add(e,o),i&&i.call(o.context,e,t,o)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?o.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeModels:function(e,t){for(var o=[],n=0;n<e.length;n++){var r=this.get(e[n]);if(r){var i=this.indexOf(r);this.models.splice(i,1),this.length--,delete this._byId[r.cid];var s=this.modelId(r.attributes);null!=s&&delete this._byId[s],t.silent||(t.index=i,r.trigger("remove",r,this,t)),o.push(r),this._removeReference(r,t)}}return o},_isModel:function(e){return e instanceof b},_addReference:function(e,t){this._byId[e.cid]=e;var o=this.modelId(e.attributes);null!=o&&(this._byId[o]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var o=this.modelId(e.attributes);null!=o&&delete this._byId[o],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,o,n){if(t){if(("add"===e||"remove"===e)&&o!==this)return;if("destroy"===e&&this.remove(t,n),"change"===e){var r=this.modelId(t.previousAttributes()),i=this.modelId(t.attributes);r!==i&&(null!=r&&delete this._byId[r],null!=i&&(this._byId[i]=t))}}this.trigger.apply(this,arguments)}});var k={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};a(w,k,"models");var T=t.View=function(e){this.cid=o.uniqueId("view"),o.extend(this,o.pick(e,A)),this._ensureElement(),this.initialize.apply(this,arguments)},I=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];o.extend(T.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=o.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var n=e[t];if(o.isFunction(n)||(n=this[n]),n){var r=t.match(I);this.delegate(r[1],r[2],o.bind(n,this))}}return this},delegate:function(e,t,o){return this.$el.on(e+".delegateEvents"+this.cid,t,o),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,o){return this.$el.off(e+".delegateEvents"+this.cid,t,o),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"));else{var e=o.extend({},o.result(this,"attributes"));this.id&&(e.id=o.result(this,"id")),this.className&&(e["class"]=o.result(this,"className")),this.setElement(this._createElement(o.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,n,r){var i=$[e];o.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:i,dataType:"json"};if(r.url||(s.url=o.result(n,"url")||U()),null!=r.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){s.type="POST",r.emulateJSON&&(s.data._method=i);var a=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",i),a)return a.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var u=r.error;r.error=function(e,t,o){r.textStatus=t,r.errorThrown=o,u&&u.call(r.context,e,t,o)};var l=r.xhr=t.ajax(o.extend(s,r));return n.trigger("request",n,l,r),l};var $={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var x=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,R=/(\(\?)?:\w+/g,P=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(x.prototype,c,{initialize:function(){},route:function(e,n,r){o.isRegExp(e)||(e=this._routeToRegExp(e)),o.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var i=this;return t.history.route(e,function(o){var s=i._extractParameters(e,o);i.execute(r,s,n)!==!1&&(i.trigger.apply(i,["route:"+n].concat(s)),i.trigger("route",n,s),t.history.trigger("route",i,n,s))}),this},execute:function(e,t,o){e&&e.apply(this,t)},navigate:function(e,o){return t.history.navigate(e,o),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var e,t=o.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(D,"\\$&").replace(O,"(?:$1)?").replace(R,function(e,t){return t?e:"([^/?]+)"}).replace(P,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return o.map(n,function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],this.checkUrl=o.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,q=/#.*$/;M.started=!1,o.extend(M.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(N,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");if(M.started=!0,this.options=o.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var i=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?i("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?i("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t!==this.fragment&&(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),o.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!M.started)return!1;t&&t!==!0||(t={trigger:!!t}),e=this.getFragment(e||"");var o=this.root;""!==e&&"?"!==e.charAt(0)||(o=o.slice(0,-1)||"/");var n=o+e;if(e=this.decodeFragment(e.replace(q,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,o){if(o){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),t.history=new M;var F=function(e,t){var n,r=this;return n=e&&o.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},o.extend(n,r,t),n.prototype=o.create(r.prototype,e),n.prototype.constructor=n,n.__super__=r.prototype,n};b.extend=w.extend=x.extend=T.extend=M.extend=F;var U=function(){throw new Error('A "url" property or function must be specified')},H=function(e,t){var o=t.error;t.error=function(n){o&&o.call(t.context,e,n,t),e.trigger("error",e,n,t)}};return t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:371,underscore:445}],319:[function(e,t,o){},{}],320:[function(e,t,o){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(d===setTimeout)return setTimeout(e,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function s(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){g&&f&&(g=!1,f.length?m=f.concat(m):y=-1,m.length&&u())}function u(){if(!g){var e=i(a);g=!0;for(var t=m.length;t;){for(f=m,m=[];++y<t;)f&&f[y].run();y=-1,t=m.length}f=null,g=!1,s(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var d,p,h=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:n}catch(e){d=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var f,m=[],g=!1,y=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];m.push(new l(e,t)),1!==m.length||g||i(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],321:[function(e,t,o){(function(e){!function(n){function r(e){throw new RangeError(P[e])}function i(e,t){for(var o=e.length,n=[];o--;)n[o]=t(e[o]);return n}function s(e,t){var o=e.split("@"),n="";o.length>1&&(n=o[0]+"@",e=o[1]),e=e.replace(R,".");var r=e.split("."),s=i(r,t).join(".");return n+s}function a(e){for(var t,o,n=[],r=0,i=e.length;r<i;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<i?(o=e.charCodeAt(r++),56320==(64512&o)?n.push(((1023&t)<<10)+(1023&o)+65536):(n.push(t),r--)):n.push(t);return n}function u(e){return i(e,function(e){var t="";return e>65535&&(e-=65536,t+=N(e>>>10&1023|55296),e=56320|1023&e),t+=N(e)}).join("")}function l(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:S}function c(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,o){var n=0;for(e=o?M(e/T):e>>1,e+=M(e/t);e>D*E>>1;n+=S)e=M(e/D);return M(n+(D+1)*e/(e+k))}function p(e){var t,o,n,i,s,a,c,p,h,f,m=[],g=e.length,y=0,v=A,b=I;for(o=e.lastIndexOf($),o<0&&(o=0),n=0;n<o;++n)e.charCodeAt(n)>=128&&r("not-basic"),m.push(e.charCodeAt(n));for(i=o>0?o+1:0;i<g;){for(s=y,a=1,c=S;i>=g&&r("invalid-input"),p=l(e.charCodeAt(i++)),(p>=S||p>M((w-y)/a))&&r("overflow"),y+=p*a,h=c<=b?C:c>=b+E?E:c-b,!(p<h);c+=S)f=S-h,a>M(w/f)&&r("overflow"),a*=f;t=m.length+1,b=d(y-s,t,0==s),M(y/t)>w-v&&r("overflow"),v+=M(y/t),y%=t,m.splice(y++,0,v)}return u(m)}function h(e){var t,o,n,i,s,u,l,p,h,f,m,g,y,v,b,_=[];for(e=a(e),g=e.length,t=A,o=0,s=I,u=0;u<g;++u)m=e[u],m<128&&_.push(N(m));for(n=i=_.length,i&&_.push($);n<g;){for(l=w,u=0;u<g;++u)m=e[u],m>=t&&m<l&&(l=m);for(y=n+1,l-t>M((w-o)/y)&&r("overflow"),o+=(l-t)*y,t=l,u=0;u<g;++u)if(m=e[u],m<t&&++o>w&&r("overflow"),m==t){for(p=o,h=S;f=h<=s?C:h>=s+E?E:h-s,!(p<f);h+=S)b=p-f,v=S-f,_.push(N(c(f+b%v,0))),p=M(b/v);_.push(N(c(p,0))),s=d(o,y,n==i),o=0,++n}++o,++t}return _.join("")}function f(e){return s(e,function(e){return x.test(e)?p(e.slice(4).toLowerCase()):e})}function m(e){return s(e,function(e){return O.test(e)?"xn--"+h(e):e})}var g="object"==typeof o&&o&&!o.nodeType&&o,y="object"==typeof t&&t&&!t.nodeType&&t,v="object"==typeof e&&e;v.global!==v&&v.window!==v&&v.self!==v||(n=v);var b,_,w=2147483647,S=36,C=1,E=26,k=38,T=700,I=72,A=128,$="-",x=/^xn--/,O=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=S-C,M=Math.floor,N=String.fromCharCode;if(b={version:"1.4.1",ucs2:{decode:a,encode:u},decode:p,encode:h,toASCII:m,toUnicode:f},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(g&&y)if(t.exports==g)y.exports=b;else for(_ in b)b.hasOwnProperty(_)&&(g[_]=b[_]);else n.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],322:[function(e,t,o){"use strict";function n(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function r(e){var t=n(e);if("string"!=typeof t&&(v.isEncoding===b||!b(e)))throw new Error("Unknown encoding: "+e);return t||e}function i(e){this.encoding=r(e);var t;switch(this.encoding){case"utf16le":this.text=p,this.end=h,t=4;break;case"utf8":this.fillLast=l,t=4;break;case"base64":this.text=f,this.end=m,t=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=v.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:-1}function a(e,t,o){var n=t.length-1;if(n<o)return 0;var r=s(t[n]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--n<o?0:(r=s(t[n]),r>=0?(r>0&&(e.lastNeed=r-2),r):--n<o?0:(r=s(t[n]),r>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0))}function u(e,t,o){if(128!==(192&t[0]))return e.lastNeed=0,"".repeat(o);if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"".repeat(o+1);if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"".repeat(o+2)}}function l(e){var t=this.lastTotal-this.lastNeed,o=u(this,e,t);return void 0!==o?o:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){var o=a(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=o;var n=e.length-(o-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t}function p(e,t){if((e.length-t)%2===0){var o=e.toString("utf16le",t);if(o){var n=o.charCodeAt(o.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],o.slice(0,-1)}return o}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function h(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var o=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,o)}return t}function f(e,t){var o=(e.length-t)%3;return 0===o?e.toString("base64",t):(this.lastNeed=3-o,this.lastTotal=3,1===o?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-o))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function y(e){return e&&e.length?this.write(e):""}var v=e("safe-buffer").Buffer,b=v.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};o.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,o;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";o=this.lastNeed,this.lastNeed=0}else o=0;return o<e.length?t?t+this.text(e,o):this.text(e,o):t||""},i.prototype.end=d,i.prototype.text=c,i.prototype.fillLast=function(e){return this.lastNeed<=e.length?(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),void(this.lastNeed-=e.length))}},{"safe-buffer":425}],323:[function(e,t,o){"use strict";function n(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}function r(e){if(e>Y)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=i.prototype,t}function i(e,t,o){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return s(e,t,o)}function s(e,t,o){if("string"==typeof e)return c(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return p(e,t,o);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return i.from(n,t,o);var r=h(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e,t,o){return a(e),e<=0?r(e):void 0!==t?"string"==typeof o?r(e).fill(t,o):r(e).fill(t):r(e)}function l(e){return a(e),r(e<0?0:0|f(e))}function c(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var o=0|g(e,t),n=r(o),s=n.write(e,t);return s!==o&&(n=n.slice(0,s)),n}function d(e){for(var t=e.length<0?0:0|f(e.length),o=r(t),n=0;n<t;n+=1)o[n]=255&e[n];return o}function p(e,t,o){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(o||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,t):new Uint8Array(e,t,o),n.__proto__=i.prototype,n}function h(e){if(i.isBuffer(e)){var t=0|f(e.length),o=r(t);return 0===o.length?o:(e.copy(o,0,0,t),o)}return void 0!==e.length?"number"!=typeof e.length||G(e.length)?r(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0;
}function f(e){if(e>=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Y.toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),i.alloc(+e)}function g(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var o=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&0===o)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return z(e).length;default:if(r)return n?-1:H(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,o){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if(o>>>=0,t>>>=0,o<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,o);case"utf8":case"utf-8":return A(this,t,o);case"ascii":return x(this,t,o);case"latin1":case"binary":return O(this,t,o);case"base64":return I(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,o);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function b(e,t,o,n,r){if(0===e.length)return-1;if("string"==typeof o?(n=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,G(o)&&(o=r?0:e.length-1),o<0&&(o=e.length+o),o>=e.length){if(r)return-1;o=e.length-1}else if(o<0){if(!r)return-1;o=0}if("string"==typeof t&&(t=i.from(t,n)),i.isBuffer(t))return 0===t.length?-1:_(e,t,o,n,r);if("number"==typeof t)return t=255&t,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,o):Uint8Array.prototype.lastIndexOf.call(e,t,o):_(e,[t],o,n,r);throw new TypeError("val must be string, number or Buffer")}function _(e,t,o,n,r){function i(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,u=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,o/=2}var l;if(r){var c=-1;for(l=o;l<a;l++)if(i(e,l)===i(t,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===u)return c*s}else c!==-1&&(l-=l-c),c=-1}else for(o+u>a&&(o=a-u),l=o;l>=0;l--){for(var d=!0,p=0;p<u;p++)if(i(e,l+p)!==i(t,p)){d=!1;break}if(d)return l}return-1}function w(e,t,o,n){o=Number(o)||0;var r=e.length-o;n?(n=Number(n),n>r&&(n=r)):n=r;var i=t.length;n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(G(a))return s;e[o+s]=a}return s}function S(e,t,o,n){return B(H(t,e.length-o),e,o,n)}function C(e,t,o,n){return B(V(t),e,o,n)}function E(e,t,o,n){return C(e,t,o,n)}function k(e,t,o,n){return B(z(t),e,o,n)}function T(e,t,o,n){return B(j(t,e.length-o),e,o,n)}function I(e,t,o){return 0===t&&o===e.length?Q.fromByteArray(e):Q.fromByteArray(e.slice(t,o))}function A(e,t,o){o=Math.min(e.length,o);for(var n=[],r=t;r<o;){var i=e[r],s=null,a=i>239?4:i>223?3:i>191?2:1;if(r+a<=o){var u,l,c,d;switch(a){case 1:i<128&&(s=i);break;case 2:u=e[r+1],128===(192&u)&&(d=(31&i)<<6|63&u,d>127&&(s=d));break;case 3:u=e[r+1],l=e[r+2],128===(192&u)&&128===(192&l)&&(d=(15&i)<<12|(63&u)<<6|63&l,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:u=e[r+1],l=e[r+2],c=e[r+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(d=(15&i)<<18|(63&u)<<12|(63&l)<<6|63&c,d>65535&&d<1114112&&(s=d))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),r+=a}return $(n)}function $(e){var t=e.length;if(t<=X)return String.fromCharCode.apply(String,e);for(var o="",n=0;n<t;)o+=String.fromCharCode.apply(String,e.slice(n,n+=X));return o}function x(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;r<o;++r)n+=String.fromCharCode(127&e[r]);return n}function O(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;r<o;++r)n+=String.fromCharCode(e[r]);return n}function R(e,t,o){var n=e.length;(!t||t<0)&&(t=0),(!o||o<0||o>n)&&(o=n);for(var r="",i=t;i<o;++i)r+=U(e[i]);return r}function P(e,t,o){for(var n=e.slice(t,o),r="",i=0;i<n.length;i+=2)r+=String.fromCharCode(n[i]+256*n[i+1]);return r}function D(e,t,o){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,o,n,r,s){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw new RangeError('"value" argument is out of bounds');if(o+n>e.length)throw new RangeError("Index out of range")}function N(e,t,o,n,r,i){if(o+n>e.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function L(e,t,o,n,r){return t=+t,o>>>=0,r||N(e,t,o,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,o,n,23,4),o+4}function q(e,t,o,n,r){return t=+t,o>>>=0,r||N(e,t,o,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,o,n,52,8),o+8}function F(e){if(e=e.split("=")[0],e=e.trim().replace(J,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var o,n=e.length,r=null,i=[],s=0;s<n;++s){if(o=e.charCodeAt(s),o>55295&&o<57344){if(!r){if(o>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}r=o;continue}if(o<56320){(t-=3)>-1&&i.push(239,191,189),r=o;continue}o=(r-55296<<10|o-56320)+65536}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,o<128){if((t-=1)<0)break;i.push(o)}else if(o<2048){if((t-=2)<0)break;i.push(o>>6|192,63&o|128)}else if(o<65536){if((t-=3)<0)break;i.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return i}function V(e){for(var t=[],o=0;o<e.length;++o)t.push(255&e.charCodeAt(o));return t}function j(e,t){for(var o,n,r,i=[],s=0;s<e.length&&!((t-=2)<0);++s)o=e.charCodeAt(s),n=o>>8,r=o%256,i.push(r),i.push(n);return i}function z(e){return Q.toByteArray(F(e))}function B(e,t,o,n){for(var r=0;r<n&&!(r+o>=t.length||r>=e.length);++r)t[r+o]=e[r];return r}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function G(e){return e!==e}var Q=e("base64-js"),K=e("ieee754");o.Buffer=i,o.SlowBuffer=m,o.INSPECT_MAX_BYTES=50;var Y=2147483647;o.kMaxLength=Y,i.TYPED_ARRAY_SUPPORT=n(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(e,t,o){return s(e,t,o)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(e,t,o){return u(e,t,o)},i.allocUnsafe=function(e){return l(e)},i.allocUnsafeSlow=function(e){return l(e)},i.isBuffer=function(e){return null!=e&&e._isBuffer===!0&&e!==i.prototype},i.compare=function(e,t){if(W(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var o=e.length,n=t.length,r=0,s=Math.min(o,n);r<s;++r)if(e[r]!==t[r]){o=e[r],n=t[r];break}return o<n?-1:n<o?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var o;if(void 0===t)for(t=0,o=0;o<e.length;++o)t+=e[o].length;var n=i.allocUnsafe(t),r=0;for(o=0;o<e.length;++o){var s=e[o];if(W(s,Uint8Array)&&(s=i.from(s)),!i.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},i.byteLength=g,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=o.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},i.prototype.compare=function(e,t,o,n,r){if(W(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===o&&(o=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||o>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=o)return 0;if(n>=r)return-1;if(t>=o)return 1;if(t>>>=0,o>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var s=r-n,a=o-t,u=Math.min(s,a),l=this.slice(n,r),c=e.slice(t,o),d=0;d<u;++d)if(l[d]!==c[d]){s=l[d],a=c[d];break}return s<a?-1:a<s?1:0},i.prototype.includes=function(e,t,o){return this.indexOf(e,t,o)!==-1},i.prototype.indexOf=function(e,t,o){return b(this,e,t,o,!0)},i.prototype.lastIndexOf=function(e,t,o){return b(this,e,t,o,!1)},i.prototype.write=function(e,t,o,n){if(void 0===t)n="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)n=t,o=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(o)?(o>>>=0,void 0===n&&(n="utf8")):(n=o,o=void 0)}var r=this.length-t;if((void 0===o||o>r)&&(o=r),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return w(this,e,t,o);case"utf8":case"utf-8":return S(this,e,t,o);case"ascii":return C(this,e,t,o);case"latin1":case"binary":return E(this,e,t,o);case"base64":return k(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,o);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;i.prototype.slice=function(e,t){var o=this.length;e=~~e,t=void 0===t?o:~~t,e<0?(e+=o,e<0&&(e=0)):e>o&&(e=o),t<0?(t+=o,t<0&&(t=0)):t>o&&(t=o),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=i.prototype,n},i.prototype.readUIntLE=function(e,t,o){e>>>=0,t>>>=0,o||D(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n},i.prototype.readUIntBE=function(e,t,o){e>>>=0,t>>>=0,o||D(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},i.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,o){e>>>=0,t>>>=0,o||D(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,o){e>>>=0,t>>>=0,o||D(e,t,this.length);for(var n=t,r=1,i=this[e+--n];n>0&&(r*=256);)i+=this[e+--n]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},i.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),K.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),K.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),K.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),K.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,o,n){if(e=+e,t>>>=0,o>>>=0,!n){var r=Math.pow(2,8*o)-1;M(this,e,t,o,r,0)}var i=1,s=0;for(this[t]=255&e;++s<o&&(i*=256);)this[t+s]=e/i&255;return t+o},i.prototype.writeUIntBE=function(e,t,o,n){if(e=+e,t>>>=0,o>>>=0,!n){var r=Math.pow(2,8*o)-1;M(this,e,t,o,r,0)}var i=o-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+o},i.prototype.writeUInt8=function(e,t,o){return e=+e,t>>>=0,o||M(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,o){return e=+e,t>>>=0,o||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUInt16BE=function(e,t,o){return e=+e,t>>>=0,o||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUInt32LE=function(e,t,o){return e=+e,t>>>=0,o||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUInt32BE=function(e,t,o){return e=+e,t>>>=0,o||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,o,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*o-1);M(this,e,t,o,r-1,-r)}var i=0,s=1,a=0;for(this[t]=255&e;++i<o&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+o},i.prototype.writeIntBE=function(e,t,o,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*o-1);M(this,e,t,o,r-1,-r)}var i=o-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+o},i.prototype.writeInt8=function(e,t,o){return e=+e,t>>>=0,o||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,o){return e=+e,t>>>=0,o||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,o){return e=+e,t>>>=0,o||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,o){return e=+e,t>>>=0,o||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,o){return e=+e,t>>>=0,o||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,o){return L(this,e,t,!0,o)},i.prototype.writeFloatBE=function(e,t,o){return L(this,e,t,!1,o)},i.prototype.writeDoubleLE=function(e,t,o){return q(this,e,t,!0,o)},i.prototype.writeDoubleBE=function(e,t,o){return q(this,e,t,!1,o)},i.prototype.copy=function(e,t,o,n){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(o||(o=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<o&&(n=o),n===o)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-o&&(n=e.length-t+o);var r=n-o;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,o,n);else if(this===e&&o<t&&t<n)for(var s=r-1;s>=0;--s)e[s+t]=this[s+o];else Uint8Array.prototype.set.call(e,this.subarray(o,n),t);return r},i.prototype.fill=function(e,t,o,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,o=this.length):"string"==typeof o&&(n=o,o=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var r=e.charCodeAt(0);("utf8"===n&&r<128||"latin1"===n)&&(e=r)}}else"number"==typeof e&&(e=255&e);if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;t>>>=0,o=void 0===o?this.length:o>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<o;++s)this[s]=e;else{var a=i.isBuffer(e)?e:i.from(e,n),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<o-t;++s)this[s+t]=a[s%u]}return this};var J=/[^+\/0-9A-Za-z-_]/g},{"base64-js":324,ieee754:367}],324:[function(e,t,o){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.indexOf("=");o===-1&&(o=t);var n=o===t?0:4-o%4;return[o,n]}function r(e){var t=n(e),o=t[0],r=t[1];return 3*(o+r)/4-r}function i(e,t,o){return 3*(t+o)/4-o}function s(e){for(var t,o=n(e),r=o[0],s=o[1],a=new p(i(e,r,s)),u=0,l=s>0?r-4:r,c=0;c<l;c+=4)t=d[e.charCodeAt(c)]<<18|d[e.charCodeAt(c+1)]<<12|d[e.charCodeAt(c+2)]<<6|d[e.charCodeAt(c+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=255&t;return 2===s&&(t=d[e.charCodeAt(c)]<<2|d[e.charCodeAt(c+1)]>>4,a[u++]=255&t),1===s&&(t=d[e.charCodeAt(c)]<<10|d[e.charCodeAt(c+1)]<<4|d[e.charCodeAt(c+2)]>>2,a[u++]=t>>8&255,a[u++]=255&t),a}function a(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function u(e,t,o){for(var n,r=[],i=t;i<o;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),r.push(a(n));return r.join("")}function l(e){for(var t,o=e.length,n=o%3,r=[],i=16383,s=0,a=o-n;s<a;s+=i)r.push(u(e,s,s+i>a?a:s+i));return 1===n?(t=e[o-1],r.push(c[t>>2]+c[t<<4&63]+"==")):2===n&&(t=(e[o-2]<<8)+e[o-1],r.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),r.join("")}o.byteLength=r,o.toByteArray=s,o.fromByteArray=l;for(var c=[],d=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,m=h.length;f<m;++f)c[f]=h[f],d[h.charCodeAt(f)]=f;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},{}],325:[function(e,t,o){!function(n,r){if("function"==typeof define&&define.amd)define(["module","select"],r);else if("undefined"!=typeof o)r(t,e("select"));else{var i={exports:{}};r(i,n.select),n.clipboardAction=i.exports}}(this,function(e,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=o(t),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return s(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=a})},{select:427}],326:[function(e,t,o){!function(n,r){if("function"==typeof define&&define.amd)define(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof o)r(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var i={exports:{}};r(i,n.clipboardAction,n.tinyEmitter,n.goodListener),n.clipboard=i.exports}}(this,function(e,t,o,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var o="data-clipboard-"+e;if(t.hasAttribute(o))return t.getAttribute(o)}var l=r(t),c=r(o),d=r(n),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=function(e){function t(e,o){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.resolveOptions(o),n.listenClick(e),n}return a(t,e),h(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===p(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,d["default"])(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l["default"]({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return u("action",e)}},{key:"defaultTarget",value:function(e){var t=u("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return u("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,o=!!document.queryCommandSupported;return t.forEach(function(e){o=o&&!!document.queryCommandSupported(e)}),o}}]),t}(c["default"]);e.exports=f})},{"./clipboard-action":325,"good-listener":358,"tiny-emitter":444}],327:[function(e,t,o){(function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function n(e){return"boolean"==typeof e}function r(e){return null===e}function i(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function l(e){return void 0===e}function c(e){return"[object RegExp]"===g(e)}function d(e){return"object"==typeof e&&null!==e}function p(e){return"[object Date]"===g(e)}function h(e){return"[object Error]"===g(e)||e instanceof Error}function f(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function g(e){return Object.prototype.toString.call(e)}o.isArray=t,o.isBoolean=n,o.isNull=r,o.isNullOrUndefined=i,o.isNumber=s,o.isString=a,o.isSymbol=u,o.isUndefined=l,o.isRegExp=c,o.isObject=d,o.isDate=p,o.isError=h,o.isFunction=f,o.isPrimitive=m,o.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":369}],328:[function(e,t,o){(function(n){function r(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+o.humanize(this.diff),t){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,n)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?o.storage.removeItem("debug"):o.storage.debug=e}catch(t){}}function u(){var e;try{e=o.storage.debug}catch(t){}return!e&&"undefined"!=typeof n&&"env"in n&&(e=n.env.DEBUG),e}function l(){try{return window.localStorage}catch(e){}}o=t.exports=e("./debug"),o.log=s,o.formatArgs=i,o.save=a,o.load=u,o.useColors=r,o.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),o.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],o.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},o.enable(u())}).call(this,e("_process"))},{"./debug":329,_process:320}],329:[function(e,t,o){function n(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return o.colors[Math.abs(n)%o.colors.length]}function r(e){function t(){if(t.enabled){var e=t,n=+new Date,r=n-(l||n);e.diff=r,e.prev=l,e.curr=n,l=n;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=o.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;a++;var r=o.formatters[n];if("function"==typeof r){var s=i[a];t=r.call(e,s),i.splice(a,1),a--}return t}),o.formatArgs.call(e,i);var u=t.log||o.log||console.log.bind(console);u.apply(e,i)}}return t.namespace=e,t.enabled=o.enabled(e),t.useColors=o.useColors(),t.color=n(e),"function"==typeof o.init&&o.init(t),t}function i(e){o.save(e),o.names=[],o.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),n=t.length,r=0;r<n;r++)t[r]&&(e=t[r].replace(/\*/g,".*?"),"-"===e[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")))}function s(){o.enable("")}function a(e){var t,n;for(t=0,n=o.skips.length;t<n;t++)if(o.skips[t].test(e))return!1;for(t=0,n=o.names.length;t<n;t++)if(o.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}o=t.exports=r.debug=r["default"]=r,o.coerce=u,o.disable=s,o.enable=i,o.enabled=a,o.humanize=e("ms"),o.names=[],o.skips=[],o.formatters={};var l},{ms:377}],330:[function(e,t,o){function n(e,t){for(;e&&e.nodeType!==r;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=n},{}],331:[function(e,t,o){function n(e,t,o,n,r){var s=i.apply(this,arguments);return e.addEventListener(o,s,r),{destroy:function(){e.removeEventListener(o,s,r)}}}function r(e,t,o,r,i){return"function"==typeof e.addEventListener?n.apply(null,arguments):"function"==typeof o?n.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return n(e,t,o,r,i)}))}function i(e,t,o,n){return function(o){o.delegateTarget=s(o.target,t),o.delegateTarget&&n.call(e,o)}}var s=e("./closest");t.exports=r},{"./closest":330}],332:[function(e,t,o){function n(e,t){if(e){var o,n="";for(var r in e)o=e[r],n&&(n+=" "),n+=!o&&d[r]?r:r+'="'+(t.decodeEntities?c.encodeXML(o):o)+'"';return n}}function r(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var o="<"+e.name,r=n(e.attribs,t);return r&&(o+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(o+=">",e.children&&(o+=f(e.children,t)),
h[e.name]&&!t.xmlMode||(o+="</"+e.name+">")):o+="/>",o}function i(e){return"<"+e.data+">"}function s(e,t){var o=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in p||(o=c.encodeXML(o)),o}function a(e){return"<![CDATA["+e.children[0].data+"]]>"}function u(e){return"<!--"+e.data+"-->"}var l=e("domelementtype"),c=e("entities"),d={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,"default":!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},p={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},h={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},f=t.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var o="",n=0;n<e.length;n++){var c=e[n];o+="root"===c.type?f(c.children,t):l.isTag(c)?r(c,t):c.type===l.Directive?i(c):c.type===l.Comment?u(c):c.type===l.CDATA?a(c):s(c,t)}return o}},{domelementtype:333,entities:345}],333:[function(e,t,o){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},{}],334:[function(e,t,o){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},{}],335:[function(e,t,o){function n(e,t,o){"object"==typeof e?(o=t,t=e,e=null):"function"==typeof t&&(o=t,t=u),this._callback=e,this._options=t||u,this._elementCB=o,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var r=e("domelementtype"),i=/\s+/g,s=e("./lib/node"),a=e("./lib/element"),u={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};n.prototype.onparserinit=function(e){this._parser=e},n.prototype.onreset=function(){n.call(this,this._callback,this._options,this._elementCB)},n.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},n.prototype._handleCallback=n.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},n.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},n.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;t="tag"===e.type?Object.create(a):Object.create(s);for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t},n.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],o=t?t.children:this.dom,n=o[o.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),n?(e.prev=n,n.next=e):e.prev=null,o.push(e),e.parent=t||null},n.prototype.onopentag=function(e,t){var o={type:"script"===e?r.Script:"style"===e?r.Style:r.Tag,name:e,attribs:t,children:[]},n=this._createDomElement(o);this._addDomElement(n),this._tagStack.push(n)},n.prototype.ontext=function(e){var t,o=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===r.Text)o?t.data=(t.data+e).replace(i," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===r.Text)o?t.data=(t.data+e).replace(i," "):t.data+=e;else{o&&(e=e.replace(i," "));var n=this._createDomElement({data:e,type:r.Text});this._addDomElement(n)}},n.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===r.Comment)return void(t.data+=e);var o={data:e,type:r.Comment},n=this._createDomElement(o);this._addDomElement(n),this._tagStack.push(n)},n.prototype.oncdatastart=function(){var e={children:[{data:"",type:r.Text}],type:r.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},n.prototype.oncommentend=n.prototype.oncdataend=function(){this._tagStack.pop()},n.prototype.onprocessinginstruction=function(e,t){var o=this._createDomElement({name:e,data:t,type:r.Directive});this._addDomElement(o)},t.exports=n},{"./lib/element":336,"./lib/node":337,domelementtype:334}],336:[function(e,t,o){var n=e("./node"),r=t.exports=Object.create(n),i={tagName:"name"};Object.keys(i).forEach(function(e){var t=i[e];Object.defineProperty(r,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},{"./node":337}],337:[function(e,t,o){var n=t.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return i[this.type]||i.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach(function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},{}],338:[function(e,t,o){var n=t.exports;[e("./lib/stringify"),e("./lib/traversal"),e("./lib/manipulation"),e("./lib/querying"),e("./lib/legacy"),e("./lib/helpers")].forEach(function(e){Object.keys(e).forEach(function(t){n[t]=e[t].bind(n)})})},{"./lib/helpers":339,"./lib/legacy":340,"./lib/manipulation":341,"./lib/querying":342,"./lib/stringify":343,"./lib/traversal":344}],339:[function(e,t,o){o.removeSubsets=function(e){for(var t,o,n,r=e.length;--r>-1;){for(t=o=e[r],e[r]=null,n=!0;o;){if(e.indexOf(o)>-1){n=!1,e.splice(r,1);break}o=o.parent}n&&(e[r]=t)}return e};var n={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},r=o.compareDocumentPosition=function(e,t){var o,r,i,s,a,u,l=[],c=[];if(e===t)return 0;for(o=e;o;)l.unshift(o),o=o.parent;for(o=t;o;)c.unshift(o),o=o.parent;for(u=0;l[u]===c[u];)u++;return 0===u?n.DISCONNECTED:(r=l[u-1],i=r.children,s=l[u],a=c[u],i.indexOf(s)>i.indexOf(a)?r===t?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:r===e?n.PRECEDING|n.CONTAINS:n.PRECEDING)};o.uniqueSort=function(e){var t,o,i=e.length;for(e=e.slice();--i>-1;)t=e[i],o=e.indexOf(t),o>-1&&o<i&&e.splice(i,1);return e.sort(function(e,t){var o=r(e,t);return o&n.PRECEDING?-1:o&n.FOLLOWING?1:0}),e}},{}],340:[function(e,t,o){function n(e,t){return"function"==typeof t?function(o){return o.attribs&&t(o.attribs[e])}:function(o){return o.attribs&&o.attribs[e]===t}}function r(e,t){return function(o){return e(o)||t(o)}}var i=e("domelementtype"),s=o.isTag=i.isTag;o.testElement=function(e,t){for(var o in e)if(e.hasOwnProperty(o)){if("tag_name"===o){if(!s(t)||!e.tag_name(t.name))return!1}else if("tag_type"===o){if(!e.tag_type(t.type))return!1}else if("tag_contains"===o){if(s(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[o](t.attribs[o]))return!1}else;return!0};var a={tag_name:function(e){return"function"==typeof e?function(t){return s(t)&&e(t.name)}:"*"===e?s:function(t){return s(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!s(t)&&e(t.data)}:function(t){return!s(t)&&t.data===e}}};o.getElements=function(e,t,o,i){var s=Object.keys(e).map(function(t){var o=e[t];return t in a?a[t](o):n(t,o)});return 0===s.length?[]:this.filter(s.reduce(r),t,o,i)},o.getElementById=function(e,t,o){return Array.isArray(t)||(t=[t]),this.findOne(n("id",e),t,o!==!1)},o.getElementsByTagName=function(e,t,o,n){return this.filter(a.tag_name(e),t,o,n)},o.getElementsByTagType=function(e,t,o,n){return this.filter(a.tag_type(e),t,o,n)}},{domelementtype:334}],341:[function(e,t,o){o.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},o.replaceElement=function(e,t){var o=t.prev=e.prev;o&&(o.next=t);var n=t.next=e.next;n&&(n.prev=t);var r=t.parent=e.parent;if(r){var i=r.children;i[i.lastIndexOf(e)]=t}},o.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var o=e.children[e.children.length-2];o.next=t,t.prev=o,t.next=null}},o.append=function(e,t){var o=e.parent,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=o,n){if(n.prev=t,o){var r=o.children;r.splice(r.lastIndexOf(n),0,t)}}else o&&o.children.push(t)},o.prepend=function(e,t){var o=e.parent;if(o){var n=o.children;n.splice(n.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=o,t.prev=e.prev,t.next=e,e.prev=t}},{}],342:[function(e,t,o){function n(e,t,o,n){return Array.isArray(t)||(t=[t]),"number"==typeof n&&isFinite(n)||(n=1/0),r(e,t,o!==!1,n)}function r(e,t,o,n){for(var i,s=[],a=0,u=t.length;a<u&&!(e(t[a])&&(s.push(t[a]),--n<=0))&&(i=t[a].children,!(o&&i&&i.length>0&&(i=r(e,i,o,n),s=s.concat(i),n-=i.length,n<=0)));a++);return s}function i(e,t){for(var o=0,n=t.length;o<n;o++)if(e(t[o]))return t[o];return null}function s(e,t){for(var o=null,n=0,r=t.length;n<r&&!o;n++)l(t[n])&&(e(t[n])?o=t[n]:t[n].children.length>0&&(o=s(e,t[n].children)));return o}function a(e,t){for(var o=0,n=t.length;o<n;o++)if(l(t[o])&&(e(t[o])||t[o].children.length>0&&a(e,t[o].children)))return!0;return!1}function u(e,t){for(var o=[],n=t.slice();n.length;){var r=n.shift();l(r)&&(r.children&&r.children.length>0&&n.unshift.apply(n,r.children),e(r)&&o.push(r))}return o}var l=e("domelementtype").isTag;t.exports={filter:n,find:r,findOneChild:i,findOne:s,existsOne:a,findAll:u}},{domelementtype:334}],343:[function(e,t,o){function n(e,t){return e.children?e.children.map(function(e){return s(e,t)}).join(""):""}function r(e){return Array.isArray(e)?e.map(r).join(""):a(e)?"br"===e.name?"\n":r(e.children):e.type===i.CDATA?r(e.children):e.type===i.Text?e.data:""}var i=e("domelementtype"),s=e("dom-serializer"),a=i.isTag;t.exports={getInnerHTML:n,getOuterHTML:s,getText:r}},{"dom-serializer":332,domelementtype:334}],344:[function(e,t,o){var n=o.getChildren=function(e){return e.children},r=o.getParent=function(e){return e.parent};o.getSiblings=function(e){var t=r(e);return t?n(t):[e]},o.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},o.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},o.getName=function(e){return e.name}},{}],345:[function(e,t,o){var n=e("./lib/encode.js"),r=e("./lib/decode.js");o.decode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},o.decodeStrict=function(e,t){return(!t||t<=0?r.XML:r.HTMLStrict)(e)},o.encode=function(e,t){return(!t||t<=0?n.XML:n.HTML)(e)},o.encodeXML=n.XML,o.encodeHTML4=o.encodeHTML5=o.encodeHTML=n.HTML,o.decodeXML=o.decodeXMLStrict=r.XML,o.decodeHTML4=o.decodeHTML5=o.decodeHTML=r.HTML,o.decodeHTML4Strict=o.decodeHTML5Strict=o.decodeHTMLStrict=r.HTMLStrict,o.escape=n.escape},{"./lib/decode.js":346,"./lib/encode.js":348}],346:[function(e,t,o){function n(e){var t=Object.keys(e).join("|"),o=i(e);t+="|#[xX][\\da-fA-F]+|#\\d+";var n=new RegExp("&(?:"+t+");","g");return function(e){return String(e).replace(n,o)}}function r(e,t){return e<t?1:-1}function i(e){return function(t){return"#"===t.charAt(1)?l("X"===t.charAt(2)||"x"===t.charAt(2)?parseInt(t.substr(3),16):parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}var s=e("../maps/entities.json"),a=e("../maps/legacy.json"),u=e("../maps/xml.json"),l=e("./decode_codepoint.js"),c=n(u),d=n(s),p=function(){function e(e){return";"!==e.substr(-1)&&(e+=";"),c(e)}for(var t=Object.keys(a).sort(r),o=Object.keys(s).sort(r),n=0,u=0;n<o.length;n++)t[u]===o[n]?(o[n]+=";?",u++):o[n]+=";";var l=new RegExp("&(?:"+o.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),c=i(s);return function(t){return String(t).replace(l,e)}}();t.exports={XML:c,HTML:p,HTMLStrict:d}},{"../maps/entities.json":350,"../maps/legacy.json":351,"../maps/xml.json":352,"./decode_codepoint.js":347}],347:[function(e,t,o){function n(e){if(e>=55296&&e<=57343||e>1114111)return"";e in r&&(e=r[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}var r=e("../maps/decode.json");t.exports=n},{"../maps/decode.json":349}],348:[function(e,t,o){function n(e){return Object.keys(e).sort().reduce(function(t,o){return t[e[o]]="&"+o+";",t},{})}function r(e){var t=[],o=[];return Object.keys(e).forEach(function(e){1===e.length?t.push("\\"+e):o.push(e)}),o.unshift("["+t.join("")+"]"),new RegExp(o.join("|"),"g")}function i(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function s(e){var t=e.charCodeAt(0),o=e.charCodeAt(1),n=1024*(t-55296)+o-56320+65536;return"&#x"+n.toString(16).toUpperCase()+";"}function a(e,t){function o(t){return e[t]}return function(e){return e.replace(t,o).replace(f,s).replace(h,i)}}function u(e){return e.replace(m,i).replace(f,s).replace(h,i)}var l=n(e("../maps/xml.json")),c=r(l);o.XML=a(l,c);var d=n(e("../maps/entities.json")),p=r(d);o.HTML=a(d,p);var h=/[^\0-\x7F]/g,f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=r(l);o.escape=u},{"../maps/entities.json":350,"../maps/xml.json":352}],349:[function(e,t,o){t.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},{}],350:[function(e,t,o){t.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"","in":"",infin:"",infintie:"",inodot:"",intcal:"","int":"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",
rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},{}],351:[function(e,t,o){t.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}},{}],352:[function(e,t,o){t.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},{}],353:[function(e,t,o){(function(n,r){!function(e,n){"object"==typeof o&&"undefined"!=typeof t?t.exports=n():"function"==typeof define&&define.amd?define(n):e.ES6Promise=n()}(this,function(){"use strict";function t(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function o(e){return"function"==typeof e}function i(e){W=e}function s(e){G=e}function a(){return function(){return n.nextTick(p)}}function u(){return"undefined"!=typeof B?function(){B(p)}:d()}function l(){var e=0,t=new Y(p),o=document.createTextNode("");return t.observe(o,{characterData:!0}),function(){o.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=p,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(p,1)}}function p(){for(var e=0;e<z;e+=2){var t=Z[e],o=Z[e+1];t(o),Z[e]=void 0,Z[e+1]=void 0}z=0}function h(){try{var e=Function("return this")().require("vertx");return B=e.runOnLoop||e.runOnContext,u()}catch(t){return d()}}function f(e,t){var o=this,n=new this.constructor(g);void 0===n[te]&&D(n);var r=o._state;if(r){var i=arguments[r-1];G(function(){return O(r,n,i,o._result)})}else A(o,n,e,t);return n}function m(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var o=new t(g);return E(o,e),o}function g(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(t){return ie.error=t,ie}}function _(e,t,o,n){try{e.call(t,o,n)}catch(r){return r}}function w(e,t,o){G(function(e){var n=!1,r=_(o,t,function(o){n||(n=!0,t!==o?E(e,o):T(e,o))},function(t){n||(n=!0,I(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&r&&(n=!0,I(e,r))},e)}function S(e,t){t._state===ne?T(e,t._result):t._state===re?I(e,t._result):A(t,void 0,function(t){return E(e,t)},function(t){return I(e,t)})}function C(e,t,n){t.constructor===e.constructor&&n===f&&t.constructor.resolve===m?S(e,t):n===ie?(I(e,ie.error),ie.error=null):void 0===n?T(e,t):o(n)?w(e,t,n):T(e,t)}function E(e,o){e===o?I(e,y()):t(o)?C(e,o,b(o)):T(e,o)}function k(e){e._onerror&&e._onerror(e._result),$(e)}function T(e,t){e._state===oe&&(e._result=t,e._state=ne,0!==e._subscribers.length&&G($,e))}function I(e,t){e._state===oe&&(e._state=re,e._result=t,G(k,e))}function A(e,t,o,n){var r=e._subscribers,i=r.length;e._onerror=null,r[i]=t,r[i+ne]=o,r[i+re]=n,0===i&&e._state&&G($,e)}function $(e){var t=e._subscribers,o=e._state;if(0!==t.length){for(var n=void 0,r=void 0,i=e._result,s=0;s<t.length;s+=3)n=t[s],r=t[s+o],n?O(o,n,r,i):r(i);e._subscribers.length=0}}function x(e,t){try{return e(t)}catch(o){return ie.error=o,ie}}function O(e,t,n,r){var i=o(n),s=void 0,a=void 0,u=void 0,l=void 0;if(i){if(s=x(n,r),s===ie?(l=!0,a=s.error,s.error=null):u=!0,t===s)return void I(t,v())}else s=r,u=!0;t._state!==oe||(i&&u?E(t,s):l?I(t,a):e===ne?T(t,s):e===re&&I(t,s))}function R(e,t){try{t(function(t){E(e,t)},function(t){I(e,t)})}catch(o){I(e,o)}}function P(){return se++}function D(e){e[te]=se++,e._state=void 0,e._result=void 0,e._subscribers=[]}function M(){return new Error("Array Methods must be provided an Array")}function N(e){return new ae(this,e).promise}function L(e){var t=this;return new t(j(e)?function(o,n){for(var r=e.length,i=0;i<r;i++)t.resolve(e[i]).then(o,n)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function q(e){var t=this,o=new t(g);return I(o,e),o}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(){var e=void 0;if("undefined"!=typeof r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var o=e.Promise;if(o){var n=null;try{n=Object.prototype.toString.call(o.resolve())}catch(t){}if("[object Promise]"===n&&!o.cast)return}e.Promise=ue}var V=void 0;V=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var j=V,z=0,B=void 0,W=void 0,G=function(e,t){Z[z]=e,Z[z+1]=t,z+=2,2===z&&(W?W(p):ee())},Q="undefined"!=typeof window?window:void 0,K=Q||{},Y=K.MutationObserver||K.WebKitMutationObserver,X="undefined"==typeof self&&"undefined"!=typeof n&&"[object process]"==={}.toString.call(n),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),ee=void 0;ee=X?a():Y?l():J?c():void 0===Q&&"function"==typeof e?h():d();var te=Math.random().toString(36).substring(2),oe=void 0,ne=1,re=2,ie={error:null},se=0,ae=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(g),this.promise[te]||D(this.promise),j(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&T(this.promise,this._result))):I(this.promise,M())}return e.prototype._enumerate=function(e){for(var t=0;this._state===oe&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var o=this._instanceConstructor,n=o.resolve;if(n===m){var r=b(e);if(r===f&&e._state!==oe)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(o===ue){var i=new o(g);C(i,e,r),this._willSettleAt(i,t)}else this._willSettleAt(new o(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,o){var n=this.promise;n._state===oe&&(this._remaining--,e===re?I(n,o):this._result[t]=o),0===this._remaining&&T(n,this._result)},e.prototype._willSettleAt=function(e,t){var o=this;A(e,void 0,function(e){return o._settledAt(ne,t,e)},function(e){return o._settledAt(re,t,e)})},e}(),ue=function(){function e(t){this[te]=P(),this._result=this._state=void 0,this._subscribers=[],g!==t&&("function"!=typeof t&&F(),this instanceof e?R(this,t):U())}return e.prototype["catch"]=function(e){return this.then(null,e)},e.prototype["finally"]=function(e){var t=this,n=t.constructor;return o(e)?t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return ue.prototype.then=f,ue.all=N,ue.race=L,ue.resolve=m,ue.reject=q,ue._setScheduler=i,ue._setAsap=s,ue._asap=G,ue.polyfill=H,ue.Promise=ue,ue})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:320}],354:[function(e,t,o){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,o,n,i,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(o=this._events[e],a(o))return!1;if(r(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),o.apply(this,i)}else if(s(o))for(i=Array.prototype.slice.call(arguments,1),l=o.slice(),n=l.length,u=0;u<n;u++)l[u].apply(this,i);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var n=!1;return o.listener=t,this.on(e,o),this},n.prototype.removeListener=function(e,t){var o,n,i,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=this._events[e],i=o.length,n=-1,o===t||r(o.listener)&&o.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(o)){for(a=i;a-- >0;)if(o[a]===t||o[a].listener&&o[a].listener===t){n=a;break}if(n<0)return this;1===o.length?(o.length=0,delete this._events[e]):o.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,o;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o=this._events[e],r(o))this.removeListener(e,o);else if(o)for(;o.length;)this.removeListener(e,o[o.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],355:[function(e,t,o){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(e,t,o){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var s=0;s<i;s++)t.call(o,e[s],s,e);else for(var a in e)n.call(e,a)&&t.call(o,e[a],a,e)}},{}],356:[function(e,t,o){(function(e){var o;o="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],357:[function(e,t,o){o.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},o.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||o.node(e[0]))},o.string=function(e){return"string"==typeof e||e instanceof String},o.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],358:[function(e,t,o){function n(e,t,o){if(!e&&!t&&!o)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(o))throw new TypeError("Third argument must be a Function");if(a.node(e))return r(e,t,o);if(a.nodeList(e))return i(e,t,o);if(a.string(e))return s(e,t,o);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(e,t,o){return e.addEventListener(t,o),{destroy:function(){e.removeEventListener(t,o)}}}function i(e,t,o){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,o)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,o)})}}}function s(e,t,o){return u(document.body,e,t,o)}var a=e("./is"),u=e("delegate");t.exports=n},{"./is":357,delegate:331}],359:[function(e,t,o){function n(e){this._cbs=e||{},this.events=[]}t.exports=n;var r=e("./").EVENTS;Object.keys(r).forEach(function(e){if(0===r[e])e="on"+e,n.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===r[e])e="on"+e,n.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==r[e])throw Error("wrong number of arguments");e="on"+e,n.prototype[e]=function(t,o){this.events.push([e,t,o]),this._cbs[e]&&this._cbs[e](t,o)}}}),n.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},n.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var o=this.events[e].length;1===o?this._cbs[this.events[e][0]]():2===o?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},{"./":366}],360:[function(e,t,o){function n(e,t){this.init(e,t)}function r(e,t){return c.getElementsByTagName(e,t,!0)}function i(e,t){return c.getElementsByTagName(e,t,!0,1)[0]}function s(e,t,o){return c.getText(c.getElementsByTagName(e,t,o,1)).trim()}function a(e,t,o,n,r){var i=s(o,n,r);i&&(e[t]=i)}var u=e("./index.js"),l=u.DomHandler,c=u.DomUtils;e("inherits")(n,l),n.prototype.init=l;var d=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};n.prototype.onend=function(){var e,t,o={},n=i(d,this.dom);n&&("feed"===n.name?(t=n.children,o.type="atom",a(o,"id","id",t),a(o,"title","title",t),(e=i("link",t))&&(e=e.attribs)&&(e=e.href)&&(o.link=e),a(o,"description","subtitle",t),(e=s("updated",t))&&(o.updated=new Date(e)),a(o,"author","email",t,!0),o.items=r("entry",t).map(function(e){var t,o={};return e=e.children,a(o,"id","id",e),a(o,"title","title",e),(t=i("link",e))&&(t=t.attribs)&&(t=t.href)&&(o.link=t),(t=s("summary",e)||s("content",e))&&(o.description=t),(t=s("updated",e))&&(o.pubDate=new Date(t)),o})):(t=i("channel",n.children).children,o.type=n.name.substr(0,3),o.id="",a(o,"title","title",t),a(o,"link","link",t),a(o,"description","description",t),(e=s("lastBuildDate",t))&&(o.updated=new Date(e)),a(o,"author","managingEditor",t,!0),o.items=r("item",n.children).map(function(e){var t,o={};return e=e.children,a(o,"id","guid",e),a(o,"title","title",e),a(o,"link","link",e),a(o,"description","description",e),(t=s("pubDate",e))&&(o.pubDate=new Date(t)),o}))),this.dom=o,l.prototype._handleCallback.call(this,n?null:Error("couldn't find root of feed"))},t.exports=n},{"./index.js":366,inherits:368}],361:[function(e,t,o){function n(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}var r=e("./Tokenizer.js"),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},s={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},u=/\s|\//;e("inherits")(n,e("events").EventEmitter),n.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},n.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},n.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in s)for(var t;(t=this._stack[this._stack.length-1])in s[e];this.onclosetag(t));!this._options.xmlMode&&e in a||this._stack.push(e),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},n.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},n.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),!this._stack.length||e in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(t!==-1)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},n.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},n.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},n.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},n.prototype.onattribdata=function(e){this._attribvalue+=e},n.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},n.prototype._getInstructionName=function(e){var t=e.search(u),o=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(o=o.toLowerCase()),o},n.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},n.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},n.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},n.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},n.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},n.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},n.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},n.prototype.parseComplete=function(e){this.reset(),this.end(e)},n.prototype.write=function(e){this._tokenizer.write(e)},n.prototype.end=function(e){this._tokenizer.end(e)},n.prototype.pause=function(){this._tokenizer.pause()},n.prototype.resume=function(){this._tokenizer.resume()},n.prototype.parseChunk=n.prototype.write,n.prototype.done=n.prototype.end,t.exports=n},{"./Tokenizer.js":364,events:354,inherits:368}],362:[function(e,t,o){function n(e){this._cbs=e||{}}t.exports=n;var r=e("./").EVENTS;Object.keys(r).forEach(function(e){if(0===r[e])e="on"+e,n.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===r[e])e="on"+e,n.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==r[e])throw Error("wrong number of arguments");e="on"+e,n.prototype[e]=function(t,o){this._cbs[e]&&this._cbs[e](t,o)}}})},{"./":366}],363:[function(e,t,o){function n(e){i.call(this,new r(this),e)}function r(e){this.scope=e}t.exports=n;var i=e("./WritableStream.js");e("inherits")(n,i),n.prototype.readable=!0;var s=e("../").EVENTS;Object.keys(s).forEach(function(e){if(0===s[e])r.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===s[e])r.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==s[e])throw Error("wrong number of arguments!");r.prototype["on"+e]=function(t,o){this.scope.emit(e,t,o)}}})},{"../":366,"./WritableStream.js":365,inherits:368}],364:[function(e,t,o){function n(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function r(e,t){return function(o){o===e&&(this._state=t)}}function i(e,t,o){var n=e.toLowerCase();return e===n?function(e){e===n?this._state=t:(this._state=o,this._index--)}:function(r){r===n||r===e?this._state=t:(this._state=o,this._index--)}}function s(e,t){var o=e.toLowerCase();return function(n){n===o||n===e?this._state=t:(this._state=m,this._index--)}}function a(e,t){this._state=h,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=h,this._special=me,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}t.exports=a;var u=e("entities/lib/decode_codepoint.js"),l=e("entities/maps/entities.json"),c=e("entities/maps/legacy.json"),d=e("entities/maps/xml.json"),p=0,h=p++,f=p++,m=p++,g=p++,y=p++,v=p++,b=p++,_=p++,w=p++,S=p++,C=p++,E=p++,k=p++,T=p++,I=p++,A=p++,$=p++,x=p++,O=p++,R=p++,P=p++,D=p++,M=p++,N=p++,L=p++,q=p++,F=p++,U=p++,H=p++,V=p++,j=p++,z=p++,B=p++,W=p++,G=p++,Q=p++,K=p++,Y=p++,X=p++,J=p++,Z=p++,ee=p++,te=p++,oe=p++,ne=p++,re=p++,ie=p++,se=p++,ae=p++,ue=p++,le=p++,ce=p++,de=p++,pe=p++,he=p++,fe=0,me=fe++,ge=fe++,ye=fe++;a.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=f,this._sectionStart=this._index):this._decodeEntities&&this._special===me&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=h,this._state=le,this._sectionStart=this._index)},a.prototype._stateBeforeTagName=function(e){"/"===e?this._state=y:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==me||n(e)?this._state=h:"!"===e?(this._state=I,this._sectionStart=this._index+1):"?"===e?(this._state=$,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?m:j,this._sectionStart=this._index)},a.prototype._stateInTagName=function(e){("/"===e||">"===e||n(e))&&(this._emitToken("onopentagname"),this._state=_,this._index--)},a.prototype._stateBeforeCloseingTagName=function(e){n(e)||(">"===e?this._state=h:this._special!==me?"s"===e||"S"===e?this._state=z:(this._state=h,this._index--):(this._state=v,this._sectionStart=this._index))},a.prototype._stateInCloseingTagName=function(e){(">"===e||n(e))&&(this._emitToken("onclosetag"),this._state=b,this._index--)},a.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=h,this._sectionStart=this._index+1)},a.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=h,this._sectionStart=this._index+1):"/"===e?this._state=g:n(e)||(this._state=w,this._sectionStart=this._index)},a.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=h,this._sectionStart=this._index+1):n(e)||(this._state=_,this._index--)},a.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||n(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=S,this._index--)},a.prototype._stateAfterAttributeName=function(e){"="===e?this._state=C:"/"===e||">"===e?(this._cbs.onattribend(),this._state=_,this._index--):n(e)||(this._cbs.onattribend(),this._state=w,this._sectionStart=this._index)},a.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=E,this._sectionStart=this._index+1):"'"===e?(this._state=k,this._sectionStart=this._index+1):n(e)||(this._state=T,
this._sectionStart=this._index,this._index--)},a.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=le,this._sectionStart=this._index)},a.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=le,this._sectionStart=this._index)},a.prototype._stateInAttributeValueNoQuotes=function(e){n(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=le,this._sectionStart=this._index)},a.prototype._stateBeforeDeclaration=function(e){this._state="["===e?D:"-"===e?x:A},a.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=h,this._sectionStart=this._index+1)},a.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=h,this._sectionStart=this._index+1)},a.prototype._stateBeforeComment=function(e){"-"===e?(this._state=O,this._sectionStart=this._index+1):this._state=A},a.prototype._stateInComment=function(e){"-"===e&&(this._state=R)},a.prototype._stateAfterComment1=function(e){"-"===e?this._state=P:this._state=O},a.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=h,this._sectionStart=this._index+1):"-"!==e&&(this._state=O)},a.prototype._stateBeforeCdata1=i("C",M,A),a.prototype._stateBeforeCdata2=i("D",N,A),a.prototype._stateBeforeCdata3=i("A",L,A),a.prototype._stateBeforeCdata4=i("T",q,A),a.prototype._stateBeforeCdata5=i("A",F,A),a.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=U,this._sectionStart=this._index+1):(this._state=A,this._index--)},a.prototype._stateInCdata=function(e){"]"===e&&(this._state=H)},a.prototype._stateAfterCdata1=r("]",V),a.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=h,this._sectionStart=this._index+1):"]"!==e&&(this._state=U)},a.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=B:"t"===e||"T"===e?this._state=te:(this._state=m,this._index--)},a.prototype._stateBeforeSpecialEnd=function(e){this._special!==ge||"c"!==e&&"C"!==e?this._special!==ye||"t"!==e&&"T"!==e?this._state=h:this._state=ie:this._state=Y},a.prototype._stateBeforeScript1=s("R",W),a.prototype._stateBeforeScript2=s("I",G),a.prototype._stateBeforeScript3=s("P",Q),a.prototype._stateBeforeScript4=s("T",K),a.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||n(e))&&(this._special=ge),this._state=m,this._index--},a.prototype._stateAfterScript1=i("R",X,h),a.prototype._stateAfterScript2=i("I",J,h),a.prototype._stateAfterScript3=i("P",Z,h),a.prototype._stateAfterScript4=i("T",ee,h),a.prototype._stateAfterScript5=function(e){">"===e||n(e)?(this._special=me,this._state=v,this._sectionStart=this._index-6,this._index--):this._state=h},a.prototype._stateBeforeStyle1=s("Y",oe),a.prototype._stateBeforeStyle2=s("L",ne),a.prototype._stateBeforeStyle3=s("E",re),a.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||n(e))&&(this._special=ye),this._state=m,this._index--},a.prototype._stateAfterStyle1=i("Y",se,h),a.prototype._stateAfterStyle2=i("L",ae,h),a.prototype._stateAfterStyle3=i("E",ue,h),a.prototype._stateAfterStyle4=function(e){">"===e||n(e)?(this._special=me,this._state=v,this._sectionStart=this._index-5,this._index--):this._state=h},a.prototype._stateBeforeEntity=i("#",ce,de),a.prototype._stateBeforeNumericEntity=i("X",he,pe),a.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?d:l;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},a.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var o=this._buffer.substr(e,t);if(c.hasOwnProperty(o))return this._emitPartial(c[o]),void(this._sectionStart+=t+1);t--}},a.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==h?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},a.prototype._decodeNumericEntity=function(e,t){var o=this._sectionStart+e;if(o!==this._index){var n=this._buffer.substring(o,this._index),r=parseInt(n,t);this._emitPartial(u(r)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},a.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},a.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},a.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===h?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},a.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},a.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===h?this._stateText(e):this._state===f?this._stateBeforeTagName(e):this._state===m?this._stateInTagName(e):this._state===y?this._stateBeforeCloseingTagName(e):this._state===v?this._stateInCloseingTagName(e):this._state===b?this._stateAfterCloseingTagName(e):this._state===g?this._stateInSelfClosingTag(e):this._state===_?this._stateBeforeAttributeName(e):this._state===w?this._stateInAttributeName(e):this._state===S?this._stateAfterAttributeName(e):this._state===C?this._stateBeforeAttributeValue(e):this._state===E?this._stateInAttributeValueDoubleQuotes(e):this._state===k?this._stateInAttributeValueSingleQuotes(e):this._state===T?this._stateInAttributeValueNoQuotes(e):this._state===I?this._stateBeforeDeclaration(e):this._state===A?this._stateInDeclaration(e):this._state===$?this._stateInProcessingInstruction(e):this._state===x?this._stateBeforeComment(e):this._state===O?this._stateInComment(e):this._state===R?this._stateAfterComment1(e):this._state===P?this._stateAfterComment2(e):this._state===D?this._stateBeforeCdata1(e):this._state===M?this._stateBeforeCdata2(e):this._state===N?this._stateBeforeCdata3(e):this._state===L?this._stateBeforeCdata4(e):this._state===q?this._stateBeforeCdata5(e):this._state===F?this._stateBeforeCdata6(e):this._state===U?this._stateInCdata(e):this._state===H?this._stateAfterCdata1(e):this._state===V?this._stateAfterCdata2(e):this._state===j?this._stateBeforeSpecial(e):this._state===z?this._stateBeforeSpecialEnd(e):this._state===B?this._stateBeforeScript1(e):this._state===W?this._stateBeforeScript2(e):this._state===G?this._stateBeforeScript3(e):this._state===Q?this._stateBeforeScript4(e):this._state===K?this._stateBeforeScript5(e):this._state===Y?this._stateAfterScript1(e):this._state===X?this._stateAfterScript2(e):this._state===J?this._stateAfterScript3(e):this._state===Z?this._stateAfterScript4(e):this._state===ee?this._stateAfterScript5(e):this._state===te?this._stateBeforeStyle1(e):this._state===oe?this._stateBeforeStyle2(e):this._state===ne?this._stateBeforeStyle3(e):this._state===re?this._stateBeforeStyle4(e):this._state===ie?this._stateAfterStyle1(e):this._state===se?this._stateAfterStyle2(e):this._state===ae?this._stateAfterStyle3(e):this._state===ue?this._stateAfterStyle4(e):this._state===le?this._stateBeforeEntity(e):this._state===ce?this._stateBeforeNumericEntity(e):this._state===de?this._stateInNamedEntity(e):this._state===pe?this._stateInNumericEntity(e):this._state===he?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},a.prototype.pause=function(){this._running=!1},a.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},a.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},a.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},a.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===U||this._state===H||this._state===V?this._cbs.oncdata(e):this._state===O||this._state===R||this._state===P?this._cbs.oncomment(e):this._state!==de||this._xmlMode?this._state!==pe||this._xmlMode?this._state!==he||this._xmlMode?this._state!==m&&this._state!==_&&this._state!==C&&this._state!==S&&this._state!==w&&this._state!==k&&this._state!==E&&this._state!==T&&this._state!==v&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},a.prototype.reset=function(){a.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},a.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},a.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},a.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},a.prototype._emitPartial=function(e){this._baseState!==h?this._cbs.onattribdata(e):this._cbs.ontext(e)}},{"entities/lib/decode_codepoint.js":347,"entities/maps/entities.json":350,"entities/maps/legacy.json":351,"entities/maps/xml.json":352}],365:[function(e,t,o){function n(e,t){var o=this._parser=new r(e,t),n=this._decoder=new s;i.call(this,{decodeStrings:!1}),this.once("finish",function(){o.end(n.end())})}t.exports=n;var r=e("./Parser.js"),i=e("stream").Writable||e("readable-stream").Writable,s=e("string_decoder").StringDecoder,a=e("buffer").Buffer;e("inherits")(n,i),i.prototype._write=function(e,t,o){e instanceof a&&(e=this._decoder.write(e)),this._parser.write(e),o()}},{"./Parser.js":361,buffer:323,inherits:368,"readable-stream":319,stream:440,string_decoder:322}],366:[function(e,t,o){function n(e,o){return delete t.exports[e],t.exports[e]=o,o}var r=e("./Parser.js"),i=e("domhandler");t.exports={Parser:r,Tokenizer:e("./Tokenizer.js"),ElementType:e("domelementtype"),DomHandler:i,get FeedHandler(){return n("FeedHandler",e("./FeedHandler.js"))},get Stream(){return n("Stream",e("./Stream.js"))},get WritableStream(){return n("WritableStream",e("./WritableStream.js"))},get ProxyHandler(){return n("ProxyHandler",e("./ProxyHandler.js"))},get DomUtils(){return n("DomUtils",e("domutils"))},get CollectingHandler(){return n("CollectingHandler",e("./CollectingHandler.js"))},DefaultHandler:i,get RssHandler(){return n("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var o=new i(t);return new r(o,t).end(e),o.dom},parseFeed:function(e,o){var n=new t.exports.FeedHandler(o);return new r(n,o).end(e),n.dom},createDomStream:function(e,t,o){var n=new i(e,t,o);return new r(n,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},{"./CollectingHandler.js":359,"./FeedHandler.js":360,"./Parser.js":361,"./ProxyHandler.js":362,"./Stream.js":363,"./Tokenizer.js":364,"./WritableStream.js":365,domelementtype:334,domhandler:335,domutils:338}],367:[function(e,t,o){o.read=function(e,t,o,n,r){var i,s,a=8*r-n-1,u=(1<<a)-1,l=u>>1,c=-7,d=o?r-1:0,p=o?-1:1,h=e[t+d];for(d+=p,i=h&(1<<-c)-1,h>>=-c,c+=a;c>0;i=256*i+e[t+d],d+=p,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=n;c>0;s=256*s+e[t+d],d+=p,c-=8);if(0===i)i=1-l;else{if(i===u)return s?NaN:(h?-1:1)*(1/0);s+=Math.pow(2,n),i-=l}return(h?-1:1)*s*Math.pow(2,i-n)},o.write=function(e,t,o,n,r,i){var s,a,u,l=8*i-r-1,c=(1<<l)-1,d=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+d>=1?p/u:p*Math.pow(2,1-d),t*u>=2&&(s++,u/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(t*u-1)*Math.pow(2,r),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),s=0));r>=8;e[o+h]=255&a,h+=f,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;e[o+h]=255&s,h+=f,s/=256,l-=8);e[o+h-f]|=128*m}},{}],368:[function(e,t,o){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}},{}],369:[function(e,t,o){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}t.exports=function(e){return null!=e&&(n(e)||r(e)||!!e._isBuffer)}},{}],370:[function(e,t,o){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],371:[function(e,t,o){!function(e,o){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?o(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return o(e)}:o(e)}("undefined"!=typeof window?window:this,function(e,t){function o(e){var t=!!e&&"length"in e&&e.length,o=ie.type(e);return"function"!==o&&!ie.isWindow(e)&&("array"===o||0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e,t,o){if(ie.isFunction(t))return ie.grep(e,function(e,n){return!!t.call(e,n,e)!==o});if(t.nodeType)return ie.grep(e,function(e){return e===t!==o});if("string"==typeof t){if(me.test(t))return ie.filter(t,e,o);t=ie.filter(t,e)}return ie.grep(e,function(e){return Z.call(t,e)>-1!==o})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function i(e){var t={};return ie.each(e.match(we)||[],function(e,o){t[o]=!0}),t}function s(){K.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s),ie.ready()}function a(){this.expando=ie.expando+a.uid++}function u(e,t,o){var n;if(void 0===o&&1===e.nodeType)if(n="data-"+t.replace(Ae,"-$&").toLowerCase(),o=e.getAttribute(n),"string"==typeof o){try{o="true"===o||"false"!==o&&("null"===o?null:+o+""===o?+o:Ie.test(o)?ie.parseJSON(o):o)}catch(r){}Te.set(e,t,o)}else o=void 0;return o}function l(e,t,o,n){var r,i=1,s=20,a=n?function(){return n.cur()}:function(){return ie.css(e,t,"")},u=a(),l=o&&o[3]||(ie.cssNumber[t]?"":"px"),c=(ie.cssNumber[t]||"px"!==l&&+u)&&xe.exec(ie.css(e,t));if(c&&c[3]!==l){l=l||c[3],o=o||[],c=+u||1;do i=i||".5",c/=i,ie.style(e,t,c+l);while(i!==(i=a()/u)&&1!==i&&--s)}return o&&(c=+c||+u||0,r=o[1]?c+(o[1]+1)*o[2]:+o[2],n&&(n.unit=l,n.start=c,n.end=r)),r}function c(e,t){var o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function d(e,t){for(var o=0,n=e.length;o<n;o++)ke.set(e[o],"globalEval",!t||ke.get(t[o],"globalEval"))}function p(e,t,o,n,r){for(var i,s,a,u,l,p,h=t.createDocumentFragment(),f=[],m=0,g=e.length;m<g;m++)if(i=e[m],i||0===i)if("object"===ie.type(i))ie.merge(f,i.nodeType?[i]:i);else if(Le.test(i)){for(s=s||h.appendChild(t.createElement("div")),a=(De.exec(i)||["",""])[1].toLowerCase(),u=Ne[a]||Ne._default,s.innerHTML=u[1]+ie.htmlPrefilter(i)+u[2],p=u[0];p--;)s=s.lastChild;ie.merge(f,s.childNodes),s=h.firstChild,s.textContent=""}else f.push(t.createTextNode(i));for(h.textContent="",m=0;i=f[m++];)if(n&&ie.inArray(i,n)>-1)r&&r.push(i);else if(l=ie.contains(i.ownerDocument,i),s=c(h.appendChild(i),"script"),l&&d(s),o)for(p=0;i=s[p++];)Me.test(i.type||"")&&o.push(i);return h}function h(){return!0}function f(){return!1}function m(){try{return K.activeElement}catch(e){}}function g(e,t,o,n,r,i){var s,a;if("object"==typeof t){"string"!=typeof o&&(n=n||o,o=void 0);for(a in t)g(e,a,o,n,t[a],i);return e}if(null==n&&null==r?(r=o,n=o=void 0):null==r&&("string"==typeof o?(r=n,n=void 0):(r=n,n=o,o=void 0)),r===!1)r=f;else if(!r)return e;return 1===i&&(s=r,r=function(e){return ie().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ie.guid++)),e.each(function(){ie.event.add(this,t,r,n,o)})}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function v(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=ze.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){var o,n,r,i,s,a,u,l;if(1===t.nodeType){if(ke.hasData(e)&&(i=ke.access(e),s=ke.set(t,i),l=i.events)){delete s.handle,s.events={};for(r in l)for(o=0,n=l[r].length;o<n;o++)ie.event.add(t,r,l[r][o])}Te.hasData(e)&&(a=Te.access(e),u=ie.extend({},a),Te.set(t,u))}}function w(e,t){var o=t.nodeName.toLowerCase();"input"===o&&Pe.test(e.type)?t.checked=e.checked:"input"!==o&&"textarea"!==o||(t.defaultValue=e.defaultValue)}function S(e,t,o,n){t=X.apply([],t);var r,i,s,a,u,l,d=0,h=e.length,f=h-1,m=t[0],g=ie.isFunction(m);if(g||h>1&&"string"==typeof m&&!ne.checkClone&&je.test(m))return e.each(function(r){var i=e.eq(r);g&&(t[0]=m.call(this,r,i.html())),S(i,t,o,n)});if(h&&(r=p(t,e[0].ownerDocument,!1,e,n),i=r.firstChild,1===r.childNodes.length&&(r=i),i||n)){for(s=ie.map(c(r,"script"),v),a=s.length;d<h;d++)u=r,d!==f&&(u=ie.clone(u,!0,!0),a&&ie.merge(s,c(u,"script"))),o.call(e[d],u,d);if(a)for(l=s[s.length-1].ownerDocument,ie.map(s,b),d=0;d<a;d++)u=s[d],Me.test(u.type||"")&&!ke.access(u,"globalEval")&&ie.contains(l,u)&&(u.src?ie._evalUrl&&ie._evalUrl(u.src):ie.globalEval(u.textContent.replace(Be,"")))}return e}function C(e,t,o){for(var n,r=t?ie.filter(t,e):e,i=0;null!=(n=r[i]);i++)o||1!==n.nodeType||ie.cleanData(c(n)),n.parentNode&&(o&&ie.contains(n.ownerDocument,n)&&d(c(n,"script")),n.parentNode.removeChild(n));return e}function E(e,t){var o=ie(t.createElement(e)).appendTo(t.body),n=ie.css(o[0],"display");return o.detach(),n}function k(e){var t=K,o=Ge[e];return o||(o=E(e,t),"none"!==o&&o||(We=(We||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=We[0].contentDocument,t.write(),t.close(),o=E(e,t),We.detach()),Ge[e]=o),o}function T(e,t,o){var n,r,i,s,a=e.style;return o=o||Ye(e),s=o?o.getPropertyValue(t)||o[t]:void 0,""!==s&&void 0!==s||ie.contains(e.ownerDocument,e)||(s=ie.style(e,t)),o&&!ne.pixelMarginRight()&&Ke.test(s)&&Qe.test(t)&&(n=a.width,r=a.minWidth,i=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=o.width,a.width=n,a.minWidth=r,a.maxWidth=i),void 0!==s?s+"":s}function I(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function A(e){if(e in nt)return e;for(var t=e[0].toUpperCase()+e.slice(1),o=ot.length;o--;)if(e=ot[o]+t,e in nt)return e}function $(e,t,o){var n=xe.exec(t);return n?Math.max(0,n[2]-(o||0))+(n[3]||"px"):t}function x(e,t,o,n,r){for(var i=o===(n?"border":"content")?4:"width"===t?1:0,s=0;i<4;i+=2)"margin"===o&&(s+=ie.css(e,o+Oe[i],!0,r)),n?("content"===o&&(s-=ie.css(e,"padding"+Oe[i],!0,r)),"margin"!==o&&(s-=ie.css(e,"border"+Oe[i]+"Width",!0,r))):(s+=ie.css(e,"padding"+Oe[i],!0,r),"padding"!==o&&(s+=ie.css(e,"border"+Oe[i]+"Width",!0,r)));return s}function O(e,t,o){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,i=Ye(e),s="border-box"===ie.css(e,"boxSizing",!1,i);if(r<=0||null==r){if(r=T(e,t,i),(r<0||null==r)&&(r=e.style[t]),Ke.test(r))return r;n=s&&(ne.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+x(e,t,o||(s?"border":"content"),n,i)+"px"}function R(e,t){for(var o,n,r,i=[],s=0,a=e.length;s<a;s++)n=e[s],n.style&&(i[s]=ke.get(n,"olddisplay"),o=n.style.display,t?(i[s]||"none"!==o||(n.style.display=""),""===n.style.display&&Re(n)&&(i[s]=ke.access(n,"olddisplay",k(n.nodeName)))):(r=Re(n),"none"===o&&r||ke.set(n,"olddisplay",r?o:ie.css(n,"display"))));for(s=0;s<a;s++)n=e[s],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[s]||"":"none"));return e}function P(e,t,o,n,r){return new P.prototype.init(e,t,o,n,r)}function D(){return e.setTimeout(function(){rt=void 0}),rt=ie.now()}function M(e,t){var o,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)o=Oe[n],r["margin"+o]=r["padding"+o]=e;return t&&(r.opacity=r.width=e),r}function N(e,t,o){for(var n,r=(F.tweeners[t]||[]).concat(F.tweeners["*"]),i=0,s=r.length;i<s;i++)if(n=r[i].call(o,t,e))return n}function L(e,t,o){var n,r,i,s,a,u,l,c,d=this,p={},h=e.style,f=e.nodeType&&Re(e),m=ke.get(e,"fxshow");o.queue||(a=ie._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ie.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(o.overflow=[h.overflow,h.overflowX,h.overflowY],l=ie.css(e,"display"),c="none"===l?ke.get(e,"olddisplay")||k(e.nodeName):l,"inline"===c&&"none"===ie.css(e,"float")&&(h.display="inline-block")),o.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=o.overflow[0],h.overflowX=o.overflow[1],h.overflowY=o.overflow[2]}));for(n in t)if(r=t[n],st.exec(r)){if(delete t[n],i=i||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;f=!0}p[n]=m&&m[n]||ie.style(e,n)}else l=void 0;if(ie.isEmptyObject(p))"inline"===("none"===l?k(e.nodeName):l)&&(h.display=l);else{m?"hidden"in m&&(f=m.hidden):m=ke.access(e,"fxshow",{}),i&&(m.hidden=!f),f?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;ke.remove(e,"fxshow");for(t in p)ie.style(e,t,p[t])});for(n in p)s=N(f?m[n]:0,n,d),n in m||(m[n]=s.start,f&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function q(e,t){var o,n,r,i,s;for(o in e)if(n=ie.camelCase(o),r=t[n],i=e[o],ie.isArray(i)&&(r=i[1],i=e[o]=i[0]),o!==n&&(e[n]=i,delete e[o]),s=ie.cssHooks[n],s&&"expand"in s){i=s.expand(i),delete e[n];for(o in i)o in e||(e[o]=i[o],t[o]=r)}else t[n]=r}function F(e,t,o){var n,r,i=0,s=F.prefilters.length,a=ie.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=rt||D(),o=Math.max(0,l.startTime+l.duration-t),n=o/l.duration||0,i=1-n,s=0,u=l.tweens.length;s<u;s++)l.tweens[s].run(i);return a.notifyWith(e,[l,i,o]),i<1&&u?o:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{},easing:ie.easing._default},o),originalProperties:t,originalOptions:o,startTime:rt||D(),duration:o.duration,tweens:[],createTween:function(t,o){var n=ie.Tween(e,l.opts,t,o,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){var o=0,n=t?l.tweens.length:0;if(r)return this;for(r=!0;o<n;o++)l.tweens[o].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),c=l.props;for(q(c,l.opts.specialEasing);i<s;i++)if(n=F.prefilters[i].call(l,e,c,l.opts))return ie.isFunction(n.stop)&&(ie._queueHooks(l.elem,l.opts.queue).stop=ie.proxy(n.stop,n)),n;return ie.map(c,N,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),ie.fx.timer(ie.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function H(e){return function(t,o){"string"!=typeof t&&(o=t,t="*");var n,r=0,i=t.toLowerCase().match(we)||[];if(ie.isFunction(o))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(o)):(e[n]=e[n]||[]).push(o)}}function V(e,t,o,n){function r(a){var u;return i[a]=!0,ie.each(e[a]||[],function(e,a){var l=a(t,o,n);return"string"!=typeof l||s||i[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),r(l),!1)}),u}var i={},s=e===Tt;return r(t.dataTypes[0])||!i["*"]&&r("*")}function j(e,t){var o,n,r=ie.ajaxSettings.flatOptions||{};for(o in t)void 0!==t[o]&&((r[o]?e:n||(n={}))[o]=t[o]);return n&&ie.extend(!0,e,n),e}function z(e,t,o){for(var n,r,i,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){u.unshift(r);break}if(u[0]in o)i=u[0];else{for(r in o){if(!u[0]||e.converters[r+" "+u[0]]){i=r;break}s||(s=r)}i=i||s}if(i)return i!==u[0]&&u.unshift(i),o[i]}function B(e,t,o,n){var r,i,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(i=c.shift();i;)if(e.responseFields[i]&&(o[e.responseFields[i]]=t),!u&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=i,i=c.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(s=l[u+" "+i]||l["* "+i],!s)for(r in l)if(a=r.split(" "),a[1]===i&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(i=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+u+" to "+i}}}return{state:"success",data:t}}function W(e,t,o,n){var r;if(ie.isArray(t))ie.each(t,function(t,r){o||xt.test(e)?n(e,r):W(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,o,n)});else if(o||"object"!==ie.type(t))n(e,t);else for(r in t)W(e+"["+r+"]",t[r],o,n)}function G(e){return ie.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Q=[],K=e.document,Y=Q.slice,X=Q.concat,J=Q.push,Z=Q.indexOf,ee={},te=ee.toString,oe=ee.hasOwnProperty,ne={},re="2.2.4",ie=function(e,t){return new ie.fn.init(e,t)},se=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,ue=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ie.each(this,e)},map:function(e){return this.pushStack(ie.map(this,function(t,o){return e.call(t,o,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,o=+e+(e<0?t:0);return this.pushStack(o>=0&&o<t?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:Q.sort,splice:Q.splice},ie.extend=ie.fn.extend=function(){var e,t,o,n,r,i,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||ie.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)o=s[t],n=e[t],s!==n&&(l&&n&&(ie.isPlainObject(n)||(r=ie.isArray(n)))?(r?(r=!1,i=o&&ie.isArray(o)?o:[]):i=o&&ie.isPlainObject(o)?o:{},s[t]=ie.extend(l,i,n)):void 0!==n&&(s[t]=n));return s},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!ie.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;if(e.constructor&&!oe.call(e,"constructor")&&!oe.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||oe.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,o=eval;e=ie.trim(e),e&&(1===e.indexOf("use strict")?(t=K.createElement("script"),t.text=e,K.head.appendChild(t).parentNode.removeChild(t)):o(e))},camelCase:function(e){return e.replace(ae,"ms-").replace(ue,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(o(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(se,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(o(Object(e))?ie.merge(n,"string"==typeof e?[e]:e):J.call(n,e)),n},inArray:function(e,t,o){return null==t?-1:Z.call(t,e,o)},merge:function(e,t){for(var o=+t.length,n=0,r=e.length;n<o;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,o){for(var n,r=[],i=0,s=e.length,a=!o;i<s;i++)n=!t(e[i],i),n!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,s=0,a=[];if(o(e))for(r=e.length;s<r;s++)i=t(e[s],s,n),null!=i&&a.push(i);else for(s in e)i=t(e[s],s,n),null!=i&&a.push(i);return X.apply([],a)},guid:1,proxy:function(e,t){var o,n,r;if("string"==typeof t&&(o=e[t],t=e,e=o),ie.isFunction(e))return n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r},now:Date.now,support:ne}),"function"==typeof Symbol&&(ie.fn[Symbol.iterator]=Q[Symbol.iterator]),ie.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,o,n){var r,i,s,a,u,l,d,h,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(o=o||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return o;if(!n&&((t?t.ownerDocument||t:U)!==R&&O(t),t=t||R,D)){if(11!==m&&(l=ye.exec(e)))if(r=l[1]){if(9===m){if(!(s=t.getElementById(r)))return o;if(s.id===r)return o.push(s),o}else if(f&&(s=f.getElementById(r))&&q(t,s)&&s.id===r)return o.push(s),o}else{if(l[2])return J.apply(o,t.getElementsByTagName(e)),o;if((r=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return J.apply(o,t.getElementsByClassName(r)),o}if(w.qsa&&!B[e+" "]&&(!M||!M.test(e))){if(1!==m)f=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(be,"\\$&"):t.setAttribute("id",a=F),d=k(e),i=d.length,u=pe.test(a)?"#"+a:"[id='"+a+"']";i--;)d[i]=u+" "+p(d[i]);h=d.join(","),f=ve.test(e)&&c(t.parentNode)||t}if(h)try{return J.apply(o,f.querySelectorAll(h)),o}catch(g){}finally{a===F&&t.removeAttribute("id")}}}return I(e.replace(ae,"$1"),t,o,n)}function o(){function e(o,n){return t.push(o+" ")>S.cacheLength&&delete e[t.shift()],e[o+" "]=n}var t=[];return e}function n(e){return e[F]=!0,e}function r(e){var t=R.createElement("div");try{return!!e(t)}catch(o){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var o=e.split("|"),n=o.length;n--;)S.attrHandle[o[n]]=t}function s(e,t){var o=t&&e,n=o&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(n)return n;if(o)for(;o=o.nextSibling;)if(o===t)return-1;return e?1:-1}function a(e){return function(t){var o=t.nodeName.toLowerCase();return"input"===o&&t.type===e}}function u(e){return function(t){var o=t.nodeName.toLowerCase();return("input"===o||"button"===o)&&t.type===e}}function l(e){return n(function(t){return t=+t,n(function(o,n){for(var r,i=e([],o.length,t),s=i.length;s--;)o[r=i[s]]&&(o[r]=!(n[r]=o[r]));
})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,o=e.length,n="";t<o;t++)n+=e[t].value;return n}function h(e,t,o){var n=t.dir,r=o&&"parentNode"===n,i=V++;return t.first?function(t,o,i){for(;t=t[n];)if(1===t.nodeType||r)return e(t,o,i)}:function(t,o,s){var a,u,l,c=[H,i];if(s){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,o,s))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if(l=t[F]||(t[F]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(a=u[n])&&a[0]===H&&a[1]===i)return c[2]=a[2];if(u[n]=c,c[2]=e(t,o,s))return!0}}}function f(e){return e.length>1?function(t,o,n){for(var r=e.length;r--;)if(!e[r](t,o,n))return!1;return!0}:e[0]}function m(e,o,n){for(var r=0,i=o.length;r<i;r++)t(e,o[r],n);return n}function g(e,t,o,n,r){for(var i,s=[],a=0,u=e.length,l=null!=t;a<u;a++)(i=e[a])&&(o&&!o(i,n,r)||(s.push(i),l&&t.push(a)));return s}function y(e,t,o,r,i,s){return r&&!r[F]&&(r=y(r)),i&&!i[F]&&(i=y(i,s)),n(function(n,s,a,u){var l,c,d,p=[],h=[],f=s.length,y=n||m(t||"*",a.nodeType?[a]:a,[]),v=!e||!n&&t?y:g(y,p,e,a,u),b=o?i||(n?e:f||r)?[]:s:v;if(o&&o(v,b,a,u),r)for(l=g(b,h),r(l,[],a,u),c=l.length;c--;)(d=l[c])&&(b[h[c]]=!(v[h[c]]=d));if(n){if(i||e){if(i){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(v[c]=d);i(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=i?ee(n,d):p[c])>-1&&(n[l]=!(s[l]=d))}}else b=g(b===s?b.splice(f,b.length):b),i?i(null,s,b,u):J.apply(s,b)})}function v(e){for(var t,o,n,r=e.length,i=S.relative[e[0].type],s=i||S.relative[" "],a=i?1:0,u=h(function(e){return e===t},s,!0),l=h(function(e){return ee(t,e)>-1},s,!0),c=[function(e,o,n){var r=!i&&(n||o!==A)||((t=o).nodeType?u(e,o,n):l(e,o,n));return t=null,r}];a<r;a++)if(o=S.relative[e[a].type])c=[h(f(c),o)];else{if(o=S.filter[e[a].type].apply(null,e[a].matches),o[F]){for(n=++a;n<r&&!S.relative[e[n].type];n++);return y(a>1&&f(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),o,a<n&&v(e.slice(a,n)),n<r&&v(e=e.slice(n)),n<r&&p(e))}c.push(o)}return f(c)}function b(e,o){var r=o.length>0,i=e.length>0,s=function(n,s,a,u,l){var c,d,p,h=0,f="0",m=n&&[],y=[],v=A,b=n||i&&S.find.TAG("*",l),_=H+=null==v?1:Math.random()||.1,w=b.length;for(l&&(A=s===R||s||l);f!==w&&null!=(c=b[f]);f++){if(i&&c){for(d=0,s||c.ownerDocument===R||(O(c),a=!D);p=e[d++];)if(p(c,s||R,a)){u.push(c);break}l&&(H=_)}r&&((c=!p&&c)&&h--,n&&m.push(c))}if(h+=f,r&&f!==h){for(d=0;p=o[d++];)p(m,y,s,a);if(n){if(h>0)for(;f--;)m[f]||y[f]||(y[f]=Y.call(u));y=g(y)}J.apply(u,y),l&&!n&&y.length>0&&h+o.length>1&&t.uniqueSort(u)}return l&&(H=_,A=v),m};return r?n(s):s}var _,w,S,C,E,k,T,I,A,$,x,O,R,P,D,M,N,L,q,F="sizzle"+1*new Date,U=e.document,H=0,V=0,j=o(),z=o(),B=o(),W=function(e,t){return e===t&&(x=!0),0},G=1<<31,Q={}.hasOwnProperty,K=[],Y=K.pop,X=K.push,J=K.push,Z=K.slice,ee=function(e,t){for(var o=0,n=e.length;o<n;o++)if(e[o]===t)return o;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+oe+"*("+ne+")(?:"+oe+"*([*^$|!~]?=)"+oe+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+oe+"*\\]",ie=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(oe+"+","g"),ae=new RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),ue=new RegExp("^"+oe+"*,"+oe+"*"),le=new RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),ce=new RegExp("="+oe+"*([^\\]'\"]*?)"+oe+"*\\]","g"),de=new RegExp(ie),pe=new RegExp("^"+ne+"$"),he={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),we=function(e,t,o){var n="0x"+t-65536;return n!==n||o?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Se=function(){O()};try{J.apply(K=Z.call(U.childNodes),U.childNodes),K[U.childNodes.length].nodeType}catch(Ce){J={apply:K.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var o=e.length,n=0;e[o++]=t[n++];);e.length=o-1}}}w=t.support={},E=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,o,n=e?e.ownerDocument||e:U;return n!==R&&9===n.nodeType&&n.documentElement?(R=n,P=R.documentElement,D=!E(R),(o=R.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",Se,!1):o.attachEvent&&o.attachEvent("onunload",Se)),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(R.getElementsByClassName),w.getById=r(function(e){return P.appendChild(e).id=F,!R.getElementsByName||!R.getElementsByName(F).length}),w.getById?(S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var o=t.getElementById(e);return o?[o]:[]}},S.filter.ID=function(e){var t=e.replace(_e,we);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(_e,we);return function(e){var o="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return o&&o.value===t}}),S.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var o,n=[],r=0,i=t.getElementsByTagName(e);if("*"===e){for(;o=i[r++];)1===o.nodeType&&n.push(o);return n}return i},S.find.CLASS=w.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&D)return t.getElementsByClassName(e)},N=[],M=[],(w.qsa=ge.test(R.querySelectorAll))&&(r(function(e){P.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+oe+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+oe+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||M.push(".#.+[+~]")}),r(function(e){var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+oe+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ge.test(L=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){w.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),N.push("!=",ie)}),M=M.length&&new RegExp(M.join("|")),N=N.length&&new RegExp(N.join("|")),t=ge.test(P.compareDocumentPosition),q=t||ge.test(P.contains)?function(e,t){var o=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(o.contains?o.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return x=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o?o:(o=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&o||!w.sortDetached&&t.compareDocumentPosition(e)===o?e===R||e.ownerDocument===U&&q(U,e)?-1:t===R||t.ownerDocument===U&&q(U,t)?1:$?ee($,e)-ee($,t):0:4&o?-1:1)}:function(e,t){if(e===t)return x=!0,0;var o,n=0,r=e.parentNode,i=t.parentNode,a=[e],u=[t];if(!r||!i)return e===R?-1:t===R?1:r?-1:i?1:$?ee($,e)-ee($,t):0;if(r===i)return s(e,t);for(o=e;o=o.parentNode;)a.unshift(o);for(o=t;o=o.parentNode;)u.unshift(o);for(;a[n]===u[n];)n++;return n?s(a[n],u[n]):a[n]===U?-1:u[n]===U?1:0},R):R},t.matches=function(e,o){return t(e,null,null,o)},t.matchesSelector=function(e,o){if((e.ownerDocument||e)!==R&&O(e),o=o.replace(ce,"='$1']"),w.matchesSelector&&D&&!B[o+" "]&&(!N||!N.test(o))&&(!M||!M.test(o)))try{var n=L.call(e,o);if(n||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return t(o,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&O(e),q(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&O(e);var o=S.attrHandle[t.toLowerCase()],n=o&&Q.call(S.attrHandle,t.toLowerCase())?o(e,t,!D):void 0;return void 0!==n?n:w.attributes||!D?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,o=[],n=0,r=0;if(x=!w.detectDuplicates,$=!w.sortStable&&e.slice(0),e.sort(W),x){for(;t=e[r++];)t===e[r]&&(n=o.push(r));for(;n--;)e.splice(o[n],1)}return $=null,e},C=t.getText=function(e){var t,o="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)o+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)o+=C(t);return o},S=t.selectors={cacheLength:50,createPseudo:n,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,we),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,o=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":o&&de.test(o)&&(t=k(o,!0))&&(t=o.indexOf(")",o.length-t)-o.length)&&(e[0]=e[0].slice(0,t),e[2]=o.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+oe+")"+e+"("+oe+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,o,n){return function(r){var i=t.attr(r,e);return null==i?"!="===o:!o||(i+="","="===o?i===n:"!="===o?i!==n:"^="===o?n&&0===i.indexOf(n):"*="===o?n&&i.indexOf(n)>-1:"$="===o?n&&i.slice(-n.length)===n:"~="===o?(" "+i.replace(se," ")+" ").indexOf(n)>-1:"|="===o&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,o,n,r){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,o,u){var l,c,d,p,h,f,m=i!==s?"nextSibling":"previousSibling",g=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!u&&!a,b=!1;if(g){if(i){for(;m;){for(p=t;p=p[m];)if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(p=g,d=p[F]||(p[F]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),l=c[e]||[],h=l[0]===H&&l[1],b=h&&l[2],p=h&&g.childNodes[h];p=++h&&p&&p[m]||(b=h=0)||f.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[H,h,b];break}}else if(v&&(p=t,d=p[F]||(p[F]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),l=c[e]||[],h=l[0]===H&&l[1],b=h),b===!1)for(;(p=++h&&p&&p[m]||(b=h=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++b||(v&&(d=p[F]||(p[F]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),c[e]=[H,b]),p!==t)););return b-=r,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(e,o){var r,i=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[F]?i(o):i.length>1?(r=[e,e,"",o],S.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=i(e,o),s=r.length;s--;)n=ee(e,r[s]),e[n]=!(t[n]=r[s])}):function(e){return i(e,0,r)}):i}},pseudos:{not:n(function(e){var t=[],o=[],r=T(e.replace(ae,"$1"));return r[F]?n(function(e,t,o,n){for(var i,s=r(e,null,n,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))}):function(e,n,i){return t[0]=e,r(t,null,i,o),t[0]=null,!o.pop()}}),has:n(function(e){return function(o){return t(e,o).length>0}}),contains:n(function(e){return e=e.replace(_e,we),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,we).toLowerCase(),function(t){var o;do if(o=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return o=o.toLowerCase(),o===e||0===o.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var o=e.location&&e.location.hash;return o&&o.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,o){return[o<0?o+t:o]}),even:l(function(e,t){for(var o=0;o<t;o+=2)e.push(o);return e}),odd:l(function(e,t){for(var o=1;o<t;o+=2)e.push(o);return e}),lt:l(function(e,t,o){for(var n=o<0?o+t:o;--n>=0;)e.push(n);return e}),gt:l(function(e,t,o){for(var n=o<0?o+t:o;++n<t;)e.push(n);return e})}},S.pseudos.nth=S.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})S.pseudos[_]=u(_);return d.prototype=S.filters=S.pseudos,S.setFilters=new d,k=t.tokenize=function(e,o){var n,r,i,s,a,u,l,c=z[e+" "];if(c)return o?0:c.slice(0);for(a=e,u=[],l=S.preFilter;a;){n&&!(r=ue.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(i=[])),n=!1,(r=le.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ae," ")}),a=a.slice(n.length));for(s in S.filter)!(r=he[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),i.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return o?a.length:a?t.error(e):z(e,u).slice(0)},T=t.compile=function(e,t){var o,n=[],r=[],i=B[e+" "];if(!i){for(t||(t=k(e)),o=t.length;o--;)i=v(t[o]),i[F]?n.push(i):r.push(i);i=B(e,b(r,n)),i.selector=e}return i},I=t.select=function(e,t,o,n){var r,i,s,a,u,l="function"==typeof e&&e,d=!n&&k(e=l.selector||e);if(o=o||[],1===d.length){if(i=d[0]=d[0].slice(0),i.length>2&&"ID"===(s=i[0]).type&&w.getById&&9===t.nodeType&&D&&S.relative[i[1].type]){if(t=(S.find.ID(s.matches[0].replace(_e,we),t)||[])[0],!t)return o;l&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(r=he.needsContext.test(e)?0:i.length;r--&&(s=i[r],!S.relative[a=s.type]);)if((u=S.find[a])&&(n=u(s.matches[0].replace(_e,we),ve.test(i[0].type)&&c(t.parentNode)||t))){if(i.splice(r,1),e=n.length&&p(i),!e)return J.apply(o,n),o;break}}return(l||T(e,d))(n,t,!D,o,!t||ve.test(e)&&c(t.parentNode)||t),o},w.sortStable=F.split("").sort(W).join("")===F,w.detectDuplicates=!!x,O(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,o){if(!o)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,o){if(!o&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||i(te,function(e,t,o){var n;if(!o)return e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);ie.find=ce,ie.expr=ce.selectors,ie.expr[":"]=ie.expr.pseudos,ie.uniqueSort=ie.unique=ce.uniqueSort,ie.text=ce.getText,ie.isXMLDoc=ce.isXML,ie.contains=ce.contains;var de=function(e,t,o){for(var n=[],r=void 0!==o;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&ie(e).is(o))break;n.push(e)}return n},pe=function(e,t){for(var o=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&o.push(e);return o},he=ie.expr.match.needsContext,fe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,o){var n=t[0];return o&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ie.find.matchesSelector(n,e)?[n]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,o=this.length,n=[],r=this;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;t<o;t++)if(ie.contains(r[t],this))return!0}));for(t=0;t<o;t++)ie.find(e,r[t],n);return n=this.pushStack(o>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&he.test(e)?ie(e):e||[],!1).length}});var ge,ye=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ve=ie.fn.init=function(e,t,o){var n,r;if(!e)return this;if(o=o||ge,"string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ye.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||o).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),fe.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=K.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?void 0!==o.ready?o.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ve.prototype=ie.fn,ge=ie(K);var be=/^(?:parents|prev(?:Until|All))/,_e={children:!0,contents:!0,next:!0,prev:!0};ie.fn.extend({has:function(e){var t=ie(e,this),o=t.length;return this.filter(function(){for(var e=0;e<o;e++)if(ie.contains(this,t[e]))return!0})},closest:function(e,t){for(var o,n=0,r=this.length,i=[],s=he.test(e)||"string"!=typeof e?ie(e,t||this.context):0;n<r;n++)for(o=this[n];o&&o!==t;o=o.parentNode)if(o.nodeType<11&&(s?s.index(o)>-1:1===o.nodeType&&ie.find.matchesSelector(o,e))){i.push(o);break}return this.pushStack(i.length>1?ie.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?Z.call(ie(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.uniqueSort(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return de(e,"parentNode")},parentsUntil:function(e,t,o){return de(e,"parentNode",o)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return de(e,"nextSibling")},prevAll:function(e){return de(e,"previousSibling")},nextUntil:function(e,t,o){return de(e,"nextSibling",o)},prevUntil:function(e,t,o){return de(e,"previousSibling",o)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(o,n){var r=ie.map(this,t,o);return"Until"!==e.slice(-5)&&(n=o),n&&"string"==typeof n&&(r=ie.filter(n,r)),this.length>1&&(_e[e]||ie.uniqueSort(r),be.test(e)&&r.reverse()),this.pushStack(r)}});var we=/\S+/g;ie.Callbacks=function(e){e="string"==typeof e?i(e):ie.extend({},e);var t,o,n,r,s=[],a=[],u=-1,l=function(){for(r=e.once,n=t=!0;a.length;u=-1)for(o=a.shift();++u<s.length;)s[u].apply(o[0],o[1])===!1&&e.stopOnFalse&&(u=s.length,o=!1);e.memory||(o=!1),t=!1,r&&(s=o?[]:"")},c={add:function(){return s&&(o&&!t&&(u=s.length-1,a.push(o)),function n(t){ie.each(t,function(t,o){ie.isFunction(o)?e.unique&&c.has(o)||s.push(o):o&&o.length&&"string"!==ie.type(o)&&n(o)})}(arguments),o&&!t&&l()),this},remove:function(){return ie.each(arguments,function(e,t){for(var o;(o=ie.inArray(t,s,o))>-1;)s.splice(o,1),o<=u&&u--}),this},has:function(e){return e?ie.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=o="",this},disabled:function(){return!s},lock:function(){return r=a=[],o||(s=o=""),this},locked:function(){return!!r},fireWith:function(e,o){return r||(o=o||[],o=[e,o.slice?o.slice():o],a.push(o),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],o="pending",n={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(o){ie.each(t,function(t,i){var s=ie.isFunction(e[t])&&e[t];r[i[1]](function(){var e=s&&s.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[i[0]+"With"](this===n?o.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,n):n}},r={};return n.pipe=n.then,ie.each(t,function(e,i){var s=i[2],a=i[3];n[i[1]]=s.add,a&&s.add(function(){o=a},t[1^e][2].disable,t[2][2].lock),r[i[0]]=function(){return r[i[0]+"With"](this===r?n:this,arguments),this},r[i[0]+"With"]=s.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,o,n,r=0,i=Y.call(arguments),s=i.length,a=1!==s||e&&ie.isFunction(e.promise)?s:0,u=1===a?e:ie.Deferred(),l=function(e,o,n){return function(r){o[e]=this,n[e]=arguments.length>1?Y.call(arguments):r,n===t?u.notifyWith(o,n):--a||u.resolveWith(o,n)}};if(s>1)for(t=new Array(s),o=new Array(s),n=new Array(s);r<s;r++)i[r]&&ie.isFunction(i[r].promise)?i[r].promise().progress(l(r,o,t)).done(l(r,n,i)).fail(u.reject):--a;return a||u.resolveWith(n,i),u.promise()}});var Se;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){(e===!0?--ie.readyWait:ie.isReady)||(ie.isReady=!0,e!==!0&&--ie.readyWait>0||(Se.resolveWith(K,[ie]),ie.fn.triggerHandler&&(ie(K).triggerHandler("ready"),ie(K).off("ready"))))}}),ie.ready.promise=function(t){return Se||(Se=ie.Deferred(),"complete"===K.readyState||"loading"!==K.readyState&&!K.documentElement.doScroll?e.setTimeout(ie.ready):(K.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s))),Se.promise(t)},ie.ready.promise();var Ce=function(e,t,o,n,r,i,s){var a=0,u=e.length,l=null==o;if("object"===ie.type(o)){r=!0;for(a in o)Ce(e,t,a,o[a],!0,i,s)}else if(void 0!==n&&(r=!0,ie.isFunction(n)||(s=!0),l&&(s?(t.call(e,n),t=null):(l=t,t=function(e,t,o){return l.call(ie(e),o)})),t))for(;a<u;a++)t(e[a],o,s?n:n.call(e[a],a,t(e[a],o)));return r?e:l?t.call(e):u?t(e[0],o):i},Ee=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};a.uid=1,a.prototype={register:function(e,t){var o=t||{};return e.nodeType?e[this.expando]=o:Object.defineProperty(e,this.expando,{value:o,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ee(e))return{};var t=e[this.expando];return t||(t={},Ee(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,o){var n,r=this.cache(e);if("string"==typeof t)r[t]=o;else for(n in t)r[n]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,o){var n;return void 0===t||t&&"string"==typeof t&&void 0===o?(n=this.get(e,t),void 0!==n?n:this.get(e,ie.camelCase(t))):(this.set(e,t,o),void 0!==o?o:t)},remove:function(e,t){var o,n,r,i=e[this.expando];if(void 0!==i){if(void 0===t)this.register(e);else{ie.isArray(t)?n=t.concat(t.map(ie.camelCase)):(r=ie.camelCase(t),t in i?n=[t,r]:(n=r,n=n in i?[n]:n.match(we)||[])),o=n.length;for(;o--;)delete i[n[o]]}(void 0===t||ie.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ie.isEmptyObject(t)}};var ke=new a,Te=new a,Ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ae=/[A-Z]/g;ie.extend({hasData:function(e){return Te.hasData(e)||ke.hasData(e)},data:function(e,t,o){return Te.access(e,t,o)},removeData:function(e,t){Te.remove(e,t)},_data:function(e,t,o){return ke.access(e,t,o)},_removeData:function(e,t){ke.remove(e,t)}}),ie.fn.extend({data:function(e,t){var o,n,r,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(r=Te.get(i),1===i.nodeType&&!ke.get(i,"hasDataAttrs"))){for(o=s.length;o--;)s[o]&&(n=s[o].name,0===n.indexOf("data-")&&(n=ie.camelCase(n.slice(5)),u(i,n,r[n])));ke.set(i,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Te.set(this,e)}):Ce(this,function(t){var o,n;if(i&&void 0===t){if(o=Te.get(i,e)||Te.get(i,e.replace(Ae,"-$&").toLowerCase()),void 0!==o)return o;if(n=ie.camelCase(e),o=Te.get(i,n),void 0!==o)return o;if(o=u(i,n,void 0),void 0!==o)return o}else n=ie.camelCase(e),this.each(function(){var o=Te.get(this,n);Te.set(this,n,t),e.indexOf("-")>-1&&void 0!==o&&Te.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Te.remove(this,e)})}}),ie.extend({queue:function(e,t,o){var n;if(e)return t=(t||"fx")+"queue",n=ke.get(e,t),o&&(!n||ie.isArray(o)?n=ke.access(e,t,ie.makeArray(o)):n.push(o)),n||[]},dequeue:function(e,t){t=t||"fx";var o=ie.queue(e,t),n=o.length,r=o.shift(),i=ie._queueHooks(e,t),s=function(){ie.dequeue(e,t)};"inprogress"===r&&(r=o.shift(),n--),r&&("fx"===t&&o.unshift("inprogress"),delete i.stop,r.call(e,s,i)),!n&&i&&i.empty.fire()},_queueHooks:function(e,t){var o=t+"queueHooks";return ke.get(e,o)||ke.access(e,o,{empty:ie.Callbacks("once memory").add(function(){ke.remove(e,[t+"queue",o])})})}}),ie.fn.extend({queue:function(e,t){var o=2;return"string"!=typeof e&&(t=e,e="fx",o--),arguments.length<o?ie.queue(this[0],e):void 0===t?this:this.each(function(){var o=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==o[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var o,n=1,r=ie.Deferred(),i=this,s=this.length,a=function(){--n||r.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)o=ke.get(i[s],e+"queueHooks"),o&&o.empty&&(n++,o.empty.add(a));return a(),r.promise(t)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),Oe=["Top","Right","Bottom","Left"],Re=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},Pe=/^(?:checkbox|radio)$/i,De=/<([\w:-]+)/,Me=/^$|\/(?:java|ecma)script/i,Ne={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ne.optgroup=Ne.option,Ne.tbody=Ne.tfoot=Ne.colgroup=Ne.caption=Ne.thead,Ne.th=Ne.td;var Le=/<|&#?\w+;/;!function(){var e=K.createDocumentFragment(),t=e.appendChild(K.createElement("div")),o=K.createElement("input");o.setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),t.appendChild(o),ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var qe=/^key/,Fe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ue=/^([^.]*)(?:\.(.+)|)/;ie.event={global:{},add:function(e,t,o,n,r){var i,s,a,u,l,c,d,p,h,f,m,g=ke.get(e);if(g)for(o.handler&&(i=o,o=i.handler,r=i.selector),o.guid||(o.guid=ie.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(t){return"undefined"!=typeof ie&&ie.event.triggered!==t.type?ie.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(we)||[""],l=t.length;l--;)a=Ue.exec(t[l])||[],h=m=a[1],f=(a[2]||"").split(".").sort(),h&&(d=ie.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=ie.event.special[h]||{},c=ie.extend({type:h,origType:m,data:n,handler:o,guid:o.guid,selector:r,needsContext:r&&ie.expr.match.needsContext.test(r),namespace:f.join(".")},i),(p=u[h])||(p=u[h]=[],p.delegateCount=0,d.setup&&d.setup.call(e,n,f,s)!==!1||e.addEventListener&&e.addEventListener(h,s)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=o.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),ie.event.global[h]=!0)},remove:function(e,t,o,n,r){var i,s,a,u,l,c,d,p,h,f,m,g=ke.hasData(e)&&ke.get(e);if(g&&(u=g.events)){for(t=(t||"").match(we)||[""],l=t.length;l--;)if(a=Ue.exec(t[l])||[],h=m=a[1],f=(a[2]||"").split(".").sort(),h){for(d=ie.event.special[h]||{},h=(n?d.delegateType:d.bindType)||h,p=u[h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=p.length;i--;)c=p[i],!r&&m!==c.origType||o&&o.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(p.splice(i,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));s&&!p.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||ie.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)ie.event.remove(e,h+t[l],o,n,!0);ie.isEmptyObject(u)&&ke.remove(e,"handle events")}},dispatch:function(e){e=ie.event.fix(e);var t,o,n,r,i,s=[],a=Y.call(arguments),u=(ke.get(this,"events")||{})[e.type]||[],l=ie.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=ie.event.handlers.call(this,e,u),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(i.namespace)||(e.handleObj=i,e.data=i.data,n=((ie.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var o,n,r,i,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(n=[],o=0;o<a;o++)i=t[o],r=i.selector+" ",void 0===n[r]&&(n[r]=i.needsContext?ie(r,this).index(u)>-1:ie.find(r,this,null,[u]).length),n[r]&&n.push(i);n.length&&s.push({elem:u,handlers:n})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){
var o,n,r,i=t.button;return null==e.pageX&&null!=t.clientX&&(o=e.target.ownerDocument||K,n=o.documentElement,r=o.body,e.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[ie.expando])return e;var t,o,n,r=e.type,i=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Fe.test(r)?this.mouseHooks:qe.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,e=new ie.Event(i),t=n.length;t--;)o=n[t],e[o]=i[o];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===m()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ie.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ie.removeEvent=function(e,t,o){e.removeEventListener&&e.removeEventListener(t,o)},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:f):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={constructor:ie.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var o,n=this,r=e.relatedTarget,i=e.handleObj;return r&&(r===n||ie.contains(n,r))||(e.type=i.origType,o=i.handler.apply(this,arguments),e.type=t),o}}}),ie.fn.extend({on:function(e,t,o,n){return g(this,e,t,o,n)},one:function(e,t,o,n){return g(this,e,t,o,n,1)},off:function(e,t,o){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,ie(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return t!==!1&&"function"!=typeof t||(o=t,t=void 0),o===!1&&(o=f),this.each(function(){ie.event.remove(this,e,o,t)})}});var He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ve=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^true\/(.*)/,Be=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ie.extend({htmlPrefilter:function(e){return e.replace(He,"<$1></$2>")},clone:function(e,t,o){var n,r,i,s,a=e.cloneNode(!0),u=ie.contains(e.ownerDocument,e);if(!(ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(s=c(a),i=c(e),n=0,r=i.length;n<r;n++)w(i[n],s[n]);if(t)if(o)for(i=i||c(e),s=s||c(a),n=0,r=i.length;n<r;n++)_(i[n],s[n]);else _(e,a);return s=c(a,"script"),s.length>0&&d(s,!u&&c(e,"script")),a},cleanData:function(e){for(var t,o,n,r=ie.event.special,i=0;void 0!==(o=e[i]);i++)if(Ee(o)){if(t=o[ke.expando]){if(t.events)for(n in t.events)r[n]?ie.event.remove(o,n):ie.removeEvent(o,n,t.handle);o[ke.expando]=void 0}o[Te.expando]&&(o[Te.expando]=void 0)}}}),ie.fn.extend({domManip:S,detach:function(e){return C(this,e,!0)},remove:function(e){return C(this,e)},text:function(e){return Ce(this,function(e){return void 0===e?ie.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ie.cleanData(c(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return Ce(this,function(e){var t=this[0]||{},o=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ve.test(e)&&!Ne[(De.exec(e)||["",""])[1].toLowerCase()]){e=ie.htmlPrefilter(e);try{for(;o<n;o++)t=this[o]||{},1===t.nodeType&&(ie.cleanData(c(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return S(this,arguments,function(t){var o=this.parentNode;ie.inArray(this,e)<0&&(ie.cleanData(c(this)),o&&o.replaceChild(t,this))},e)}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var o,n=[],r=ie(e),i=r.length-1,s=0;s<=i;s++)o=s===i?this:this.clone(!0),ie(r[s])[t](o),J.apply(n,o.get());return this.pushStack(n)}});var We,Ge={HTML:"block",BODY:"block"},Qe=/^margin/,Ke=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),Ye=function(t){var o=t.ownerDocument.defaultView;return o&&o.opener||(o=e),o.getComputedStyle(t)},Xe=function(e,t,o,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=o.apply(e,n||[]);for(i in t)e.style[i]=s[i];return r},Je=K.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Je.appendChild(s);var t=e.getComputedStyle(a);o="1%"!==t.top,i="2px"===t.marginLeft,n="4px"===t.width,a.style.marginRight="50%",r="4px"===t.marginRight,Je.removeChild(s)}var o,n,r,i,s=K.createElement("div"),a=K.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ie.extend(ne,{pixelPosition:function(){return t(),o},boxSizingReliable:function(){return null==n&&t(),n},pixelMarginRight:function(){return null==n&&t(),r},reliableMarginLeft:function(){return null==n&&t(),i},reliableMarginRight:function(){var t,o=a.appendChild(K.createElement("div"));return o.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",a.style.width="1px",Je.appendChild(s),t=!parseFloat(e.getComputedStyle(o).marginRight),Je.removeChild(s),a.removeChild(o),t}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},ot=["Webkit","O","Moz","ms"],nt=K.createElement("div").style;ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var o=T(e,"opacity");return""===o?"1":o}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,o,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,i,s,a=ie.camelCase(t),u=e.style;return t=ie.cssProps[a]||(ie.cssProps[a]=A(a)||a),s=ie.cssHooks[t]||ie.cssHooks[a],void 0===o?s&&"get"in s&&void 0!==(r=s.get(e,!1,n))?r:u[t]:(i=typeof o,"string"===i&&(r=xe.exec(o))&&r[1]&&(o=l(e,t,r),i="number"),null!=o&&o===o&&("number"===i&&(o+=r&&r[3]||(ie.cssNumber[a]?"":"px")),ne.clearCloneStyle||""!==o||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(o=s.set(e,o,n))||(u[t]=o)),void 0)}},css:function(e,t,o,n){var r,i,s,a=ie.camelCase(t);return t=ie.cssProps[a]||(ie.cssProps[a]=A(a)||a),s=ie.cssHooks[t]||ie.cssHooks[a],s&&"get"in s&&(r=s.get(e,!0,o)),void 0===r&&(r=T(e,t,n)),"normal"===r&&t in tt&&(r=tt[t]),""===o||o?(i=parseFloat(r),o===!0||isFinite(i)?i||0:r):r}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,o,n){if(o)return Ze.test(ie.css(e,"display"))&&0===e.offsetWidth?Xe(e,et,function(){return O(e,t,n)}):O(e,t,n)},set:function(e,o,n){var r,i=n&&Ye(e),s=n&&x(e,t,n,"border-box"===ie.css(e,"boxSizing",!1,i),i);return s&&(r=xe.exec(o))&&"px"!==(r[3]||"px")&&(e.style[t]=o,o=ie.css(e,t)),$(e,o,s)}}}),ie.cssHooks.marginLeft=I(ne.reliableMarginLeft,function(e,t){if(t)return(parseFloat(T(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ie.cssHooks.marginRight=I(ne.reliableMarginRight,function(e,t){if(t)return Xe(e,{display:"inline-block"},T,[e,"marginRight"])}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(o){for(var n=0,r={},i="string"==typeof o?o.split(" "):[o];n<4;n++)r[e+Oe[n]+t]=i[n]||i[n-2]||i[0];return r}},Qe.test(e)||(ie.cssHooks[e+t].set=$)}),ie.fn.extend({css:function(e,t){return Ce(this,function(e,t,o){var n,r,i={},s=0;if(ie.isArray(t)){for(n=Ye(e),r=t.length;s<r;s++)i[t[s]]=ie.css(e,t[s],!1,n);return i}return void 0!==o?ie.style(e,t,o):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return R(this,!0)},hide:function(){return R(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Re(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=P,P.prototype={constructor:P,init:function(e,t,o,n,r,i){this.elem=e,this.prop=o,this.easing=r||ie.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=i||(ie.cssNumber[o]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,o=P.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ie.cssProps[e.prop]]&&!ie.cssHooks[e.prop]?e.elem[e.prop]=e.now:ie.style(e.elem,e.prop,e.now+e.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ie.fx=P.prototype.init,ie.fx.step={};var rt,it,st=/^(?:toggle|show|hide)$/,at=/queueHooks$/;ie.Animation=ie.extend(F,{tweeners:{"*":[function(e,t){var o=this.createTween(e,t);return l(o.elem,e,xe.exec(t),o),o}]},tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.match(we);for(var o,n=0,r=e.length;n<r;n++)o=e[n],F.tweeners[o]=F.tweeners[o]||[],F.tweeners[o].unshift(t)},prefilters:[L],prefilter:function(e,t){t?F.prefilters.unshift(e):F.prefilters.push(e)}}),ie.speed=function(e,t,o){var n=e&&"object"==typeof e?ie.extend({},e):{complete:o||!o&&t||ie.isFunction(e)&&e,duration:e,easing:o&&t||t&&!ie.isFunction(t)&&t};return n.duration=ie.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ie.fx.speeds?ie.fx.speeds[n.duration]:ie.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){ie.isFunction(n.old)&&n.old.call(this),n.queue&&ie.dequeue(this,n.queue)},n},ie.fn.extend({fadeTo:function(e,t,o,n){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,o,n)},animate:function(e,t,o,n){var r=ie.isEmptyObject(e),i=ie.speed(t,o,n),s=function(){var t=F(this,ie.extend({},e),i);(r||ke.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||i.queue===!1?this.each(s):this.queue(i.queue,s)},stop:function(e,t,o){var n=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof e&&(o=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",i=ie.timers,s=ke.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&at.test(r)&&n(s[r]);for(r=i.length;r--;)i[r].elem!==this||null!=e&&i[r].queue!==e||(i[r].anim.stop(o),t=!1,i.splice(r,1));!t&&o||ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,o=ke.get(this),n=o[e+"queue"],r=o[e+"queueHooks"],i=ie.timers,s=n?n.length:0;for(o.finish=!0,ie.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete o.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var o=ie.fn[t];ie.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(M(t,!0),e,n,r)}}),ie.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,o,n){return this.animate(t,e,o,n)}}),ie.timers=[],ie.fx.tick=function(){var e,t=0,o=ie.timers;for(rt=ie.now();t<o.length;t++)e=o[t],e()||o[t]!==e||o.splice(t--,1);o.length||ie.fx.stop(),rt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){it||(it=e.setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){e.clearInterval(it),it=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(t,o){return t=ie.fx?ie.fx.speeds[t]||t:t,o=o||"fx",this.queue(o,function(o,n){var r=e.setTimeout(o,t);n.stop=function(){e.clearTimeout(r)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),o=t.appendChild(K.createElement("option"));e.type="checkbox",ne.checkOn=""!==e.value,ne.optSelected=o.selected,t.disabled=!0,ne.optDisabled=!o.disabled,e=K.createElement("input"),e.value="t",e.type="radio",ne.radioValue="t"===e.value}();var ut,lt=ie.expr.attrHandle;ie.fn.extend({attr:function(e,t){return Ce(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,o){var n,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return"undefined"==typeof e.getAttribute?ie.prop(e,t,o):(1===i&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?ut:void 0)),void 0!==o?null===o?void ie.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,o,t))?n:(e.setAttribute(t,o+""),o):r&&"get"in r&&null!==(n=r.get(e,t))?n:(n=ie.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var o=e.value;return e.setAttribute("type",t),o&&(e.value=o),t}}}},removeAttr:function(e,t){var o,n,r=0,i=t&&t.match(we);if(i&&1===e.nodeType)for(;o=i[r++];)n=ie.propFix[o]||o,ie.expr.match.bool.test(o)&&(e[n]=!1),e.removeAttribute(o)}}),ut={set:function(e,t,o){return t===!1?ie.removeAttr(e,o):e.setAttribute(o,o),o}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var o=lt[t]||ie.find.attr;lt[t]=function(e,t,n){var r,i;return n||(i=lt[t],lt[t]=r,r=null!=o(e,t,n)?t.toLowerCase():null,lt[t]=i),r}});var ct=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return Ce(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ie.propFix[e]||e]})}}),ie.extend({prop:function(e,t,o){var n,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&ie.isXMLDoc(e)||(t=ie.propFix[t]||t,r=ie.propHooks[t]),void 0!==o?r&&"set"in r&&void 0!==(n=r.set(e,o,t))?n:e[t]=o:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,o,n,r,i,s,a,u=0;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(we)||[];o=this[u++];)if(r=U(o),n=1===o.nodeType&&(" "+r+" ").replace(pt," ")){for(s=0;i=t[s++];)n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=ie.trim(n),r!==a&&o.setAttribute("class",a)}return this},removeClass:function(e){var t,o,n,r,i,s,a,u=0;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(we)||[];o=this[u++];)if(r=U(o),n=1===o.nodeType&&(" "+r+" ").replace(pt," ")){for(s=0;i=t[s++];)for(;n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");a=ie.trim(n),r!==a&&o.setAttribute("class",a)}return this},toggleClass:function(e,t){var o=typeof e;return"boolean"==typeof t&&"string"===o?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(o){ie(this).toggleClass(e.call(this,o,U(this),t),t)}):this.each(function(){var t,n,r,i;if("string"===o)for(n=0,r=ie(this),i=e.match(we)||[];t=i[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==o||(t=U(this),t&&ke.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":ke.get(this,"__className__")||""))})},hasClass:function(e){var t,o,n=0;for(t=" "+e+" ";o=this[n++];)if(1===o.nodeType&&(" "+U(o)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var ht=/\r/g,ft=/[\x20\t\r\n\f]+/g;ie.fn.extend({val:function(e){var t,o,n,r=this[0];{if(arguments.length)return n=ie.isFunction(e),this.each(function(o){var r;1===this.nodeType&&(r=n?e.call(this,o,ie(this).val()):e,null==r?r="":"number"==typeof r?r+="":ie.isArray(r)&&(r=ie.map(r,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=ie.valHooks[r.type]||ie.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(o=t.get(r,"value"))?o:(o=r.value,"string"==typeof o?o.replace(ht,""):null==o?"":o)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e)).replace(ft," ")}},select:{get:function(e){for(var t,o,n=e.options,r=e.selectedIndex,i="select-one"===e.type||r<0,s=i?null:[],a=i?r+1:n.length,u=r<0?a:i?r:0;u<a;u++)if(o=n[u],(o.selected||u===r)&&(ne.optDisabled?!o.disabled:null===o.getAttribute("disabled"))&&(!o.parentNode.disabled||!ie.nodeName(o.parentNode,"optgroup"))){if(t=ie(o).val(),i)return t;s.push(t)}return s},set:function(e,t){for(var o,n,r=e.options,i=ie.makeArray(t),s=r.length;s--;)n=r[s],(n.selected=ie.inArray(ie.valHooks.option.get(n),i)>-1)&&(o=!0);return o||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){if(ie.isArray(t))return e.checked=ie.inArray(ie(e).val(),t)>-1}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;ie.extend(ie.event,{trigger:function(t,o,n,r){var i,s,a,u,l,c,d,p=[n||K],h=oe.call(t,"type")?t.type:t,f=oe.call(t,"namespace")?t.namespace.split("."):[];if(s=a=n=n||K,3!==n.nodeType&&8!==n.nodeType&&!mt.test(h+ie.event.triggered)&&(h.indexOf(".")>-1&&(f=h.split("."),h=f.shift(),f.sort()),l=h.indexOf(":")<0&&"on"+h,t=t[ie.expando]?t:new ie.Event(h,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),o=null==o?[t]:ie.makeArray(o,[t]),d=ie.event.special[h]||{},r||!d.trigger||d.trigger.apply(n,o)!==!1)){if(!r&&!d.noBubble&&!ie.isWindow(n)){for(u=d.delegateType||h,mt.test(u+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||K)&&p.push(a.defaultView||a.parentWindow||e)}for(i=0;(s=p[i++])&&!t.isPropagationStopped();)t.type=i>1?u:d.bindType||h,c=(ke.get(s,"events")||{})[t.type]&&ke.get(s,"handle"),c&&c.apply(s,o),c=l&&s[l],c&&c.apply&&Ee(s)&&(t.result=c.apply(s,o),t.result===!1&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),o)!==!1||!Ee(n)||l&&ie.isFunction(n[h])&&!ie.isWindow(n)&&(a=n[l],a&&(n[l]=null),ie.event.triggered=h,n[h](),ie.event.triggered=void 0,a&&(n[l]=a)),t.result}},simulate:function(e,t,o){var n=ie.extend(new ie.Event,o,{type:e,isSimulated:!0});ie.event.trigger(n,null,t)}}),ie.fn.extend({trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var o=this[0];if(o)return ie.event.trigger(e,t,o,!0)}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,o){return arguments.length>0?this.on(t,null,e,o):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ne.focusin="onfocusin"in e,ne.focusin||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var o=function(e){ie.event.simulate(t,e.target,ie.event.fix(e))};ie.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=ke.access(n,t);r||n.addEventListener(e,o,!0),ke.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=ke.access(n,t)-1;r?ke.access(n,t,r):(n.removeEventListener(e,o,!0),ke.remove(n,t))}}});var gt=e.location,yt=ie.now(),vt=/\?/;ie.parseJSON=function(e){return JSON.parse(e+"")},ie.parseXML=function(t){var o;if(!t||"string"!=typeof t)return null;try{o=(new e.DOMParser).parseFromString(t,"text/xml")}catch(n){o=void 0}return o&&!o.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),o};var bt=/#.*$/,_t=/([?&])_=[^&]*/,wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,St=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ct=/^(?:GET|HEAD)$/,Et=/^\/\//,kt={},Tt={},It="*/".concat("*"),At=K.createElement("a");At.href=gt.href,ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:St.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?j(j(e,ie.ajaxSettings),t):j(ie.ajaxSettings,e)},ajaxPrefilter:H(kt),ajaxTransport:H(Tt),ajax:function(t,o){function n(t,o,n,a){var l,d,v,b,w,C=o;2!==_&&(_=2,u&&e.clearTimeout(u),r=void 0,s=a||"",S.readyState=t>0?4:0,l=t>=200&&t<300||304===t,n&&(b=z(p,S,n)),b=B(p,b,S,l),l?(p.ifModified&&(w=S.getResponseHeader("Last-Modified"),w&&(ie.lastModified[i]=w),w=S.getResponseHeader("etag"),w&&(ie.etag[i]=w)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=b.state,d=b.data,v=b.error,l=!v)):(v=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(o||C)+"",l?m.resolveWith(h,[d,C,S]):m.rejectWith(h,[S,C,v]),S.statusCode(y),y=void 0,c&&f.trigger(l?"ajaxSuccess":"ajaxError",[S,p,l?d:v]),g.fireWith(h,[S,C]),c&&(f.trigger("ajaxComplete",[S,p]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof t&&(o=t,t=void 0),o=o||{};var r,i,s,a,u,l,c,d,p=ie.ajaxSetup({},o),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?ie(h):ie.event,m=ie.Deferred(),g=ie.Callbacks("once memory"),y=p.statusCode||{},v={},b={},_=0,w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!a)for(a={};t=wt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?s:null},setRequestHeader:function(e,t){var o=e.toLowerCase();return _||(e=b[o]=b[o]||e,v[e]=t),this},overrideMimeType:function(e){return _||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(_<2)for(t in e)y[t]=[y[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),n(0,t),this}};if(m.promise(S).complete=g.add,S.success=S.done,S.error=S.fail,p.url=((t||p.url||gt.href)+"").replace(bt,"").replace(Et,gt.protocol+"//"),p.type=o.method||o.type||p.method||p.type,p.dataTypes=ie.trim(p.dataType||"*").toLowerCase().match(we)||[""],null==p.crossDomain){l=K.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=At.protocol+"//"+At.host!=l.protocol+"//"+l.host}catch(C){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ie.param(p.data,p.traditional)),V(kt,p,o,S),2===_)return S;c=ie.event&&p.global,c&&0===ie.active++&&ie.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ct.test(p.type),i=p.url,p.hasContent||(p.data&&(i=p.url+=(vt.test(i)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=_t.test(i)?i.replace(_t,"$1_="+yt++):i+(vt.test(i)?"&":"?")+"_="+yt++)),p.ifModified&&(ie.lastModified[i]&&S.setRequestHeader("If-Modified-Since",ie.lastModified[i]),ie.etag[i]&&S.setRequestHeader("If-None-Match",ie.etag[i])),(p.data&&p.hasContent&&p.contentType!==!1||o.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+It+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(h,S,p)===!1||2===_))return S.abort();w="abort";for(d in{success:1,error:1,complete:1})S[d](p[d]);if(r=V(Tt,p,o,S)){if(S.readyState=1,c&&f.trigger("ajaxSend",[S,p]),2===_)return S;p.async&&p.timeout>0&&(u=e.setTimeout(function(){S.abort("timeout")},p.timeout));try{_=1,r.send(v,n)}catch(C){if(!(_<2))throw C;n(-1,C)}}else n(-1,"No Transport");return S},getJSON:function(e,t,o){return ie.get(e,t,o,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,o,n,r){return ie.isFunction(o)&&(r=r||n,n=o,o=void 0),ie.ajax(ie.extend({url:e,type:t,dataType:r,data:o,success:n},ie.isPlainObject(e)&&e))}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){var t;return ie.isFunction(e)?this.each(function(t){ie(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ie(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),o=t.contents();o.length?o.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(o){ie(this).wrapAll(t?e.call(this,o):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return!ie.expr.filters.visible(e)},ie.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var $t=/%20/g,xt=/\[\]$/,Ot=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var o,n=[],r=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){r(this.name,this.value)});else for(o in e)W(o,e[o],t,r);return n.join("&").replace($t,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Pt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!Pe.test(e))}).map(function(e,t){var o=ie(this).val();return null==o?null:ie.isArray(o)?ie.map(o,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:o.replace(Ot,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Dt={0:200,1223:204},Mt=ie.ajaxSettings.xhr();ne.cors=!!Mt&&"withCredentials"in Mt,ne.ajax=Mt=!!Mt,ie.ajaxTransport(function(t){var o,n;if(ne.cors||Mt&&!t.crossDomain)return{send:function(r,i){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);o=function(e){return function(){o&&(o=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(Dt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=o(),n=a.onerror=o("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){o&&n()})},o=o("abort");try{a.send(t.hasContent&&t.data||null)}catch(u){if(o)throw u}},abort:function(){o&&o()}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,o;return{send:function(n,r){t=ie("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",o=function(e){t.remove(),o=null,e&&r("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){o&&o()}}}});var Nt=[],Lt=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Nt.pop()||ie.expando+"_"+yt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,o,n){var r,i,s,a=t.jsonp!==!1&&(Lt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Lt,"$1"+r):t.jsonp!==!1&&(t.url+=(vt.test(t.url)?"&":"?")+t.jsonp+"="+r),
t.converters["script json"]=function(){return s||ie.error(r+" was not called"),s[0]},t.dataTypes[0]="json",i=e[r],e[r]=function(){s=arguments},n.always(function(){void 0===i?ie(e).removeProp(r):e[r]=i,t[r]&&(t.jsonpCallback=o.jsonpCallback,Nt.push(r)),s&&ie.isFunction(i)&&i(s[0]),s=i=void 0}),"script"}),ie.parseHTML=function(e,t,o){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(o=t,t=!1),t=t||K;var n=fe.exec(e),r=!o&&[];return n?[t.createElement(n[1])]:(n=p([e],t,r),r&&r.length&&ie(r).remove(),ie.merge([],n.childNodes))};var qt=ie.fn.load;ie.fn.load=function(e,t,o){if("string"!=typeof e&&qt)return qt.apply(this,arguments);var n,r,i,s=this,a=e.indexOf(" ");return a>-1&&(n=ie.trim(e.slice(a)),e=e.slice(0,a)),ie.isFunction(t)?(o=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&ie.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){i=arguments,s.html(n?ie("<div>").append(ie.parseHTML(e)).find(n):e)}).always(o&&function(e,t){s.each(function(){o.apply(this,i||[e.responseText,t,e])})}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length},ie.offset={setOffset:function(e,t,o){var n,r,i,s,a,u,l,c=ie.css(e,"position"),d=ie(e),p={};"static"===c&&(e.style.position="relative"),a=d.offset(),i=ie.css(e,"top"),u=ie.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(i+u).indexOf("auto")>-1,l?(n=d.position(),s=n.top,r=n.left):(s=parseFloat(i)||0,r=parseFloat(u)||0),ie.isFunction(t)&&(t=t.call(e,o,ie.extend({},a))),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+r),"using"in t?t.using.call(e,p):d.css(p)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,o,n=this[0],r={top:0,left:0},i=n&&n.ownerDocument;if(i)return t=i.documentElement,ie.contains(t,n)?(r=n.getBoundingClientRect(),o=G(i),{top:r.top+o.pageYOffset-t.clientTop,left:r.left+o.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,o=this[0],n={top:0,left:0};return"fixed"===ie.css(o,"position")?t=o.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(o,"marginTop",!0),left:t.left-n.left-ie.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||Je})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var o="pageYOffset"===t;ie.fn[e]=function(n){return Ce(this,function(e,n,r){var i=G(e);return void 0===r?i?i[t]:e[n]:void(i?i.scrollTo(o?i.pageXOffset:r,o?r:i.pageYOffset):e[n]=r)},e,n,arguments.length)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=I(ne.pixelPosition,function(e,o){if(o)return o=T(e,t),Ke.test(o)?ie(e).position()[t]+"px":o})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(o,n){ie.fn[n]=function(n,r){var i=arguments.length&&(o||"boolean"!=typeof n),s=o||(n===!0||r===!0?"margin":"border");return Ce(this,function(t,o,n){var r;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?ie.css(t,o,s):ie.style(t,o,n,s)},t,i?n:void 0,i,null)}})}),ie.fn.extend({bind:function(e,t,o){return this.on(e,null,t,o)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,o,n){return this.on(t,e,o,n)},undelegate:function(e,t,o){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",o)},size:function(){return this.length}}),ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var Ft=e.jQuery,Ut=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=Ut),t&&e.jQuery===ie&&(e.jQuery=Ft),ie},t||(e.jQuery=e.$=ie),ie})},{}],372:[function(e,t,o){(function(e){function n(e,t){return e.set(t[0],t[1]),e}function r(e,t){return e.add(t),e}function i(e,t){for(var o=-1,n=e?e.length:0;++o<n&&t(e[o],o,e)!==!1;);return e}function s(e,t){for(var o=-1,n=t.length,r=e.length;++o<n;)e[r+o]=t[o];return e}function a(e,t,o,n){var r=-1,i=e?e.length:0;for(n&&i&&(o=e[++r]);++r<i;)o=t(o,e[r],r,e);return o}function u(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n}function l(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(o){}return t}function d(e){var t=-1,o=Array(e.size);return e.forEach(function(e,n){o[++t]=[n,e]}),o}function p(e,t){return function(o){return e(t(o))}}function h(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=e}),o}function f(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function m(){this.__data__=Ft?Ft(null):{}}function g(e){return this.has(e)&&delete this.__data__[e]}function y(e){var t=this.__data__;if(Ft){var o=t[e];return o===$e?void 0:o}return wt.call(t,e)?t[e]:void 0}function v(e){var t=this.__data__;return Ft?void 0!==t[e]:wt.call(t,e)}function b(e,t){var o=this.__data__;return o[e]=Ft&&void 0===t?$e:t,this}function _(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function w(){this.__data__=[]}function S(e){var t=this.__data__,o=U(t,e);if(o<0)return!1;var n=t.length-1;return o==n?t.pop():xt.call(t,o,1),!0}function C(e){var t=this.__data__,o=U(t,e);return o<0?void 0:t[o][1]}function E(e){return U(this.__data__,e)>-1}function k(e,t){var o=this.__data__,n=U(o,e);return n<0?o.push([e,t]):o[n][1]=t,this}function T(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function I(){this.__data__={hash:new f,map:new(Mt||_),string:new f}}function A(e){return se(this,e)["delete"](e)}function $(e){return se(this,e).get(e)}function x(e){return se(this,e).has(e)}function O(e,t){return se(this,e).set(e,t),this}function R(e){this.__data__=new _(e)}function P(){this.__data__=new _}function D(e){return this.__data__["delete"](e)}function M(e){return this.__data__.get(e)}function N(e){return this.__data__.has(e)}function L(e,t){var o=this.__data__;if(o instanceof _){var n=o.__data__;if(!Mt||n.length<Ae-1)return n.push([e,t]),this;o=this.__data__=new T(n)}return o.set(e,t),this}function q(e,t){var o=Kt(e)||ve(e)?u(e.length,String):[],n=o.length,r=!!n;for(var i in e)!t&&!wt.call(e,i)||r&&("length"==i||de(i,n))||o.push(i);return o}function F(e,t,o){var n=e[t];wt.call(e,t)&&ye(n,o)&&(void 0!==o||t in e)||(e[t]=o)}function U(e,t){for(var o=e.length;o--;)if(ye(e[o][0],t))return o;return-1}function H(e,t){return e&&ne(t,ke(t),e)}function V(e,t,o,n,r,s,a){var u;if(n&&(u=s?n(e,r,s,a):n(e)),void 0!==u)return u;if(!Ce(e))return e;var l=Kt(e);if(l){if(u=ue(e),!t)return oe(e,u)}else{var d=Qt(e),p=d==Ne||d==Le;if(Yt(e))return Q(e,t);if(d==Ue||d==Oe||p&&!s){if(c(e))return s?e:{};if(u=le(p?{}:e),!t)return re(e,H(u,e))}else{if(!ut[d])return s?e:{};u=ce(e,d,V,t)}}a||(a=new R);var h=a.get(e);if(h)return h;if(a.set(e,u),!l)var f=o?ie(e):ke(e);return i(f||e,function(r,i){f&&(i=r,r=e[i]),F(u,i,V(r,t,o,n,i,e,a))}),u}function j(e){return Ce(e)?At(e):{}}function z(e,t,o){var n=t(e);return Kt(e)?n:s(n,o(e))}function B(e){return St.call(e)}function W(e){if(!Ce(e)||he(e))return!1;var t=we(e)||c(e)?Ct:st;return t.test(me(e))}function G(e){if(!fe(e))return Pt(e);var t=[];for(var o in Object(e))wt.call(e,o)&&"constructor"!=o&&t.push(o);return t}function Q(e,t){if(t)return e.slice();var o=new e.constructor(e.length);return e.copy(o),o}function K(e){var t=new e.constructor(e.byteLength);return new Tt(t).set(new Tt(e)),t}function Y(e,t){var o=t?K(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function X(e,t,o){var r=t?o(d(e),!0):d(e);return a(r,n,new e.constructor)}function J(e){var t=new e.constructor(e.source,it.exec(e));return t.lastIndex=e.lastIndex,t}function Z(e,t,o){var n=t?o(h(e),!0):h(e);return a(n,r,new e.constructor)}function ee(e){return Wt?Object(Wt.call(e)):{}}function te(e,t){var o=t?K(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function oe(e,t){var o=-1,n=e.length;for(t||(t=Array(n));++o<n;)t[o]=e[o];return t}function ne(e,t,o,n){o||(o={});for(var r=-1,i=t.length;++r<i;){var s=t[r],a=n?n(o[s],e[s],s,o,e):void 0;F(o,s,void 0===a?e[s]:a)}return o}function re(e,t){return ne(e,Gt(e),t)}function ie(e){return z(e,ke,Gt)}function se(e,t){var o=e.__data__;return pe(t)?o["string"==typeof t?"string":"hash"]:o.map}function ae(e,t){var o=l(e,t);return W(o)?o:void 0}function ue(e){var t=e.length,o=e.constructor(t);return t&&"string"==typeof e[0]&&wt.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function le(e){return"function"!=typeof e.constructor||fe(e)?{}:j(It(e))}function ce(e,t,o,n){var r=e.constructor;switch(t){case Ge:return K(e);case Pe:case De:return new r((+e));case Qe:return Y(e,n);case Ke:case Ye:case Xe:case Je:case Ze:case et:case tt:case ot:case nt:return te(e,n);case qe:return X(e,n,o);case Fe:case ze:return new r(e);case Ve:return J(e);case je:return Z(e,n,o);case Be:return ee(e)}}function de(e,t){return t=null==t?xe:t,!!t&&("number"==typeof e||at.test(e))&&e>-1&&e%1==0&&e<t}function pe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function he(e){return!!bt&&bt in e}function fe(e){var t=e&&e.constructor,o="function"==typeof t&&t.prototype||yt;return e===o}function me(e){if(null!=e){try{return _t.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ge(e){return V(e,!0,!0)}function ye(e,t){return e===t||e!==e&&t!==t}function ve(e){return _e(e)&&wt.call(e,"callee")&&(!$t.call(e,"callee")||St.call(e)==Oe)}function be(e){return null!=e&&Se(e.length)&&!we(e)}function _e(e){return Ee(e)&&be(e)}function we(e){var t=Ce(e)?St.call(e):"";return t==Ne||t==Le}function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=xe}function Ce(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ee(e){return!!e&&"object"==typeof e}function ke(e){return be(e)?q(e):G(e)}function Te(){return[]}function Ie(){return!1}var Ae=200,$e="__lodash_hash_undefined__",xe=9007199254740991,Oe="[object Arguments]",Re="[object Array]",Pe="[object Boolean]",De="[object Date]",Me="[object Error]",Ne="[object Function]",Le="[object GeneratorFunction]",qe="[object Map]",Fe="[object Number]",Ue="[object Object]",He="[object Promise]",Ve="[object RegExp]",je="[object Set]",ze="[object String]",Be="[object Symbol]",We="[object WeakMap]",Ge="[object ArrayBuffer]",Qe="[object DataView]",Ke="[object Float32Array]",Ye="[object Float64Array]",Xe="[object Int8Array]",Je="[object Int16Array]",Ze="[object Int32Array]",et="[object Uint8Array]",tt="[object Uint8ClampedArray]",ot="[object Uint16Array]",nt="[object Uint32Array]",rt=/[\\^$.*+?()[\]{}|]/g,it=/\w*$/,st=/^\[object .+?Constructor\]$/,at=/^(?:0|[1-9]\d*)$/,ut={};ut[Oe]=ut[Re]=ut[Ge]=ut[Qe]=ut[Pe]=ut[De]=ut[Ke]=ut[Ye]=ut[Xe]=ut[Je]=ut[Ze]=ut[qe]=ut[Fe]=ut[Ue]=ut[Ve]=ut[je]=ut[ze]=ut[Be]=ut[et]=ut[tt]=ut[ot]=ut[nt]=!0,ut[Me]=ut[Ne]=ut[We]=!1;var lt="object"==typeof e&&e&&e.Object===Object&&e,ct="object"==typeof self&&self&&self.Object===Object&&self,dt=lt||ct||Function("return this")(),pt="object"==typeof o&&o&&!o.nodeType&&o,ht=pt&&"object"==typeof t&&t&&!t.nodeType&&t,ft=ht&&ht.exports===pt,mt=Array.prototype,gt=Function.prototype,yt=Object.prototype,vt=dt["__core-js_shared__"],bt=function(){var e=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_t=gt.toString,wt=yt.hasOwnProperty,St=yt.toString,Ct=RegExp("^"+_t.call(wt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Et=ft?dt.Buffer:void 0,kt=dt.Symbol,Tt=dt.Uint8Array,It=p(Object.getPrototypeOf,Object),At=Object.create,$t=yt.propertyIsEnumerable,xt=mt.splice,Ot=Object.getOwnPropertySymbols,Rt=Et?Et.isBuffer:void 0,Pt=p(Object.keys,Object),Dt=ae(dt,"DataView"),Mt=ae(dt,"Map"),Nt=ae(dt,"Promise"),Lt=ae(dt,"Set"),qt=ae(dt,"WeakMap"),Ft=ae(Object,"create"),Ut=me(Dt),Ht=me(Mt),Vt=me(Nt),jt=me(Lt),zt=me(qt),Bt=kt?kt.prototype:void 0,Wt=Bt?Bt.valueOf:void 0;f.prototype.clear=m,f.prototype["delete"]=g,f.prototype.get=y,f.prototype.has=v,f.prototype.set=b,_.prototype.clear=w,_.prototype["delete"]=S,_.prototype.get=C,_.prototype.has=E,_.prototype.set=k,T.prototype.clear=I,T.prototype["delete"]=A,T.prototype.get=$,T.prototype.has=x,T.prototype.set=O,R.prototype.clear=P,R.prototype["delete"]=D,R.prototype.get=M,R.prototype.has=N,R.prototype.set=L;var Gt=Ot?p(Ot,Object):Te,Qt=B;(Dt&&Qt(new Dt(new ArrayBuffer(1)))!=Qe||Mt&&Qt(new Mt)!=qe||Nt&&Qt(Nt.resolve())!=He||Lt&&Qt(new Lt)!=je||qt&&Qt(new qt)!=We)&&(Qt=function(e){var t=St.call(e),o=t==Ue?e.constructor:void 0,n=o?me(o):void 0;if(n)switch(n){case Ut:return Qe;case Ht:return qe;case Vt:return He;case jt:return je;case zt:return We}return t});var Kt=Array.isArray,Yt=Rt||Ie;t.exports=ge}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],373:[function(e,t,o){(function(e){function o(e){if("string"==typeof e)return e;if(r(e))return v?v.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}function n(e){return!!e&&"object"==typeof e}function r(e){return"symbol"==typeof e||n(e)&&m.call(e)==u}function i(e){return null==e?"":o(e)}function s(e){return e=i(e),e&&c.test(e)?e.replace(l,"\\$&"):e}var a=1/0,u="[object Symbol]",l=/[\\^$.*+?()[\]{}|]/g,c=RegExp(l.source),d="object"==typeof e&&e&&e.Object===Object&&e,p="object"==typeof self&&self&&self.Object===Object&&self,h=d||p||Function("return this")(),f=Object.prototype,m=f.toString,g=h.Symbol,y=g?g.prototype:void 0,v=y?y.toString:void 0;t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],374:[function(e,t,o){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(o){}return t}function r(e,t){return function(o){return e(t(o))}}function i(e){return!!e&&"object"==typeof e}function s(e){if(!i(e)||h.call(e)!=a||n(e))return!1;var t=f(e);if(null===t)return!0;var o=d.call(t,"constructor")&&t.constructor;return"function"==typeof o&&o instanceof o&&c.call(o)==p}var a="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,d=l.hasOwnProperty,p=c.call(Object),h=l.toString,f=r(Object.getPrototypeOf,Object);t.exports=s},{}],375:[function(e,t,o){function n(e){return!!e&&"object"==typeof e}function r(e){return"string"==typeof e||!u(e)&&n(e)&&a.call(e)==i}var i="[object String]",s=Object.prototype,a=s.toString,u=Array.isArray;t.exports=r},{}],376:[function(e,t,o){(function(e){function n(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)}function r(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n}function i(e){return function(t){return e(t)}}function s(e,t){return null==e?void 0:e[t]}function a(e,t){return function(o){return e(t(o))}}function u(e,t){return"__proto__"==t?void 0:e[t]}function l(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function c(){this.__data__=jt?jt(null):{},this.size=0}function d(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function p(e){var t=this.__data__;if(jt){var o=t[e];return o===Ie?void 0:o}return Et.call(t,e)?t[e]:void 0}function h(e){var t=this.__data__;return jt?void 0!==t[e]:Et.call(t,e)}function f(e,t){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=jt&&void 0===t?Ie:t,this}function m(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function g(){this.__data__=[],this.size=0}function y(e){var t=this.__data__,o=N(t,e);if(o<0)return!1;var n=t.length-1;return o==n?t.pop():Nt.call(t,o,1),--this.size,!0}function v(e){var t=this.__data__,o=N(t,e);return o<0?void 0:t[o][1]}function b(e){return N(this.__data__,e)>-1}function _(e,t){var o=this.__data__,n=N(o,e);return n<0?(++this.size,o.push([e,t])):o[n][1]=t,this}function w(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function S(){this.size=0,this.__data__={hash:new l,map:new(Vt||m),string:new l}}function C(e){var t=Z(this,e)["delete"](e);return this.size-=t?1:0,t}function E(e){return Z(this,e).get(e)}function k(e){return Z(this,e).has(e)}function T(e,t){var o=Z(this,e),n=o.size;return o.set(e,t),this.size+=o.size==n?0:1,this}function I(e){var t=this.__data__=new m(e);this.size=t.size}function A(){this.__data__=new m,this.size=0}function $(e){var t=this.__data__,o=t["delete"](e);return this.size=t.size,o}function x(e){return this.__data__.get(e)}function O(e){return this.__data__.has(e)}function R(e,t){var o=this.__data__;if(o instanceof m){var n=o.__data__;if(!Vt||n.length<Te-1)return n.push([e,t]),this.size=++o.size,this;o=this.__data__=new w(n)}return o.set(e,t),this.size=o.size,this}function P(e,t){var o=Kt(e),n=!o&&Qt(e),i=!o&&!n&&Yt(e),s=!o&&!n&&!i&&Xt(e),a=o||n||i||s,u=a?r(e.length,String):[],l=u.length;for(var c in e)!t&&!Et.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ne(c,l))||u.push(c);return u}function D(e,t,o){(void 0===o||he(e[t],o))&&(void 0!==o||t in e)||L(e,t,o)}function M(e,t,o){var n=e[t];Et.call(e,t)&&he(n,o)&&(void 0!==o||t in e)||L(e,t,o)}function N(e,t){for(var o=e.length;o--;)if(he(e[o][0],t))return o;return-1}function L(e,t,o){"__proto__"==t&&qt?qt(e,t,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[t]=o}function q(e){return null==e?void 0===e?Ge:He:Lt&&Lt in Object(e)?te(e):le(e)}function F(e){return be(e)&&q(e)==Oe}function U(e){if(!ve(e)||se(e))return!1;var t=ge(e)?At:at;return t.test(pe(e))}function H(e){return be(e)&&ye(e.length)&&!!lt[q(e)]}function V(e){if(!ve(e))return ue(e);var t=ae(e),o=[];for(var n in e)("constructor"!=n||!t&&Et.call(e,n))&&o.push(n);return o}function j(e,t,o,n,r){e!==t&&Bt(t,function(i,s){if(ve(i))r||(r=new I),z(e,t,s,o,j,n,r);else{var a=n?n(u(e,s),i,s+"",e,t,r):void 0;void 0===a&&(a=i),D(e,s,a)}},Se)}function z(e,t,o,n,r,i,s){var a=u(e,o),l=u(t,o),c=s.get(l);if(c)return void D(e,o,c);var d=i?i(a,l,o+"",e,t,s):void 0,p=void 0===d;if(p){var h=Kt(l),f=!h&&Yt(l),m=!h&&!f&&Xt(l);d=l,h||f||m?Kt(a)?d=a:me(a)?d=K(a):f?(p=!1,d=W(l,!0)):m?(p=!1,d=Q(l,!0)):d=[]:_e(l)||Qt(l)?(d=a,Qt(a)?d=we(a):(!ve(a)||n&&ge(a))&&(d=oe(l))):p=!1}p&&(s.set(l,d),r(d,l,n,i,s),s["delete"](l)),D(e,o,d)}function B(e,t){return Gt(ce(e,t,Ee),e+"")}function W(e,t){if(t)return e.slice();var o=e.length,n=Rt?Rt(o):new e.constructor(o);return e.copy(n),n}function G(e){var t=new e.constructor(e.byteLength);return new Ot(t).set(new Ot(e)),t}function Q(e,t){var o=t?G(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function K(e,t){var o=-1,n=e.length;for(t||(t=Array(n));++o<n;)t[o]=e[o];return t}function Y(e,t,o,n){var r=!o;o||(o={});for(var i=-1,s=t.length;++i<s;){var a=t[i],u=n?n(o[a],e[a],a,o,e):void 0;void 0===u&&(u=e[a]),r?L(o,a,u):M(o,a,u)}return o}function X(e){return B(function(t,o){var n=-1,r=o.length,i=r>1?o[r-1]:void 0,s=r>2?o[2]:void 0;for(i=e.length>3&&"function"==typeof i?(r--,i):void 0,s&&re(o[0],o[1],s)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=o[n];a&&e(t,a,n,i)}return t})}function J(e){return function(t,o,n){for(var r=-1,i=Object(t),s=n(t),a=s.length;a--;){var u=s[e?a:++r];if(o(i[u],u,i)===!1)break}return t}}function Z(e,t){var o=e.__data__;return ie(t)?o["string"==typeof t?"string":"hash"]:o.map}function ee(e,t){var o=s(e,t);return U(o)?o:void 0}function te(e){var t=Et.call(e,Lt),o=e[Lt];try{e[Lt]=void 0;var n=!0}catch(r){}var i=Tt.call(e);return n&&(t?e[Lt]=o:delete e[Lt]),i}function oe(e){return"function"!=typeof e.constructor||ae(e)?{}:zt(Pt(e))}function ne(e,t){var o=typeof e;return t=null==t?xe:t,!!t&&("number"==o||"symbol"!=o&&ut.test(e))&&e>-1&&e%1==0&&e<t}function re(e,t,o){if(!ve(o))return!1;var n=typeof t;return!!("number"==n?fe(o)&&ne(t,o.length):"string"==n&&t in o)&&he(o[t],e)}function ie(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function se(e){return!!kt&&kt in e}function ae(e){var t=e&&e.constructor,o="function"==typeof t&&t.prototype||wt;return e===o}function ue(e){var t=[];if(null!=e)for(var o in Object(e))t.push(o);return t}function le(e){return Tt.call(e)}function ce(e,t,o){return t=Ut(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=Ut(r.length-t,0),a=Array(s);++i<s;)a[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=o(a),n(e,this,u)}}function de(e){var t=0,o=0;return function(){var n=Ht(),r=$e-(n-o);if(o=n,r>0){if(++t>=Ae)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function pe(e){if(null!=e){try{return Ct.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function he(e,t){return e===t||e!==e&&t!==t}function fe(e){return null!=e&&ye(e.length)&&!ge(e)}function me(e){return be(e)&&fe(e)}function ge(e){if(!ve(e))return!1;var t=q(e);return t==Le||t==qe||t==Pe||t==je}function ye(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=xe}function ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function be(e){return null!=e&&"object"==typeof e}function _e(e){if(!be(e)||q(e)!=Ve)return!1;var t=Pt(e);if(null===t)return!0;var o=Et.call(t,"constructor")&&t.constructor;return"function"==typeof o&&o instanceof o&&Ct.call(o)==It}function we(e){return Y(e,Se(e))}function Se(e){return fe(e)?P(e,!0):V(e)}function Ce(e){return function(){return e}}function Ee(e){return e}function ke(){return!1}var Te=200,Ie="__lodash_hash_undefined__",Ae=800,$e=16,xe=9007199254740991,Oe="[object Arguments]",Re="[object Array]",Pe="[object AsyncFunction]",De="[object Boolean]",Me="[object Date]",Ne="[object Error]",Le="[object Function]",qe="[object GeneratorFunction]",Fe="[object Map]",Ue="[object Number]",He="[object Null]",Ve="[object Object]",je="[object Proxy]",ze="[object RegExp]",Be="[object Set]",We="[object String]",Ge="[object Undefined]",Qe="[object WeakMap]",Ke="[object ArrayBuffer]",Ye="[object DataView]",Xe="[object Float32Array]",Je="[object Float64Array]",Ze="[object Int8Array]",et="[object Int16Array]",tt="[object Int32Array]",ot="[object Uint8Array]",nt="[object Uint8ClampedArray]",rt="[object Uint16Array]",it="[object Uint32Array]",st=/[\\^$.*+?()[\]{}|]/g,at=/^\[object .+?Constructor\]$/,ut=/^(?:0|[1-9]\d*)$/,lt={};lt[Xe]=lt[Je]=lt[Ze]=lt[et]=lt[tt]=lt[ot]=lt[nt]=lt[rt]=lt[it]=!0,lt[Oe]=lt[Re]=lt[Ke]=lt[De]=lt[Ye]=lt[Me]=lt[Ne]=lt[Le]=lt[Fe]=lt[Ue]=lt[Ve]=lt[ze]=lt[Be]=lt[We]=lt[Qe]=!1;var ct="object"==typeof e&&e&&e.Object===Object&&e,dt="object"==typeof self&&self&&self.Object===Object&&self,pt=ct||dt||Function("return this")(),ht="object"==typeof o&&o&&!o.nodeType&&o,ft=ht&&"object"==typeof t&&t&&!t.nodeType&&t,mt=ft&&ft.exports===ht,gt=mt&&ct.process,yt=function(){try{return gt&&gt.binding&&gt.binding("util")}catch(e){}}(),vt=yt&&yt.isTypedArray,bt=Array.prototype,_t=Function.prototype,wt=Object.prototype,St=pt["__core-js_shared__"],Ct=_t.toString,Et=wt.hasOwnProperty,kt=function(){var e=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Tt=wt.toString,It=Ct.call(Object),At=RegExp("^"+Ct.call(Et).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$t=mt?pt.Buffer:void 0,xt=pt.Symbol,Ot=pt.Uint8Array,Rt=$t?$t.allocUnsafe:void 0,Pt=a(Object.getPrototypeOf,Object),Dt=Object.create,Mt=wt.propertyIsEnumerable,Nt=bt.splice,Lt=xt?xt.toStringTag:void 0,qt=function(){try{var e=ee(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Ft=$t?$t.isBuffer:void 0,Ut=Math.max,Ht=Date.now,Vt=ee(pt,"Map"),jt=ee(Object,"create"),zt=function(){function e(){}return function(t){if(!ve(t))return{};if(Dt)return Dt(t);e.prototype=t;var o=new e;return e.prototype=void 0,o}}();l.prototype.clear=c,l.prototype["delete"]=d,l.prototype.get=p,l.prototype.has=h,l.prototype.set=f,m.prototype.clear=g,m.prototype["delete"]=y,m.prototype.get=v,m.prototype.has=b,m.prototype.set=_,w.prototype.clear=S,w.prototype["delete"]=C,w.prototype.get=E,w.prototype.has=k,w.prototype.set=T,I.prototype.clear=A,I.prototype["delete"]=$,I.prototype.get=x,I.prototype.has=O,I.prototype.set=R;var Bt=J(),Wt=qt?function(e,t){return qt(e,"toString",{configurable:!0,enumerable:!1,value:Ce(t),writable:!0})}:Ee,Gt=de(Wt),Qt=F(function(){return arguments}())?F:function(e){return be(e)&&Et.call(e,"callee")&&!Mt.call(e,"callee")},Kt=Array.isArray,Yt=Ft||ke,Xt=vt?i(vt):H,Jt=X(function(e,t,o,n){j(e,t,o,n)});t.exports=Jt}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],377:[function(e,t,o){function n(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return o*d;case"days":case"day":case"d":return o*c;case"hours":case"hour":case"hrs":case"hr":case"h":return o*l;case"minutes":case"minute":case"mins":case"min":case"m":return o*u;case"seconds":case"second":case"secs":case"sec":case"s":return o*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=l?Math.round(e/l)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return s(e,c,"day")||s(e,l,"hour")||s(e,u,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,o){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+o:Math.ceil(e/t)+" "+o+"s"}var a=1e3,u=60*a,l=60*u,c=24*l,d=365.25*c;t.exports=function(e,t){t=t||{};var o=typeof e;if("string"===o&&e.length>0)return n(e);if("number"===o&&isNaN(e)===!1)return t["long"]?i(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],378:[function(e,t,o){"use strict";t.exports=Number.isNaN||function(e){return e!==e}},{}],379:[function(e,t,o){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Array.prototype.slice,s=e("./isArguments"),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),l=a.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),f=function(e){if("undefined"==typeof window||!h)return d(e);try{return d(e)}catch(t){return!1}},m=function(e){var t=null!==e&&"object"==typeof e,o="[object Function]"===r.call(e),i=s(e),a=t&&"[object String]"===r.call(e),d=[];if(!t&&!o&&!i)throw new TypeError("Object.keys called on a non-object");var p=l&&o;if(a&&e.length>0&&!n.call(e,0))for(var h=0;h<e.length;++h)d.push(String(h));if(i&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var g in e)p&&"prototype"===g||!n.call(e,g)||d.push(String(g));if(u)for(var y=f(e),v=0;v<c.length;++v)y&&"constructor"===c[v]||!n.call(e,c[v])||d.push(c[v]);return d};m.shim=function(){if(Object.keys){var e=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!e){var t=Object.keys;Object.keys=function(e){return t(s(e)?i.call(e):e)}}}else Object.keys=m;return Object.keys||m},t.exports=m},{"./isArguments":380}],380:[function(e,t,o){"use strict";var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),o="[object Arguments]"===t;return o||(o="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),o}},{}],381:[function(e,t,o){(function(e){function t(e,t){for(var o=0,n=e.length-1;n>=0;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),o++):o&&(e.splice(n,1),o--)}if(t)for(;o--;o)e.unshift("..");return e}function n(e){"string"!=typeof e&&(e+="");var t,o=0,n=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){o=t+1;break}}else n===-1&&(r=!1,n=t+1);return n===-1?"":e.slice(o,n)}function r(e,t){if(e.filter)return e.filter(t);for(var o=[],n=0;n<e.length;n++)t(e[n],n,e)&&o.push(e[n]);return o}o.resolve=function(){for(var o="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(o=s+"/"+o,n="/"===s.charAt(0))}return o=t(r(o.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+o||"."},o.normalize=function(e){var n=o.isAbsolute(e),s="/"===i(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&s&&(e+="/"),(n?"/":"")+e},o.isAbsolute=function(e){return"/"===e.charAt(0)},o.join=function(){var e=Array.prototype.slice.call(arguments,0);return o.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},o.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var o=e.length-1;o>=0&&""===e[o];o--);return t>o?[]:e.slice(t,o-t+1)}e=o.resolve(e).substr(1),t=o.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),s=Math.min(r.length,i.length),a=s,u=0;u<s;u++)if(r[u]!==i[u]){a=u;break}for(var l=[],u=a;u<r.length;u++)l.push("..");return l=l.concat(i.slice(a)),l.join("/")},o.sep="/",o.delimiter=":",o.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),o=47===t,n=-1,r=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),47===t){if(!r){n=i;break}}else r=!1;return n===-1?o?"/":".":o&&1===n?"/":e.slice(0,n)},o.basename=function(e,t){var o=n(e);return t&&o.substr(-1*t.length)===t&&(o=o.substr(0,o.length-t.length)),o},o.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,o=0,n=-1,r=!0,i=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)n===-1&&(r=!1,n=s+1),46===a?t===-1?t=s:1!==i&&(i=1):t!==-1&&(i=-1);else if(!r){o=s+1;break}}return t===-1||n===-1||0===i||1===i&&t===n-1&&t===o+1?"":e.slice(t,n)};var i="b"==="ab".substr(-1)?function(e,t,o){return e.substr(t,o)}:function(e,t,o){return t<0&&(t=e.length+t),e.substr(t,o)}}).call(this,e("_process"))},{_process:320}],382:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.__esModule=!0;var a=e("./container"),u=n(a),l=function(e){function t(o){r(this,t);var n=i(this,e.call(this,o));return n.type="atrule",n}return s(t,e),t.prototype.append=function(){var t;this.nodes||(this.nodes=[]);for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.prototype.append).call.apply(t,[this].concat(n))},t.prototype.prepend=function(){
var t;this.nodes||(this.nodes=[]);for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.prototype.prepend).call.apply(t,[this].concat(n))},t}(u["default"]);o["default"]=l,t.exports=o["default"]},{"./container":384}],383:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.__esModule=!0;var a=e("./node"),u=n(a),l=function(e){function t(o){r(this,t);var n=i(this,e.call(this,o));return n.type="comment",n}return s(t,e),t}(u["default"]);o["default"]=l,t.exports=o["default"]},{"./node":391}],384:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return e.map(function(e){return e.nodes&&(e.nodes=a(e.nodes)),delete e.source,e})}o.__esModule=!0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=e("./declaration"),c=n(l),d=e("./comment"),p=n(d),h=e("./node"),f=n(h),m=function(t){function o(){return r(this,o),i(this,t.apply(this,arguments))}return s(o,t),o.prototype.push=function(e){return e.parent=this,this.nodes.push(e),this},o.prototype.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var t=this.lastEach;if(this.indexes[t]=0,this.nodes){for(var o=void 0,n=void 0;this.indexes[t]<this.nodes.length&&(o=this.indexes[t],n=e(this.nodes[o],o),n!==!1);)this.indexes[t]+=1;return delete this.indexes[t],n}},o.prototype.walk=function(e){return this.each(function(t,o){var n=e(t,o);return n!==!1&&t.walk&&(n=t.walk(e)),n})},o.prototype.walkDecls=function(e,t){return t?e instanceof RegExp?this.walk(function(o,n){if("decl"===o.type&&e.test(o.prop))return t(o,n)}):this.walk(function(o,n){if("decl"===o.type&&o.prop===e)return t(o,n)}):(t=e,this.walk(function(e,o){if("decl"===e.type)return t(e,o)}))},o.prototype.walkRules=function(e,t){return t?e instanceof RegExp?this.walk(function(o,n){if("rule"===o.type&&e.test(o.selector))return t(o,n)}):this.walk(function(o,n){if("rule"===o.type&&o.selector===e)return t(o,n)}):(t=e,this.walk(function(e,o){if("rule"===e.type)return t(e,o)}))},o.prototype.walkAtRules=function(e,t){return t?e instanceof RegExp?this.walk(function(o,n){if("atrule"===o.type&&e.test(o.name))return t(o,n)}):this.walk(function(o,n){if("atrule"===o.type&&o.name===e)return t(o,n)}):(t=e,this.walk(function(e,o){if("atrule"===e.type)return t(e,o)}))},o.prototype.walkComments=function(e){return this.walk(function(t,o){if("comment"===t.type)return e(t,o)})},o.prototype.append=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];for(var n=t,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var s;if(r){if(i>=n.length)break;s=n[i++]}else{if(i=n.next(),i.done)break;s=i.value}for(var a=s,u=this.normalize(a,this.last),l=u,c=Array.isArray(l),d=0,l=c?l:l[Symbol.iterator]();;){var p;if(c){if(d>=l.length)break;p=l[d++]}else{if(d=l.next(),d.done)break;p=d.value}var h=p;this.nodes.push(h)}}return this},o.prototype.prepend=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];t=t.reverse();for(var n=t,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var s;if(r){if(i>=n.length)break;s=n[i++]}else{if(i=n.next(),i.done)break;s=i.value}for(var a=s,u=this.normalize(a,this.first,"prepend").reverse(),l=u,c=Array.isArray(l),d=0,l=c?l:l[Symbol.iterator]();;){var p;if(c){if(d>=l.length)break;p=l[d++]}else{if(d=l.next(),d.done)break;p=d.value}var h=p;this.nodes.unshift(h)}for(var f in this.indexes)this.indexes[f]=this.indexes[f]+u.length}return this},o.prototype.cleanRaws=function(e){if(t.prototype.cleanRaws.call(this,e),this.nodes)for(var o=this.nodes,n=Array.isArray(o),r=0,o=n?o:o[Symbol.iterator]();;){var i;if(n){if(r>=o.length)break;i=o[r++]}else{if(r=o.next(),r.done)break;i=r.value}var s=i;s.cleanRaws(e)}},o.prototype.insertBefore=function(e,t){e=this.index(e);for(var o=0===e&&"prepend",n=this.normalize(t,this.nodes[e],o).reverse(),r=n,i=Array.isArray(r),s=0,r=i?r:r[Symbol.iterator]();;){var a;if(i){if(s>=r.length)break;a=r[s++]}else{if(s=r.next(),s.done)break;a=s.value}var u=a;this.nodes.splice(e,0,u)}var l=void 0;for(var c in this.indexes)l=this.indexes[c],e<=l&&(this.indexes[c]=l+n.length);return this},o.prototype.insertAfter=function(e,t){e=this.index(e);for(var o=this.normalize(t,this.nodes[e]).reverse(),n=o,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var s;if(r){if(i>=n.length)break;s=n[i++]}else{if(i=n.next(),i.done)break;s=i.value}var a=s;this.nodes.splice(e+1,0,a)}var u=void 0;for(var l in this.indexes)u=this.indexes[l],e<u&&(this.indexes[l]=u+o.length);return this},o.prototype.removeChild=function(e){e=this.index(e),this.nodes[e].parent=void 0,this.nodes.splice(e,1);var t=void 0;for(var o in this.indexes)t=this.indexes[o],t>=e&&(this.indexes[o]=t-1);return this},o.prototype.removeAll=function(){for(var e=this.nodes,t=Array.isArray(e),o=0,e=t?e:e[Symbol.iterator]();;){var n;if(t){if(o>=e.length)break;n=e[o++]}else{if(o=e.next(),o.done)break;n=o.value}var r=n;r.parent=void 0}return this.nodes=[],this},o.prototype.replaceValues=function(e,t,o){return o||(o=t,t={}),this.walkDecls(function(n){t.props&&t.props.indexOf(n.prop)===-1||t.fast&&n.value.indexOf(t.fast)===-1||(n.value=n.value.replace(e,o))}),this},o.prototype.every=function(e){return this.nodes.every(e)},o.prototype.some=function(e){return this.nodes.some(e)},o.prototype.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},o.prototype.normalize=function(t,o){var n=this;if("string"==typeof t){var r=e("./parse");t=a(r(t).nodes)}else if(Array.isArray(t)){t=t.slice(0);for(var i=t,s=Array.isArray(i),u=0,i=s?i:i[Symbol.iterator]();;){var l;if(s){if(u>=i.length)break;l=i[u++]}else{if(u=i.next(),u.done)break;l=u.value}var d=l;d.parent&&d.parent.removeChild(d,"ignore")}}else if("root"===t.type){t=t.nodes.slice(0);for(var h=t,f=Array.isArray(h),m=0,h=f?h:h[Symbol.iterator]();;){var g;if(f){if(m>=h.length)break;g=h[m++]}else{if(m=h.next(),m.done)break;g=m.value}var y=g;y.parent&&y.parent.removeChild(y,"ignore")}}else if(t.type)t=[t];else if(t.prop){if("undefined"==typeof t.value)throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new c["default"](t)]}else if(t.selector){var v=e("./rule");t=[new v(t)]}else if(t.name){var b=e("./at-rule");t=[new b(t)]}else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new p["default"](t)]}var _=t.map(function(e){return"function"!=typeof e.before&&(e=n.rebuild(e)),e.parent&&e.parent.removeChild(e),"undefined"==typeof e.raws.before&&o&&"undefined"!=typeof o.raws.before&&(e.raws.before=o.raws.before.replace(/[^\s]/g,"")),e.parent=n,e});return _},o.prototype.rebuild=function(t,o){var n=this,r=void 0;if("root"===t.type){var i=e("./root");r=new i}else if("atrule"===t.type){var s=e("./at-rule");r=new s}else if("rule"===t.type){var a=e("./rule");r=new a}else"decl"===t.type?r=new c["default"]:"comment"===t.type&&(r=new p["default"]);for(var u in t)"nodes"===u?r.nodes=t.nodes.map(function(e){return n.rebuild(e,r)}):"parent"===u&&o?r.parent=o:t.hasOwnProperty(u)&&(r[u]=t[u]);return r},u(o,[{key:"first",get:function(){if(this.nodes)return this.nodes[0]}},{key:"last",get:function(){if(this.nodes)return this.nodes[this.nodes.length-1]}}]),o}(f["default"]);o["default"]=m,t.exports=o["default"]},{"./at-rule":382,"./comment":383,"./declaration":386,"./node":391,"./parse":392,"./root":398,"./rule":399}],385:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.__esModule=!0;var i=e("supports-color"),s=n(i),a=e("chalk"),u=n(a),l=e("./terminal-highlight"),c=n(l),d=function(){function e(t,o,n,i,s,a){r(this,e),this.name="CssSyntaxError",this.reason=t,s&&(this.file=s),i&&(this.source=i),a&&(this.plugin=a),"undefined"!=typeof o&&"undefined"!=typeof n&&(this.line=o,this.column=n),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>","undefined"!=typeof this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},e.prototype.showSourceCode=function(e){function t(t){return e&&u["default"].red?u["default"].red.bold(t):t}function o(t){return e&&u["default"].gray?u["default"].gray(t):t}var n=this;if(!this.source)return"";var r=this.source;"undefined"==typeof e&&(e=s["default"].stdout),e&&(r=(0,c["default"])(r));var i=r.split(/\r?\n/),a=Math.max(this.line-3,0),l=Math.min(this.line+2,i.length),d=String(l).length;return i.slice(a,l).map(function(e,r){var i=a+1+r,s=" "+(" "+i).slice(-d)+" | ";if(i===n.line){var u=o(s.replace(/\d/g," "))+e.slice(0,n.column-1).replace(/[^\t]/g," ");return t(">")+o(s)+e+"\n "+u+t("^")}return" "+o(s)+e}).join("\n")},e.prototype.toString=function(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e},e}();o["default"]=d,t.exports=o["default"]},{"./terminal-highlight":402,chalk:319,"supports-color":319}],386:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.__esModule=!0;var a=e("./node"),u=n(a),l=function(e){function t(o){r(this,t);var n=i(this,e.call(this,o));return n.type="decl",n}return s(t,e),t}(u["default"]);o["default"]=l,t.exports=o["default"]},{"./node":391}],387:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=e("./css-syntax-error"),u=n(a),l=e("./previous-map"),c=n(l),d=e("path"),p=n(d),h=0,f=function(){function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),null===t||"object"===("undefined"==typeof t?"undefined":i(t))&&!t.toString)throw new Error("PostCSS received "+t+" instead of CSS string");this.css=t.toString(),"\ufeff"!==this.css[0]&&""!==this.css[0]||(this.css=this.css.slice(1)),o.from&&(/^\w+:\/\//.test(o.from)?this.file=o.from:this.file=p["default"].resolve(o.from));var n=new c["default"](this.css,o);if(n.text){this.map=n;var s=n.consumer().file;!this.file&&s&&(this.file=this.mapResolve(s))}this.file||(h+=1,this.id="<input css "+h+">"),this.map&&(this.map.file=this.from)}return e.prototype.error=function(e,t,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0,i=this.origin(t,o);return r=i?new u["default"](e,i.line,i.column,i.source,i.file,n.plugin):new u["default"](e,t,o,this.css,this.file,n.plugin),r.input={line:t,column:o,source:this.css},this.file&&(r.input.file=this.file),r},e.prototype.origin=function(e,t){if(!this.map)return!1;var o=this.map.consumer(),n=o.originalPositionFor({line:e,column:t});if(!n.source)return!1;var r={file:this.mapResolve(n.source),line:n.line,column:n.column},i=o.sourceContentFor(n.source);return i&&(r.source=i),r},e.prototype.mapResolve=function(e){return/^\w+:\/\//.test(e)?e:p["default"].resolve(this.map.consumer().sourceRoot||".",e)},s(e,[{key:"from",get:function(){return this.file||this.id}}]),e}();o["default"]=f,t.exports=o["default"]},{"./css-syntax-error":385,"./previous-map":395,path:381}],388:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return"object"===("undefined"==typeof e?"undefined":a(e))&&"function"==typeof e.then}o.__esModule=!0;var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=e("./map-generator"),l=n(u),c=e("./stringify"),d=n(c),p=e("./warn-once"),h=n(p),f=e("./result"),m=n(f),g=e("./parse"),y=n(g),v=function(){function e(t,o,n){r(this,e),this.stringified=!1,this.processed=!1;var i=void 0;if("object"===("undefined"==typeof o?"undefined":a(o))&&null!==o&&"root"===o.type)i=o;else if(o instanceof e||o instanceof m["default"])i=o.root,o.map&&("undefined"==typeof n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=o.map);else{var s=y["default"];n.syntax&&(s=n.syntax.parse),n.parser&&(s=n.parser),s.parse&&(s=s.parse);try{i=s(o,n)}catch(u){this.error=u}}this.result=new m["default"](t,i,n)}return e.prototype.warnings=function(){return this.sync().warnings()},e.prototype.toString=function(){return this.css},e.prototype.then=function(e,t){return"from"in this.opts||(0,h["default"])("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning."),this.async().then(e,t)},e.prototype["catch"]=function(e){return this.async()["catch"](e)},e.prototype.handleError=function(e,t){try{if(this.error=e,"CssSyntaxError"!==e.name||e.plugin){if(t.postcssVersion){var o=t.postcssPlugin,n=t.postcssVersion,r=this.result.processor.version,i=n.split("."),s=r.split(".");(i[0]!==s[0]||parseInt(i[1])>parseInt(s[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+r+", but "+o+" uses "+n+". Perhaps this is the source of the error below.")}}else e.plugin=t.postcssPlugin,e.setMessage()}catch(a){console&&console.error&&console.error(a)}},e.prototype.asyncTick=function(e,t){var o=this;if(this.plugin>=this.processor.plugins.length)return this.processed=!0,e();try{var n=this.processor.plugins[this.plugin],r=this.run(n);this.plugin+=1,i(r)?r.then(function(){o.asyncTick(e,t)})["catch"](function(e){o.handleError(e,n),o.processed=!0,t(e)}):this.asyncTick(e,t)}catch(s){this.processed=!0,t(s)}},e.prototype.async=function(){var e=this;return this.processed?new Promise(function(t,o){e.error?o(e.error):t(e.stringify())}):this.processing?this.processing:(this.processing=new Promise(function(t,o){return e.error?o(e.error):(e.plugin=0,void e.asyncTick(t,o))}).then(function(){return e.processed=!0,e.stringify()}),this.processing)},e.prototype.sync=function(){if(this.processed)return this.result;if(this.processed=!0,this.processing)throw new Error("Use process(css).then(cb) to work with async plugins");if(this.error)throw this.error;for(var e=this.result.processor.plugins,t=Array.isArray(e),o=0,e=t?e:e[Symbol.iterator]();;){var n;if(t){if(o>=e.length)break;n=e[o++]}else{if(o=e.next(),o.done)break;n=o.value}var r=n,s=this.run(r);if(i(s))throw new Error("Use process(css).then(cb) to work with async plugins")}return this.result},e.prototype.run=function(e){this.result.lastPlugin=e;try{return e(this.result.root,this.result)}catch(t){throw this.handleError(t,e),t}},e.prototype.stringify=function(){if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=d["default"];e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var o=new l["default"](t,this.result.root,this.result.opts),n=o.generate();return this.result.css=n[0],this.result.map=n[1],this.result},s(e,[{key:"processor",get:function(){return this.result.processor}},{key:"opts",get:function(){return this.result.opts}},{key:"css",get:function(){return this.stringify().css}},{key:"content",get:function(){return this.stringify().content}},{key:"map",get:function(){return this.stringify().map}},{key:"root",get:function(){return this.sync().root}},{key:"messages",get:function(){return this.sync().messages}}]),e}();o["default"]=v,t.exports=o["default"]},{"./map-generator":390,"./parse":392,"./result":397,"./stringify":401,"./warn-once":405}],389:[function(e,t,o){"use strict";o.__esModule=!0;var n={split:function r(e,t,o){for(var n=[],i="",r=!1,s=0,a=!1,u=!1,l=0;l<e.length;l++){var c=e[l];a?u?u=!1:"\\"===c?u=!0:c===a&&(a=!1):'"'===c||"'"===c?a=c:"("===c?s+=1:")"===c?s>0&&(s-=1):0===s&&t.indexOf(c)!==-1&&(r=!0),r?(""!==i&&n.push(i.trim()),i="",r=!1):i+=c}return(o||""!==i)&&n.push(i.trim()),n},space:function(e){var t=[" ","\n","\t"];return n.split(e,t)},comma:function i(e){var i=",";return n.split(e,[i],!0)}};o["default"]=n,t.exports=o["default"]},{}],390:[function(e,t,o){(function(n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.__esModule=!0;var s=e("source-map"),a=r(s),u=e("path"),l=r(u),c=function(){function e(t,o,n){i(this,e),this.stringify=t,this.mapOpts=n.map||{},this.root=o,this.opts=n}return e.prototype.isMap=function(){return"undefined"!=typeof this.opts.map?!!this.opts.map:this.previous().length>0},e.prototype.previous=function(){var e=this;return this.previousMaps||(this.previousMaps=[],this.root.walk(function(t){if(t.source&&t.source.input.map){var o=t.source.input.map;e.previousMaps.indexOf(o)===-1&&e.previousMaps.push(o)}})),this.previousMaps},e.prototype.isInline=function(){if("undefined"!=typeof this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return("undefined"==typeof e||e===!0)&&(!this.previous().length||this.previous().some(function(e){return e.inline}))},e.prototype.isSourcesContent=function(){return"undefined"!=typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(function(e){return e.withContent()})},e.prototype.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)for(var e=void 0,t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)},e.prototype.setSourcesContent=function(){var e=this,t={};this.root.walk(function(o){if(o.source){var n=o.source.input.from;if(n&&!t[n]){t[n]=!0;var r=e.relative(n);e.map.setSourceContent(r,o.source.input.css)}}})},e.prototype.applyPrevMaps=function(){for(var e=this.previous(),t=Array.isArray(e),o=0,e=t?e:e[Symbol.iterator]();;){var n;if(t){if(o>=e.length)break;n=e[o++]}else{if(o=e.next(),o.done)break;n=o.value}var r=n,i=this.relative(r.file),s=r.root||l["default"].dirname(r.file),u=void 0;this.mapOpts.sourcesContent===!1?(u=new a["default"].SourceMapConsumer(r.text),u.sourcesContent&&(u.sourcesContent=u.sourcesContent.map(function(){return null}))):u=r.consumer(),this.map.applySourceMap(u,i,this.relative(s))}},e.prototype.isAnnotation=function(){return!!this.isInline()||("undefined"!=typeof this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(function(e){return e.annotation}))},e.prototype.toBase64=function(e){return n?n.from&&n.from!==Uint8Array.from?n.from(e).toString("base64"):new n(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))},e.prototype.addAnnotation=function(){var e=void 0;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.outputFile()+".map";var t="\n";this.css.indexOf("\r\n")!==-1&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"},e.prototype.outputFile=function(){return this.opts.to?this.relative(this.opts.to):this.opts.from?this.relative(this.opts.from):"to.css"},e.prototype.generateMap=function(){return this.generateString(),this.isSourcesContent()&&this.setSourcesContent(),this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},e.prototype.relative=function(e){if(0===e.indexOf("<"))return e;if(/^\w+:\/\//.test(e))return e;var t=this.opts.to?l["default"].dirname(this.opts.to):".";return"string"==typeof this.mapOpts.annotation&&(t=l["default"].dirname(l["default"].resolve(t,this.mapOpts.annotation))),e=l["default"].relative(t,e),"\\"===l["default"].sep?e.replace(/\\/g,"/"):e},e.prototype.sourcePath=function(e){return this.mapOpts.from?this.mapOpts.from:this.relative(e.source.input.from)},e.prototype.generateString=function(){var e=this;this.css="",this.map=new a["default"].SourceMapGenerator({file:this.outputFile()});var t=1,o=1,n=void 0,r=void 0;this.stringify(this.root,function(i,s,a){e.css+=i,s&&"end"!==a&&(s.source&&s.source.start?e.map.addMapping({source:e.sourcePath(s),generated:{line:t,column:o-1},original:{line:s.source.start.line,column:s.source.start.column-1}}):e.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:t,column:o-1}})),n=i.match(/\n/g),n?(t+=n.length,r=i.lastIndexOf("\n"),o=i.length-r):o+=i.length,s&&"start"!==a&&(s.source&&s.source.end?e.map.addMapping({source:e.sourcePath(s),generated:{line:t,column:o-1},original:{line:s.source.end.line,column:s.source.end.column}}):e.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:t,column:o-1}}))})},e.prototype.generate=function(){if(this.clearAnnotation(),this.isMap())return this.generateMap();var e="";return this.stringify(this.root,function(t){e+=t}),[e]},e}();o["default"]=c,t.exports=o["default"]}).call(this,e("buffer").Buffer)},{buffer:323,path:381,"source-map":438}],391:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=e("./css-syntax-error"),a=n(s),u=e("./stringifier"),l=n(u),c=e("./stringify"),d=n(c),p=e("./warn-once"),h=n(p),f=function g(e,t){var o=new e.constructor;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],s="undefined"==typeof r?"undefined":i(r);"parent"===n&&"object"===s?t&&(o[n]=t):"source"===n?o[n]=r:r instanceof Array?o[n]=r.map(function(e){return g(e,o)}):("object"===s&&null!==r&&(r=g(r)),o[n]=r)}return o},m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),this.raws={},"object"!==("undefined"==typeof t?"undefined":i(t))&&"undefined"!=typeof t)throw new Error("PostCSS nodes constructor accepts object, not "+JSON.stringify(t));for(var o in t)this[o]=t[o]}return e.prototype.error=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var o=this.positionBy(t);return this.source.input.error(e,o.line,o.column,t)}return new a["default"](e)},e.prototype.warn=function(e,t,o){var n={node:this};for(var r in o)n[r]=o[r];return e.warn(t,n)},e.prototype.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},e.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d["default"];e.stringify&&(e=e.stringify);var t="";return e(this,function(e){t+=e}),t},e.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=f(this);for(var o in e)t[o]=e[o];return t},e.prototype.cloneBefore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t},e.prototype.cloneAfter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t},e.prototype.replaceWith=function(){if(this.parent){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];for(var n=t,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var s;if(r){if(i>=n.length)break;s=n[i++]}else{if(i=n.next(),i.done)break;s=i.value}var a=s;this.parent.insertBefore(this,a)}this.remove()}return this},e.prototype.moveTo=function(e){return(0,h["default"])("Node#moveTo was deprecated. Use Container#append."),this.cleanRaws(this.root()===e.root()),this.remove(),e.append(this),this},e.prototype.moveBefore=function(e){return(0,h["default"])("Node#moveBefore was deprecated. Use Node#before."),this.cleanRaws(this.root()===e.root()),this.remove(),e.parent.insertBefore(e,this),this},e.prototype.moveAfter=function(e){return(0,h["default"])("Node#moveAfter was deprecated. Use Node#after."),this.cleanRaws(this.root()===e.root()),this.remove(),e.parent.insertAfter(e,this),this},e.prototype.next=function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e+1]}},e.prototype.prev=function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e-1]}},e.prototype.before=function(e){return this.parent.insertBefore(this,e),this},e.prototype.after=function(e){return this.parent.insertAfter(this,e),this},e.prototype.toJSON=function(){var e={};for(var t in this)if(this.hasOwnProperty(t)&&"parent"!==t){var o=this[t];o instanceof Array?e[t]=o.map(function(e){return"object"===("undefined"==typeof e?"undefined":i(e))&&e.toJSON?e.toJSON():e}):"object"===("undefined"==typeof o?"undefined":i(o))&&o.toJSON?e[t]=o.toJSON():e[t]=o}return e},e.prototype.raw=function(e,t){var o=new l["default"];return o.raw(this,e,t)},e.prototype.root=function(){for(var e=this;e.parent;)e=e.parent;return e},e.prototype.cleanRaws=function(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between},e.prototype.positionInside=function(e){for(var t=this.toString(),o=this.source.start.column,n=this.source.start.line,r=0;r<e;r++)"\n"===t[r]?(o=1,n+=1):o+=1;return{line:n,column:o}},e.prototype.positionBy=function(e){var t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){var o=this.toString().indexOf(e.word);o!==-1&&(t=this.positionInside(o))}return t},e}();o["default"]=m,t.exports=o["default"]},{"./css-syntax-error":385,"./stringifier":400,"./stringify":401,"./warn-once":405}],392:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(t&&t.safe)throw new Error('Option safe was removed. Use parser: require("postcss-safe-parser")');var o=new u["default"](e,t),n=new s["default"](o);try{n.parse()}catch(r){throw"CssSyntaxError"===r.name&&t&&t.from&&(/\.scss$/i.test(t.from)?r.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(t.from)?r.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(t.from)&&(r.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),r}return n.root}o.__esModule=!0,o["default"]=r;var i=e("./parser"),s=n(i),a=e("./input"),u=n(a);t.exports=o["default"]},{"./input":387,"./parser":393}],393:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.__esModule=!0;var i=e("./declaration"),s=n(i),a=e("./tokenize"),u=n(a),l=e("./comment"),c=n(l),d=e("./at-rule"),p=n(d),h=e("./root"),f=n(h),m=e("./rule"),g=n(m),y=function(){function e(t){r(this,e),this.input=t,this.root=new f["default"],this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:t,start:{line:1,column:1}}}return e.prototype.createTokenizer=function(){this.tokenizer=(0,u["default"])(this.input)},e.prototype.parse=function(){for(var e=void 0;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()},e.prototype.comment=function(e){var t=new c["default"];this.init(t,e[2],e[3]),t.source.end={line:e[4],column:e[5]};var o=e[1].slice(2,-2);if(/^\s*$/.test(o))t.text="",t.raws.left=o,t.raws.right="";else{var n=o.match(/^(\s*)([^]*[^\s])(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}},e.prototype.emptyRule=function(e){var t=new g["default"];this.init(t,e[2],e[3]),t.selector="",t.raws.between="",this.current=t},e.prototype.other=function(e){for(var t=!1,o=null,n=!1,r=null,i=[],s=[],a=e;a;){if(o=a[0],s.push(a),"("===o||"["===o)r||(r=a),i.push("("===o?")":"]");else if(0===i.length){if(";"===o){if(n)return void this.decl(s);break}if("{"===o)return void this.rule(s);if("}"===o){this.tokenizer.back(s.pop()),t=!0;break}":"===o&&(n=!0)}else o===i[i.length-1]&&(i.pop(),0===i.length&&(r=null));a=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),i.length>0&&this.unclosedBracket(r),t&&n){for(;s.length&&(a=s[s.length-1][0],"space"===a||"comment"===a);)this.tokenizer.back(s.pop());return void this.decl(s)}this.unknownWord(s)},e.prototype.rule=function(e){e.pop();var t=new g["default"];this.init(t,e[0][2],e[0][3]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t},e.prototype.decl=function(e){var t=new s["default"];this.init(t);var o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),o[4]?t.source.end={line:o[4],column:o[5]}:t.source.end={line:o[2],column:o[3]};"word"!==e[0][0];)1===e.length&&this.unknownWord(e),t.raws.before+=e.shift()[1];for(t.source.start={line:e[0][2],column:e[0][3]},t.prop="";e.length;){var n=e[0][0];if(":"===n||"space"===n||"comment"===n)break;t.prop+=e.shift()[1]}t.raws.between="";for(var r=void 0;e.length;){if(r=e.shift(),":"===r[0]){t.raws.between+=r[1];break}t.raws.between+=r[1]}"_"!==t.prop[0]&&"*"!==t.prop[0]||(t.raws.before+=t.prop[0],t.prop=t.prop.slice(1)),t.raws.between+=this.spacesAndCommentsFromStart(e),this.precheckMissedSemicolon(e);for(var i=e.length-1;i>0;i--){if(r=e[i],"!important"===r[1].toLowerCase()){t.important=!0;var a=this.stringFrom(e,i);
a=this.spacesFromEnd(e)+a," !important"!==a&&(t.raws.important=a);break}if("important"===r[1].toLowerCase()){for(var u=e.slice(0),l="",c=i;c>0;c--){var d=u[c][0];if(0===l.trim().indexOf("!")&&"space"!==d)break;l=u.pop()[1]+l}0===l.trim().indexOf("!")&&(t.important=!0,t.raws.important=l,e=u)}if("space"!==r[0]&&"comment"!==r[0])break}this.raw(t,"value",e),t.value.indexOf(":")!==-1&&this.checkMissedSemicolon(e)},e.prototype.atrule=function(e){var t=new p["default"];t.name=e[1].slice(1),""===t.name&&this.unnamedAtrule(t,e),this.init(t,e[2],e[3]);for(var o=void 0,n=void 0,r=!1,i=!1,s=[];!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),";"===e[0]){t.source.end={line:e[2],column:e[3]},this.semicolon=!0;break}if("{"===e[0]){i=!0;break}if("}"===e[0]){if(s.length>0){for(n=s.length-1,o=s[n];o&&"space"===o[0];)o=s[--n];o&&(t.source.end={line:o[4],column:o[5]})}this.end(e);break}if(s.push(e),this.tokenizer.endOfFile()){r=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(s),s.length?(t.raws.afterName=this.spacesAndCommentsFromStart(s),this.raw(t,"params",s),r&&(e=s[s.length-1],t.source.end={line:e[4],column:e[5]},this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),i&&(t.nodes=[],this.current=t)},e.prototype.end=function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end={line:e[2],column:e[3]},this.current=this.current.parent):this.unexpectedClose(e)},e.prototype.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces},e.prototype.freeSemicolon=function(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}},e.prototype.init=function(e,t,o){this.current.push(e),e.source={start:{line:t,column:o},input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)},e.prototype.raw=function t(e,o,n){for(var r=void 0,i=void 0,s=n.length,a="",u=!0,l=void 0,c=void 0,d=/^([.|#])?([\w])+/i,p=0;p<s;p+=1)r=n[p],i=r[0],"comment"!==i||"rule"!==e.type?"comment"===i||"space"===i&&p===s-1?u=!1:a+=r[1]:(c=n[p-1],l=n[p+1],"space"!==c[0]&&"space"!==l[0]&&d.test(c[1])&&d.test(l[1])?a+=r[1]:u=!1);if(!u){var t=n.reduce(function(e,t){return e+t[1]},"");e.raws[o]={value:a,raw:t}}e[o]=a},e.prototype.spacesAndCommentsFromEnd=function(e){for(var t=void 0,o="";e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)o=e.pop()[1]+o;return o},e.prototype.spacesAndCommentsFromStart=function(e){for(var t=void 0,o="";e.length&&(t=e[0][0],"space"===t||"comment"===t);)o+=e.shift()[1];return o},e.prototype.spacesFromEnd=function(e){for(var t=void 0,o="";e.length&&(t=e[e.length-1][0],"space"===t);)o=e.pop()[1]+o;return o},e.prototype.stringFrom=function(e,t){for(var o="",n=t;n<e.length;n++)o+=e[n][1];return e.splice(t,e.length-t),o},e.prototype.colon=function(e){for(var t=0,o=void 0,n=void 0,r=void 0,i=0;i<e.length;i++){if(o=e[i],n=o[0],"("===n)t+=1;else if(")"===n)t-=1;else if(0===t&&":"===n){if(r){if("word"===r[0]&&"progid"===r[1])continue;return i}this.doubleColon(o)}r=o}return!1},e.prototype.unclosedBracket=function(e){throw this.input.error("Unclosed bracket",e[2],e[3])},e.prototype.unknownWord=function(e){throw this.input.error("Unknown word",e[0][2],e[0][3])},e.prototype.unexpectedClose=function(e){throw this.input.error("Unexpected }",e[2],e[3])},e.prototype.unclosedBlock=function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)},e.prototype.doubleColon=function(e){throw this.input.error("Double colon",e[2],e[3])},e.prototype.unnamedAtrule=function(e,t){throw this.input.error("At-rule without name",t[2],t[3])},e.prototype.precheckMissedSemicolon=function(e){},e.prototype.checkMissedSemicolon=function(e){var t=this.colon(e);if(t!==!1){for(var o=0,n=void 0,r=t-1;r>=0&&(n=e[r],"space"===n[0]||(o+=1,2!==o));r--);throw this.input.error("Missed semicolon",n[2],n[3])}},e}();o["default"]=y,t.exports=o["default"]},{"./at-rule":382,"./comment":383,"./declaration":386,"./root":398,"./rule":399,"./tokenize":403}],394:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new u["default"](t)}o.__esModule=!0;var i=e("./declaration"),s=n(i),a=e("./processor"),u=n(a),l=e("./stringify"),c=n(l),d=e("./comment"),p=n(d),h=e("./at-rule"),f=n(h),m=e("./vendor"),g=n(m),y=e("./parse"),v=n(y),b=e("./list"),_=n(b),w=e("./rule"),S=n(w),C=e("./root"),E=n(C);r.plugin=function(e,t){var o=function(){var o=t.apply(void 0,arguments);return o.postcssPlugin=e,o.postcssVersion=(new u["default"]).version,o},n=void 0;return Object.defineProperty(o,"postcss",{get:function(){return n||(n=o()),n}}),o.process=function(e,t,n){return r([o(n)]).process(e,t)},o},r.stringify=c["default"],r.parse=v["default"],r.vendor=g["default"],r.list=_["default"],r.comment=function(e){return new p["default"](e)},r.atRule=function(e){return new f["default"](e)},r.decl=function(e){return new s["default"](e)},r.rule=function(e){return new S["default"](e)},r.root=function(e){return new E["default"](e)},o["default"]=r,t.exports=o["default"]},{"./at-rule":382,"./comment":383,"./declaration":386,"./list":389,"./parse":392,"./processor":396,"./root":398,"./rule":399,"./stringify":401,"./vendor":404}],395:[function(e,t,o){(function(n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return n?n.from&&n.from!==Uint8Array.from?n.from(e,"base64").toString():new n(e,"base64").toString():window.atob(e)}o.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=e("source-map"),l=r(u),c=e("path"),d=r(c),p=e("fs"),h=r(p),f=function(){function e(t,o){i(this,e),this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");var n=o.map?o.map.prev:void 0,r=this.loadMap(o.from,n);r&&(this.text=r)}return e.prototype.consumer=function(){return this.consumerCache||(this.consumerCache=new l["default"].SourceMapConsumer(this.text)),this.consumerCache},e.prototype.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e.prototype.startWith=function(e,t){return!!e&&e.substr(0,t.length)===t},e.prototype.loadAnnotation=function(e){var t=e.match(/\/\*\s*# sourceMappingURL=(.*)\s*\*\//);t&&(this.annotation=t[1].trim())},e.prototype.decodeInline=function(e){var t=/^data:application\/json;(?:charset=utf-?8;)?base64,/,o="data:application/json,";if(this.startWith(e,o))return decodeURIComponent(e.substr(o.length));if(t.test(e))return s(e.substr(RegExp.lastMatch.length));var n=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)},e.prototype.loadMap=function(e,t){if(t===!1)return!1;if(t){if("string"==typeof t)return t;if("function"==typeof t){var o=t(e);if(o&&h["default"].existsSync&&h["default"].existsSync(o))return h["default"].readFileSync(o,"utf-8").toString().trim();throw new Error("Unable to load previous source map: "+o.toString())}if(t instanceof l["default"].SourceMapConsumer)return l["default"].SourceMapGenerator.fromSourceMap(t).toString();if(t instanceof l["default"].SourceMapGenerator)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var n=this.annotation;return e&&(n=d["default"].join(d["default"].dirname(e),n)),this.root=d["default"].dirname(n),!(!h["default"].existsSync||!h["default"].existsSync(n))&&h["default"].readFileSync(n,"utf-8").toString().trim()}},e.prototype.isMap=function(e){return"object"===("undefined"==typeof e?"undefined":a(e))&&("string"==typeof e.mappings||"string"==typeof e._mappings)},e}();o["default"]=f,t.exports=o["default"]}).call(this,e("buffer").Buffer)},{buffer:323,fs:319,path:381,"source-map":438}],396:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=e("./lazy-result"),a=n(s),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,e),this.version="6.0.23",this.plugins=this.normalize(t)}return e.prototype.use=function(e){return this.plugins=this.plugins.concat(this.normalize([e])),this},e.prototype.process=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new a["default"](this,e,t)},e.prototype.normalize=function(e){for(var t=[],o=e,n=Array.isArray(o),r=0,o=n?o:o[Symbol.iterator]();;){var s;if(n){if(r>=o.length)break;s=o[r++]}else{if(r=o.next(),r.done)break;s=r.value}var a=s;if(a.postcss&&(a=a.postcss),"object"===("undefined"==typeof a?"undefined":i(a))&&Array.isArray(a.plugins))t=t.concat(a.plugins);else{if("function"!=typeof a)throw"object"===("undefined"==typeof a?"undefined":i(a))&&(a.parse||a.stringify)?new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation."):new Error(a+" is not a PostCSS plugin");t.push(a)}}return t},e}();o["default"]=u,t.exports=o["default"]},{"./lazy-result":388}],397:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.__esModule=!0;var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=e("./warning"),a=n(s),u=function(){function e(t,o,n){r(this,e),this.processor=t,this.messages=[],this.root=o,this.opts=n,this.css=void 0,this.map=void 0}return e.prototype.toString=function(){return this.css},e.prototype.warn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var o=new a["default"](e,t);return this.messages.push(o),o},e.prototype.warnings=function(){return this.messages.filter(function(e){return"warning"===e.type})},i(e,[{key:"content",get:function(){return this.css}}]),e}();o["default"]=u,t.exports=o["default"]},{"./warning":406}],398:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.__esModule=!0;var a=e("./container"),u=n(a),l=function(t){function o(e){r(this,o);var n=i(this,t.call(this,e));return n.type="root",n.nodes||(n.nodes=[]),n}return s(o,t),o.prototype.removeChild=function(e,o){var n=this.index(e);return!o&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),t.prototype.removeChild.call(this,e)},o.prototype.normalize=function(e,o,n){var r=t.prototype.normalize.call(this,e);if(o)if("prepend"===n)this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(var i=r,s=Array.isArray(i),a=0,i=s?i:i[Symbol.iterator]();;){var u;if(s){if(a>=i.length)break;u=i[a++]}else{if(a=i.next(),a.done)break;u=a.value}var l=u;l.raws.before=o.raws.before}return r},o.prototype.toResult=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e("./lazy-result"),n=e("./processor"),r=new o(new n,this,t);return r.stringify()},o}(u["default"]);o["default"]=l,t.exports=o["default"]},{"./container":384,"./lazy-result":388,"./processor":396}],399:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.__esModule=!0;var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=e("./container"),l=n(u),c=e("./list"),d=n(c),p=function(e){function t(o){r(this,t);var n=i(this,e.call(this,o));return n.type="rule",n.nodes||(n.nodes=[]),n}return s(t,e),a(t,[{key:"selectors",get:function(){return d["default"].comma(this.selector)},set:function(e){var t=this.selector?this.selector.match(/,\s*/):null,o=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(o)}}]),t}(l["default"]);o["default"]=p,t.exports=o["default"]},{"./container":384,"./list":389}],400:[function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return e[0].toUpperCase()+e.slice(1)}o.__esModule=!0;var i={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" "},s=function(){function e(t){n(this,e),this.builder=t}return e.prototype.stringify=function(e,t){this[e.type](e,t)},e.prototype.root=function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)},e.prototype.comment=function(e){var t=this.raw(e,"left","commentLeft"),o=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+o+"*/",e)},e.prototype.decl=function(e,t){var o=this.raw(e,"between","colon"),n=e.prop+o+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)},e.prototype.rule=function(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")},e.prototype.atrule=function(e,t){var o="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if("undefined"!=typeof e.raws.afterName?o+=e.raws.afterName:n&&(o+=" "),e.nodes)this.block(e,o+n);else{var r=(e.raws.between||"")+(t?";":"");this.builder(o+n+r,e)}},e.prototype.body=function(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var o=this.raw(e,"semicolon"),n=0;n<e.nodes.length;n++){var r=e.nodes[n],i=this.raw(r,"before");i&&this.builder(i),this.stringify(r,t!==n||o)}},e.prototype.block=function(e,t){var o=this.raw(e,"between","beforeOpen");this.builder(t+o+"{",e,"start");var n=void 0;e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")},e.prototype.raw=function(e,t,o){var n=void 0;if(o||(o=t),t&&(n=e.raws[t],"undefined"!=typeof n))return n;var s=e.parent;if("before"===o&&(!s||"root"===s.type&&s.first===e))return"";if(!s)return i[o];var a=e.root();if(a.rawCache||(a.rawCache={}),"undefined"!=typeof a.rawCache[o])return a.rawCache[o];if("before"===o||"after"===o)return this.beforeAfter(e,o);var u="raw"+r(o);return this[u]?n=this[u](a,e):a.walk(function(e){if(n=e.raws[t],"undefined"!=typeof n)return!1}),"undefined"==typeof n&&(n=i[o]),a.rawCache[o]=n,n},e.prototype.rawSemicolon=function(e){var t=void 0;return e.walk(function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,"undefined"!=typeof t))return!1}),t},e.prototype.rawEmptyBody=function(e){var t=void 0;return e.walk(function(e){if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,"undefined"!=typeof t))return!1}),t},e.prototype.rawIndent=function(e){if(e.raws.indent)return e.raws.indent;var t=void 0;return e.walk(function(o){var n=o.parent;if(n&&n!==e&&n.parent&&n.parent===e&&"undefined"!=typeof o.raws.before){var r=o.raws.before.split("\n");return t=r[r.length-1],t=t.replace(/[^\s]/g,""),!1}}),t},e.prototype.rawBeforeComment=function(e,t){var o=void 0;return e.walkComments(function(e){if("undefined"!=typeof e.raws.before)return o=e.raws.before,o.indexOf("\n")!==-1&&(o=o.replace(/[^\n]+$/,"")),!1}),"undefined"==typeof o?o=this.raw(t,null,"beforeDecl"):o&&(o=o.replace(/[^\s]/g,"")),o},e.prototype.rawBeforeDecl=function(e,t){var o=void 0;return e.walkDecls(function(e){if("undefined"!=typeof e.raws.before)return o=e.raws.before,o.indexOf("\n")!==-1&&(o=o.replace(/[^\n]+$/,"")),!1}),"undefined"==typeof o?o=this.raw(t,null,"beforeRule"):o&&(o=o.replace(/[^\s]/g,"")),o},e.prototype.rawBeforeRule=function(e){var t=void 0;return e.walk(function(o){if(o.nodes&&(o.parent!==e||e.first!==o)&&"undefined"!=typeof o.raws.before)return t=o.raws.before,t.indexOf("\n")!==-1&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/[^\s]/g,"")),t},e.prototype.rawBeforeClose=function(e){var t=void 0;return e.walk(function(e){if(e.nodes&&e.nodes.length>0&&"undefined"!=typeof e.raws.after)return t=e.raws.after,t.indexOf("\n")!==-1&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/[^\s]/g,"")),t},e.prototype.rawBeforeOpen=function(e){var t=void 0;return e.walk(function(e){if("decl"!==e.type&&(t=e.raws.between,"undefined"!=typeof t))return!1}),t},e.prototype.rawColon=function(e){var t=void 0;return e.walkDecls(function(e){if("undefined"!=typeof e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t},e.prototype.beforeAfter=function(e,t){var o=void 0;o="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var n=e.parent,r=0;n&&"root"!==n.type;)r+=1,n=n.parent;if(o.indexOf("\n")!==-1){var i=this.raw(e,null,"indent");if(i.length)for(var s=0;s<r;s++)o+=i}return o},e.prototype.rawValue=function(e,t){var o=e[t],n=e.raws[t];return n&&n.value===o?n.raw:o},e}();o["default"]=s,t.exports=o["default"]},{}],401:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var o=new s["default"](t);o.stringify(e)}o.__esModule=!0,o["default"]=r;var i=e("./stringifier"),s=n(i);t.exports=o["default"]},{"./stringifier":400}],402:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var o=e[0],n=e[1];if("word"===o){if("."===n[0])return"class";if("#"===n[0])return"hash"}if(!t.endOfFile()){var r=t.nextToken();if(t.back(r),"brackets"===r[0]||"("===r[0])return"call"}return o}function i(e){for(var t=(0,l["default"])(new d["default"](e),{ignoreErrors:!0}),o="",n=function(){var e=t.nextToken(),n=p[r(e,t)];o+=n?e[1].split(/\r?\n/).map(function(e){return n(e)}).join("\n"):e[1]};!t.endOfFile();)n();return o}o.__esModule=!0;var s=e("chalk"),a=n(s),u=e("./tokenize"),l=n(u),c=e("./input"),d=n(c),p={brackets:a["default"].cyan,"at-word":a["default"].cyan,call:a["default"].cyan,comment:a["default"].gray,string:a["default"].green,"class":a["default"].yellow,hash:a["default"].magenta,"(":a["default"].cyan,")":a["default"].cyan,"{":a["default"].yellow,"}":a["default"].yellow,"[":a["default"].yellow,"]":a["default"].yellow,":":a["default"].yellow,";":a["default"].yellow};o["default"]=i,t.exports=o["default"]},{"./input":387,"./tokenize":403,chalk:319}],403:[function(e,t,o){"use strict";function n(e){function t(t){throw e.error("Unclosed "+t,G,Q-W)}function o(){return 0===Y.length&&Q>=B}function n(){if(Y.length)return Y.pop();if(!(Q>=B)){switch(O=$.charCodeAt(Q),(O===u||O===c||O===p&&$.charCodeAt(Q+1)!==u)&&(W=Q,G+=1),O){case u:case l:case d:case p:case c:R=Q;do R+=1,O=$.charCodeAt(R),O===u&&(W=R,G+=1);while(O===l||O===u||O===d||O===p||O===c);z=["space",$.slice(Q,R)],Q=R-1;break;case h:z=["[","[",G,Q-W];break;case f:z=["]","]",G,Q-W];break;case y:z=["{","{",G,Q-W];break;case v:z=["}","}",G,Q-W];break;case w:z=[":",":",G,Q-W];break;case b:z=[";",";",G,Q-W];break;case m:if(V=K.length?K.pop()[1]:"",j=$.charCodeAt(Q+1),"url"===V&&j!==r&&j!==i&&j!==l&&j!==u&&j!==d&&j!==c&&j!==p){R=Q;do{if(U=!1,R=$.indexOf(")",R+1),R===-1){if(x){R=Q;break}t("bracket")}for(H=R;$.charCodeAt(H-1)===s;)H-=1,U=!U}while(U);z=["brackets",$.slice(Q,R+1),G,Q-W,G,R-W],Q=R}else R=$.indexOf(")",Q+1),N=$.slice(Q,R+1),R===-1||k.test(N)?z=["(","(",G,Q-W]:(z=["brackets",N,G,Q-W,G,R-W],Q=R);break;case g:z=[")",")",G,Q-W];break;case r:case i:P=O===r?"'":'"',R=Q;do{if(U=!1,R=$.indexOf(P,R+1),R===-1){if(x){R=Q+1;break}t("string")}for(H=R;$.charCodeAt(H-1)===s;)H-=1,U=!U}while(U);N=$.slice(Q,R+1),D=N.split("\n"),M=D.length-1,M>0?(q=G+M,F=R-D[M].length):(q=G,F=W),z=["string",$.slice(Q,R+1),G,Q-W,q,R-F],W=F,G=q,Q=R;break;case S:C.lastIndex=Q+1,C.test($),R=0===C.lastIndex?$.length-1:C.lastIndex-2,z=["at-word",$.slice(Q,R+1),G,Q-W,G,R-W],Q=R;break;case s:for(R=Q,L=!0;$.charCodeAt(R+1)===s;)R+=1,L=!L;if(O=$.charCodeAt(R+1),L&&O!==a&&O!==l&&O!==u&&O!==d&&O!==p&&O!==c&&(R+=1,T.test($.charAt(R)))){for(;T.test($.charAt(R+1));)R+=1;$.charCodeAt(R+1)===l&&(R+=1)}z=["word",$.slice(Q,R+1),G,Q-W,G,R-W],Q=R;break;default:O===a&&$.charCodeAt(Q+1)===_?(R=$.indexOf("*/",Q+2)+1,0===R&&(x?R=$.length:t("comment")),N=$.slice(Q,R+1),D=N.split("\n"),M=D.length-1,M>0?(q=G+M,F=R-D[M].length):(q=G,F=W),z=["comment",N,G,Q-W,q,R-F],W=F,G=q,Q=R):(E.lastIndex=Q+1,E.test($),R=0===E.lastIndex?$.length-1:E.lastIndex-2,z=["word",$.slice(Q,R+1),G,Q-W,G,R-W],K.push(z),Q=R)}return Q++,z}}function I(e){Y.push(e)}var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$=e.css.valueOf(),x=A.ignoreErrors,O=void 0,R=void 0,P=void 0,D=void 0,M=void 0,N=void 0,L=void 0,q=void 0,F=void 0,U=void 0,H=void 0,V=void 0,j=void 0,z=void 0,B=$.length,W=-1,G=1,Q=0,K=[],Y=[];return{back:I,nextToken:n,endOfFile:o}}o.__esModule=!0,o["default"]=n;var r=39,i=34,s=92,a=47,u=10,l=32,c=12,d=9,p=13,h=91,f=93,m=40,g=41,y=123,v=125,b=59,_=42,w=58,S=64,C=/[ \n\t\r\f\{\}\(\)'"\\;\/\[\]#]/g,E=/[ \n\t\r\f\(\)\{\}:;@!'"\\\]\[#]|\/(?=\*)/g,k=/.[\\\/\("'\n]/,T=/[a-f0-9]/i;t.exports=o["default"]},{}],404:[function(e,t,o){"use strict";o.__esModule=!0;var n={prefix:function(e){var t=e.match(/^(-\w+-)/);return t?t[0]:""},unprefixed:function(e){return e.replace(/^-\w+-/,"")}};o["default"]=n,t.exports=o["default"]},{}],405:[function(e,t,o){"use strict";function n(e){r[e]||(r[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e))}o.__esModule=!0,o["default"]=n;var r={};t.exports=o["default"]},{}],406:[function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.__esModule=!0;var r=function(){function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,e),this.type="warning",this.text=t,o.node&&o.node.source){var r=o.node.positionBy(o);this.line=r.line,this.column=r.column}for(var i in o)this[i]=o[i]}return e.prototype.toString=function(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e}();o["default"]=r,t.exports=o["default"]},{}],407:[function(e,t,o){(function(e){"use strict";function o(t,o,n,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,o)});case 3:return e.nextTick(function(){t.call(null,o,n)});case 4:return e.nextTick(function(){t.call(null,o,n,r)});default:for(i=new Array(a-1),s=0;s<i.length;)i[s++]=arguments[s];return e.nextTick(function(){t.apply(null,i)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:o}:t.exports=e}).call(this,e("_process"))},{_process:320}],408:[function(e,t,o){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,o,i){t=t||"&",o=o||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var d,p,h,f,m=e[c].replace(a,"%20"),g=m.indexOf(o);g>=0?(d=m.substr(0,g),p=m.substr(g+1)):(d=m,p=""),h=decodeURIComponent(d),f=decodeURIComponent(p),n(s,h)?r(s[h])?s[h].push(f):s[h]=[s[h],f]:s[h]=f}return s};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],409:[function(e,t,o){"use strict";function n(e,t){if(e.map)return e.map(t);for(var o=[],n=0;n<e.length;n++)o.push(t(e[n],n));return o}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,o,a){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?n(s(e),function(s){var a=encodeURIComponent(r(s))+o;return i(e[s])?n(e[s],function(e){return a+encodeURIComponent(r(e))}).join(t):a+encodeURIComponent(r(e[s]))}).join(t):a?encodeURIComponent(r(a))+o+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.push(o);return t}},{}],410:[function(e,t,o){"use strict";o.decode=o.parse=e("./decode"),o.encode=o.stringify=e("./encode")},{"./decode":408,"./encode":409}],411:[function(e,t,o){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":412}],412:[function(e,t,o){"use strict";function n(e){return this instanceof n?(l.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",r)):new n(e)}function r(){this.allowHalfOpen||this._writableState.ended||s.nextTick(i,this)}function i(e){e.end()}var s=e("process-nextick-args"),a=Object.keys||function(e){var t=[];for(var o in e)t.push(o);return t};t.exports=n;var u=e("core-util-is");u.inherits=e("inherits");var l=e("./_stream_readable"),c=e("./_stream_writable");u.inherits(n,l);for(var d=a(c.prototype),p=0;p<d.length;p++){var h=d[p];n.prototype[h]||(n.prototype[h]=c.prototype[h])}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),n.prototype._destroy=function(e,t){this.push(null),this.end(),s.nextTick(t,e)}},{"./_stream_readable":414,"./_stream_writable":416,"core-util-is":327,inherits:368,"process-nextick-args":407}],413:[function(e,t,o){"use strict";function n(e){return this instanceof n?void r.call(this,e):new n(e)}t.exports=n;var r=e("./_stream_transform"),i=e("core-util-is");i.inherits=e("inherits"),i.inherits(n,r),n.prototype._transform=function(e,t,o){o(null,e)}},{"./_stream_transform":415,"core-util-is":327,inherits:368}],414:[function(e,t,o){(function(o,n){"use strict";function r(e){return L.from(e)}function i(e){return L.isBuffer(e)||e instanceof q}function s(e,t,o){return"function"==typeof e.prependListener?e.prependListener(t,o):void(e._events&&e._events[t]?D(e._events[t])?e._events[t].unshift(o):e._events[t]=[o,e._events[t]]:e.on(t,o))}function a(t,o){P=P||e("./_stream_duplex"),t=t||{};var n=o instanceof P;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16384;r||0===r?this.highWaterMark=r:n&&(i||0===i)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new j,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(V||(V=e("string_decoder/").StringDecoder),this.decoder=new V(t.encoding),this.encoding=t.encoding)}function u(t){return P=P||e("./_stream_duplex"),this instanceof u?(this._readableState=new a(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),void N.call(this)):new u(t)}function l(e,t,o,n,i){var s=e._readableState;if(null===t)s.reading=!1,m(e,s);else{var a;i||(a=d(s,t)),a?e.emit("error",a):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===L.prototype||(t=r(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):c(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!o?(t=s.decoder.write(t),s.objectMode||0!==t.length?c(e,s,t,!1):v(e,s)):c(e,s,t,!1))):n||(s.reading=!1)}return p(s)}function c(e,t,o,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",o),e.read(0)):(t.length+=t.objectMode?1:o.length,n?t.buffer.unshift(o):t.buffer.push(o),t.needReadable&&g(e)),v(e,t)}function d(e,t){var o;return i(t)||"string"==typeof t||void 0===t||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o}function p(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function h(e){return e>=W?e=W:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function f(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=h(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e,t){if(!t.ended){if(t.decoder){var o=t.decoder.end();o&&o.length&&(t.buffer.push(o),t.length+=t.objectMode?1:o.length)}t.ended=!0,g(e)}}function g(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(H("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?R.nextTick(y,e):y(e))}function y(e){H("emit readable"),e.emit("readable"),E(e)}function v(e,t){t.readingMore||(t.readingMore=!0,R.nextTick(b,e,t))}function b(e,t){for(var o=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(H("maybeReadMore read 0"),e.read(0),o!==t.length);)o=t.length;t.readingMore=!1}function _(e){return function(){var t=e._readableState;H("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&M(e,"data")&&(t.flowing=!0,E(e))}}function w(e){H("readable nexttick read 0"),e.read(0)}function S(e,t){t.resumeScheduled||(t.resumeScheduled=!0,R.nextTick(C,e,t))}function C(e,t){
t.reading||(H("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(H("flow",t.flowing);t.flowing&&null!==e.read(););}function k(e,t){if(0===t.length)return null;var o;return t.objectMode?o=t.buffer.shift():!e||e>=t.length?(o=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):o=T(e,t.buffer,t.decoder),o}function T(e,t,o){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():o?I(e,t):A(e,t),n}function I(e,t){var o=t.head,n=1,r=o.data;for(e-=r.length;o=o.next;){var i=o.data,s=e>i.length?i.length:e;if(r+=s===i.length?i:i.slice(0,e),e-=s,0===e){s===i.length?(++n,o.next?t.head=o.next:t.head=t.tail=null):(t.head=o,o.data=i.slice(s));break}++n}return t.length-=n,r}function A(e,t){var o=L.allocUnsafe(e),n=t.head,r=1;for(n.data.copy(o),e-=n.data.length;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(o,o.length-e,0,s),e-=s,0===e){s===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(s));break}++r}return t.length-=r,o}function $(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,R.nextTick(x,t,e))}function x(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function O(e,t){for(var o=0,n=e.length;o<n;o++)if(e[o]===t)return o;return-1}var R=e("process-nextick-args");t.exports=u;var P,D=e("isarray");u.ReadableState=a;var M=(e("events").EventEmitter,function(e,t){return e.listeners(t).length}),N=e("./internal/streams/stream"),L=e("safe-buffer").Buffer,q=n.Uint8Array||function(){},F=e("core-util-is");F.inherits=e("inherits");var U=e("util"),H=void 0;H=U&&U.debuglog?U.debuglog("stream"):function(){};var V,j=e("./internal/streams/BufferList"),z=e("./internal/streams/destroy");F.inherits(u,N);var B=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),u.prototype.destroy=z.destroy,u.prototype._undestroy=z.undestroy,u.prototype._destroy=function(e,t){this.push(null),t(e)},u.prototype.push=function(e,t){var o,n=this._readableState;return n.objectMode?o=!0:"string"==typeof e&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=L.from(e,t),t=""),o=!0),l(this,e,t,!1,o)},u.prototype.unshift=function(e){return l(this,e,null,!0,!1)},u.prototype.isPaused=function(){return this._readableState.flowing===!1},u.prototype.setEncoding=function(t){return V||(V=e("string_decoder/").StringDecoder),this._readableState.decoder=new V(t),this._readableState.encoding=t,this};var W=8388608;u.prototype.read=function(e){H("read",e),e=parseInt(e,10);var t=this._readableState,o=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return H("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?$(this):g(this),null;if(e=f(e,t),0===e&&t.ended)return 0===t.length&&$(this),null;var n=t.needReadable;H("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,H("length less than watermark",n)),t.ended||t.reading?(n=!1,H("reading or ended",n)):n&&(H("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=f(o,t)));var r;return r=e>0?k(e,t):null,null===r?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),o!==e&&t.ended&&$(this)),null!==r&&this.emit("data",r),r},u.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(e,t){function n(e,t){H("onunpipe"),e===p&&t&&t.hasUnpiped===!1&&(t.hasUnpiped=!0,i())}function r(){H("onend"),e.end()}function i(){H("cleanup"),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("drain",g),e.removeListener("error",u),e.removeListener("unpipe",n),p.removeListener("end",r),p.removeListener("end",d),p.removeListener("data",a),y=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){H("ondata"),v=!1;var o=e.write(t);!1!==o||v||((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&O(h.pipes,e)!==-1)&&!y&&(H("false write response, pause",p._readableState.awaitDrain),p._readableState.awaitDrain++,v=!0),p.pause())}function u(t){H("onerror",t),d(),e.removeListener("error",u),0===M(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",c),d()}function c(){H("onfinish"),e.removeListener("close",l),d()}function d(){H("unpipe"),p.unpipe(e)}var p=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,H("pipe count=%d opts=%j",h.pipesCount,t);var f=(!t||t.end!==!1)&&e!==o.stdout&&e!==o.stderr,m=f?r:d;h.endEmitted?R.nextTick(m):p.once("end",m),e.on("unpipe",n);var g=_(p);e.on("drain",g);var y=!1,v=!1;return p.on("data",a),s(e,"error",u),e.once("close",l),e.once("finish",c),e.emit("pipe",p),h.flowing||(H("pipe resume"),p.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState,o={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,o),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this,o);return this}var s=O(t.pipes,e);return s===-1?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,o),this)},u.prototype.on=function(e,t){var o=N.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&g(this):R.nextTick(w,this))}return o},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(H("resume"),e.flowing=!0,S(this,e)),this},u.prototype.pause=function(){return H("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(H("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this,o=this._readableState,n=!1;e.on("end",function(){if(H("wrapped end"),o.decoder&&!o.ended){var e=o.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(r){if(H("wrapped data"),o.decoder&&(r=o.decoder.write(r)),(!o.objectMode||null!==r&&void 0!==r)&&(o.objectMode||r&&r.length)){var i=t.push(r);i||(n=!0,e.pause())}});for(var r in e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var i=0;i<B.length;i++)e.on(B[i],this.emit.bind(this,B[i]));return this._read=function(t){H("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),u._fromList=k}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":412,"./internal/streams/BufferList":417,"./internal/streams/destroy":418,"./internal/streams/stream":419,_process:320,"core-util-is":327,events:354,inherits:368,isarray:420,"process-nextick-args":407,"safe-buffer":425,"string_decoder/":441,util:319}],415:[function(e,t,o){"use strict";function n(e,t){var o=this._transformState;o.transforming=!1;var n=o.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));o.writechunk=null,o.writecb=null,null!=t&&this.push(t),n(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function r(e){return this instanceof r?(a.call(this,e),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),void this.on("prefinish",i)):new r(e)}function i(){var e=this;"function"==typeof this._flush?this._flush(function(t,o){s(e,t,o)}):s(this,null,null)}function s(e,t,o){if(t)return e.emit("error",t);if(null!=o&&e.push(o),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}t.exports=r;var a=e("./_stream_duplex"),u=e("core-util-is");u.inherits=e("inherits"),u.inherits(r,a),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},r.prototype._transform=function(e,t,o){throw new Error("_transform() is not implemented")},r.prototype._write=function(e,t,o){var n=this._transformState;if(n.writecb=o,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},r.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},r.prototype._destroy=function(e,t){var o=this;a.prototype._destroy.call(this,e,function(e){t(e),o.emit("close")})}},{"./_stream_duplex":412,"core-util-is":327,inherits:368}],416:[function(e,t,o){(function(o,n,r){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){I(t,e)}}function s(e){return D.from(e)}function a(e){return D.isBuffer(e)||e instanceof M}function u(){}function l(t,o){$=$||e("./_stream_duplex"),t=t||{};var n=o instanceof $;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,s=t.writableHighWaterMark,a=this.objectMode?16:16384;r||0===r?this.highWaterMark=r:n&&(s||0===s)?this.highWaterMark=s:this.highWaterMark=a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=t.decodeStrings===!1;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){v(o,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function c(t){return $=$||e("./_stream_duplex"),L.call(c,this)||this instanceof $?(this._writableState=new l(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t["final"]&&(this._final=t["final"])),void P.call(this)):new c(t)}function d(e,t){var o=new Error("write after end");e.emit("error",o),A.nextTick(t,o)}function p(e,t,o,n){var r=!0,i=!1;return null===o?i=new TypeError("May not write null values to stream"):"string"==typeof o||void 0===o||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),A.nextTick(n,i),r=!1),r}function h(e,t,o){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=D.from(t,o)),t}function f(e,t,o,n,r,i){if(!o){var s=h(t,n,r);n!==s&&(o=!0,r="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:r,isBuf:o,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,a,n,r,i);return u}function m(e,t,o,n,r,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,o?e._writev(r,t.onwrite):e._write(r,i,t.onwrite),t.sync=!1}function g(e,t,o,n,r){--t.pendingcb,o?(A.nextTick(r,n),A.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(r(n),e._writableState.errorEmitted=!0,e.emit("error",n),k(e,t))}function y(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function v(e,t){var o=e._writableState,n=o.sync,r=o.writecb;if(y(o),t)g(e,o,n,t,r);else{var i=S(o);i||o.corked||o.bufferProcessing||!o.bufferedRequest||w(e,o),n?x(b,e,o,i,r):b(e,o,i,r)}}function b(e,t,o,n){o||_(e,t),t.pendingcb--,n(),k(e,t)}function _(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function w(e,t){t.bufferProcessing=!0;var o=t.bufferedRequest;if(e._writev&&o&&o.next){var n=t.bufferedRequestCount,r=new Array(n),s=t.corkedRequestsFree;s.entry=o;for(var a=0,u=!0;o;)r[a]=o,o.isBuf||(u=!1),o=o.next,a+=1;r.allBuffers=u,m(e,t,!0,t.length,r,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;o;){var l=o.chunk,c=o.encoding,d=o.callback,p=t.objectMode?1:l.length;if(m(e,t,!1,p,l,c,d),o=o.next,t.bufferedRequestCount--,t.writing)break}null===o&&(t.lastBufferedRequest=null)}t.bufferedRequest=o,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(o){t.pendingcb--,o&&e.emit("error",o),t.prefinished=!0,e.emit("prefinish"),k(e,t)})}function E(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,A.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function k(e,t){var o=S(t);return o&&(E(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),o}function T(e,t,o){t.ending=!0,k(e,t),o&&(t.finished?A.nextTick(o):e.once("finish",o)),t.ended=!0,e.writable=!1}function I(e,t,o){var n=e.entry;for(e.entry=null;n;){var r=n.callback;t.pendingcb--,r(o),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var A=e("process-nextick-args");t.exports=c;var $,x=!o.browser&&["v0.10","v0.9."].indexOf(o.version.slice(0,5))>-1?r:A.nextTick;c.WritableState=l;var O=e("core-util-is");O.inherits=e("inherits");var R={deprecate:e("util-deprecate")},P=e("./internal/streams/stream"),D=e("safe-buffer").Buffer,M=n.Uint8Array||function(){},N=e("./internal/streams/destroy");O.inherits(c,P),l.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(l.prototype,"buffer",{get:R.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var L;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!L.call(this,e)||this===c&&(e&&e._writableState instanceof l)}})):L=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,o){var n=this._writableState,r=!1,i=!n.objectMode&&a(e);return i&&!D.isBuffer(e)&&(e=s(e)),"function"==typeof t&&(o=t,t=null),i?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof o&&(o=u),n.ended?d(this,o):(i||p(this,n,e,o))&&(n.pendingcb++,r=f(this,n,i,e,t,o)),r},c.prototype.cork=function(){var e=this._writableState;e.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),c.prototype._write=function(e,t,o){o(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,o){var n=this._writableState;"function"==typeof e?(o=e,e=null,t=null):"function"==typeof t&&(o=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||T(this,n,o)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=N.destroy,c.prototype._undestroy=N.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{"./_stream_duplex":412,"./internal/streams/destroy":418,"./internal/streams/stream":419,_process:320,"core-util-is":327,inherits:368,"process-nextick-args":407,"safe-buffer":425,timers:442,"util-deprecate":448}],417:[function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,o){e.copy(t,o)}var i=e("safe-buffer").Buffer,s=e("util");t.exports=function(){function e(){n(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,o=""+t.data;t=t.next;)o+=e+t.data;return o},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),o=this.head,n=0;o;)r(o.data,t,n),n+=o.data.length,o=o.next;return t},e}(),s&&s.inspect&&s.inspect.custom&&(t.exports.prototype[s.inspect.custom]=function(){var e=s.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":425,util:319}],418:[function(e,t,o){"use strict";function n(e,t){var o=this,n=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return n||r?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||s.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(s.nextTick(i,o,e),o._writableState&&(o._writableState.errorEmitted=!0)):t&&t(e)}),this)}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(e,t){e.emit("error",t)}var s=e("process-nextick-args");t.exports={destroy:n,undestroy:r}},{"process-nextick-args":407}],419:[function(e,t,o){t.exports=e("events").EventEmitter},{events:354}],420:[function(e,t,o){arguments[4][370][0].apply(o,arguments)},{dup:370}],421:[function(e,t,o){t.exports=e("./readable").PassThrough},{"./readable":422}],422:[function(e,t,o){o=t.exports=e("./lib/_stream_readable.js"),o.Stream=o,o.Readable=o,o.Writable=e("./lib/_stream_writable.js"),o.Duplex=e("./lib/_stream_duplex.js"),o.Transform=e("./lib/_stream_transform.js"),o.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":412,"./lib/_stream_passthrough.js":413,"./lib/_stream_readable.js":414,"./lib/_stream_transform.js":415,"./lib/_stream_writable.js":416}],423:[function(e,t,o){t.exports=e("./readable").Transform},{"./readable":422}],424:[function(e,t,o){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":416}],425:[function(e,t,o){function n(e,t){for(var o in e)t[o]=e[o]}function r(e,t,o){return s(e,t,o)}var i=e("buffer"),s=i.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=i:(n(i,o),o.Buffer=r),n(s,r),r.from=function(e,t,o){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,o)},r.alloc=function(e,t,o){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=s(e);return void 0!==t?"string"==typeof o?n.fill(t,o):n.fill(t):n.fill(0),n},r.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},r.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},{buffer:323}],426:[function(e,t,o){"use strict";function n(e,t){e&&Object.keys(e).forEach(function(o){t(e[o],o)})}function r(e,t){return{}.hasOwnProperty.call(e,t)}function i(e,t){var o=[];return n(e,function(e){t(e)&&o.push(e)}),o}function s(e,t,o){function b(e,t){var o=this;this.tag=e,this.attribs=t||{},this.tagPosition=T.length,this.text="",this.updateParentNodeText=function(){if(D.length){var e=D[D.length-1];e.text+=o.text}}}function _(e,o){return"string"!=typeof e&&(e+=""),t.parser.decodeEntities&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;"),o&&(e=e.replace(/\"/g,"&quot;"))),e=e.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;"),o&&(e=e.replace(/\"/g,"&quot;")),e}function w(e,o){o=o.replace(/[\x00-\x20]+/g,""),o=o.replace(/<\!\-\-.*?\-\-\>/g,"");var n=o.match(/^([a-zA-Z]+)\:/);if(!n)return!!o.match(/^[\/\\]{2}/)&&!t.allowProtocolRelative;var i=n[1].toLowerCase();return r(t.allowedSchemesByTag,e)?t.allowedSchemesByTag[e].indexOf(i)===-1:!t.allowedSchemes||t.allowedSchemes.indexOf(i)===-1}function S(e,t){if(!t)return e;var o,n=c(e),r=e.nodes[0];return o=t[r.selector]&&t["*"]?d(c(t[r.selector]),t["*"],function(e,t){if(Array.isArray(e))return e.concat(t)}):t[r.selector]||t["*"],o&&(n.nodes[0].nodes=r.nodes.reduce(E(o),[])),n}function C(e){return e.nodes[0].nodes.reduce(function(e,t){return e.push(t.prop+":"+t.value+";"),e},[]).join("")}function E(e){return function(t,o){if(e.hasOwnProperty(o.prop)){var n=e[o.prop].some(function(e){return e.test(o.value)});n&&t.push(o)}return t}}function k(e,t){return t?(e=e.split(/\s+/),e.filter(function(e){return t.indexOf(e)!==-1}).join(" ")):e}var T="";t?(t=u(s.defaults,t),t.parser?t.parser=u(v,t.parser):t.parser=v):(t=s.defaults,t.parser=v);var I,A,$=t.nonTextTags||["script","style","textarea"];t.allowedAttributes&&(I={},A={},n(t.allowedAttributes,function(e,t){I[t]=[];var o=[];e.forEach(function(e){p(e)&&e.indexOf("*")>=0?o.push(l(e).replace(/\\\*/g,".*")):I[t].push(e)}),A[t]=new RegExp("^("+o.join("|")+")$")}));var x={};n(t.allowedClasses,function(e,t){I&&(r(I,t)||(I[t]=[]),I[t].push("class")),x[t]=e});var O,R={};n(t.transformTags,function(e,t){var o;"function"==typeof e?o=e:"string"==typeof e&&(o=s.simpleTransform(e)),"*"===t?O=o:R[t]=o});var P=0,D=[],M={},N={},L=!1,q=0,F=new a.Parser({onopentag:function(e,o){if(L)return void q++;var s=new b(e,o);D.push(s);var a,u=!1,l=!!s.text;r(R,e)&&(a=R[e](e,o),s.attribs=o=a.attribs,void 0!==a.text&&(s.innerText=a.text),e!==a.tagName&&(s.name=e=a.tagName,N[P]=a.tagName)),O&&(a=O(e,o),s.attribs=o=a.attribs,e!==a.tagName&&(s.name=e=a.tagName,N[P]=a.tagName)),t.allowedTags&&t.allowedTags.indexOf(e)===-1&&(u=!0,$.indexOf(e)!==-1&&(L=!0,q=1),M[P]=!0),P++,u||(T+="<"+e,(!I||r(I,e)||I["*"])&&n(o,function(o,a){if(!y.test(a))return void delete s.attribs[a];var u,l=!1;if(!I||r(I,e)&&I[e].indexOf(a)!==-1||I["*"]&&I["*"].indexOf(a)!==-1||r(A,e)&&A[e].test(a)||A["*"]&&A["*"].test(a))l=!0;else if(I&&I[e]){var c=!0,d=!1,p=void 0;try{for(var v,b=I[e][Symbol.iterator]();!(c=(v=b.next()).done);c=!0){var E=v.value;if(h(E)&&E.name&&E.name===a){l=!0;var $="";if(E.multiple===!0){var O=o.split(" "),R=!0,P=!1,D=void 0;try{for(var M,N=O[Symbol.iterator]();!(R=(M=N.next()).done);R=!0){var L=M.value;E.values.indexOf(L)!==-1&&(""===$?$=L:$+=" "+L)}}catch(q){P=!0,D=q}finally{try{!R&&N["return"]&&N["return"]()}finally{if(P)throw D}}}else E.values.indexOf(o)>=0&&($=o);o=$}}}catch(q){d=!0,p=q}finally{try{!c&&b["return"]&&b["return"]()}finally{if(d)throw p}}}if(l){if(t.allowedSchemesAppliedToAttributes.indexOf(a)!==-1&&w(e,o))return void delete s.attribs[a];if("iframe"===e&&"src"===a){var F=!0;try{u=g.parse(o,!1,!0);var U=u&&null===u.host&&null===u.protocol;U?F=r(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames:t.allowedIframeHostnames&&(F=t.allowedIframeHostnames.find(function(e){return e===u.hostname}))}catch(H){F=!1}if(!F)return void delete s.attribs[a]}if("srcset"===a)try{if(u=f.parse(o),n(u,function(e){w("srcset",e.url)&&(e.evil=!0)}),u=i(u,function(e){return!e.evil}),!u.length)return void delete s.attribs[a];o=f.stringify(i(u,function(e){return!e.evil})),s.attribs[a]=o}catch(H){return void delete s.attribs[a]}if("class"===a&&(o=k(o,x[e]),!o.length))return void delete s.attribs[a];if("style"===a)try{var V=m.parse(e+" {"+o+"}"),j=S(V,t.allowedStyles);if(o=C(j),0===o.length)return void delete s.attribs[a]}catch(H){return void delete s.attribs[a]}T+=" "+a,o.length&&(T+='="'+_(o,!0)+'"')}else delete s.attribs[a]}),t.selfClosing.indexOf(e)!==-1?T+=" />":(T+=">",!s.innerText||l||t.textFilter||(T+=s.innerText)))},ontext:function(e){if(!L){var o,n=D[D.length-1];if(n&&(o=n.tag,e=void 0!==n.innerText?n.innerText:e),"script"===o||"style"===o)T+=e;else{var r=_(e,!1);T+=t.textFilter?t.textFilter(r):r}if(D.length){var i=D[D.length-1];i.text+=e}}},onclosetag:function(e){if(L){if(q--,q)return;L=!1}var o=D.pop();if(o){if(L=!1,P--,M[P])return delete M[P],void o.updateParentNodeText();if(N[P]&&(e=N[P],delete N[P]),t.exclusiveFilter&&t.exclusiveFilter(o))return void(T=T.substr(0,o.tagPosition));o.updateParentNodeText(),t.selfClosing.indexOf(e)===-1&&(T+="</"+e+">")}}},t.parser);return F.write(e),F.end(),T}var a=e("htmlparser2"),u=e("xtend"),l=e("lodash.escaperegexp"),c=e("lodash.clonedeep"),d=e("lodash.mergewith"),p=e("lodash.isstring"),h=e("lodash.isplainobject"),f=e("srcset"),m=e("postcss"),g=e("url");t.exports=s;var y=/^[^\0\t\n\f\r \/<=>]+$/,v={decodeEntities:!0};s.defaults={allowedTags:["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre","iframe"],allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0},s.simpleTransform=function(e,t,o){return o=void 0===o||o,t=t||{},function(n,r){var i;if(o)for(i in t)r[i]=t[i];else r=t;return{tagName:e,attribs:r}}}},{htmlparser2:366,"lodash.clonedeep":372,"lodash.escaperegexp":373,"lodash.isplainobject":374,"lodash.isstring":375,"lodash.mergewith":376,postcss:394,srcset:439,url:446,xtend:449}],427:[function(e,t,o){function n(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var o=e.hasAttribute("readonly");o||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),o||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r),t=n.toString()}return t}t.exports=n},{}],428:[function(e,t,o){function n(){this._array=[],this._set=s?new Map:Object.create(null)}var r=e("./util"),i=Object.prototype.hasOwnProperty,s="undefined"!=typeof Map;n.fromArray=function(e,t){for(var o=new n,r=0,i=e.length;r<i;r++)o.add(e[r],t);return o},n.prototype.size=function(){return s?this._set.size:Object.getOwnPropertyNames(this._set).length},n.prototype.add=function(e,t){var o=s?e:r.toSetString(e),n=s?this.has(e):i.call(this._set,o),a=this._array.length;n&&!t||this._array.push(e),n||(s?this._set.set(e,a):this._set[o]=a)},n.prototype.has=function(e){if(s)return this._set.has(e);var t=r.toSetString(e);return i.call(this._set,t)},n.prototype.indexOf=function(e){if(s){var t=this._set.get(e);if(t>=0)return t}else{var o=r.toSetString(e);if(i.call(this._set,o))return this._set[o]}throw new Error('"'+e+'" is not in the set.')},n.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},n.prototype.toArray=function(){return this._array.slice()},o.ArraySet=n},{"./util":437}],429:[function(e,t,o){function n(e){return e<0?(-e<<1)+1:(e<<1)+0}function r(e){var t=1===(1&e),o=e>>1;return t?-o:o}var i=e("./base64"),s=5,a=1<<s,u=a-1,l=a;o.encode=function(e){var t,o="",r=n(e);do t=r&u,r>>>=s,r>0&&(t|=l),o+=i.encode(t);while(r>0);return o},o.decode=function(e,t,o){var n,a,c=e.length,d=0,p=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(a=i.decode(e.charCodeAt(t++)),a===-1)throw new Error("Invalid base64 digit: "+e.charAt(t-1));n=!!(a&l),a&=u,d+=a<<p,p+=s}while(n);o.value=r(d),o.rest=t}},{"./base64":430}],430:[function(e,t,o){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");o.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},o.decode=function(e){var t=65,o=90,n=97,r=122,i=48,s=57,a=43,u=47,l=26,c=52;return t<=e&&e<=o?e-t:n<=e&&e<=r?e-n+l:i<=e&&e<=s?e-i+c:e==a?62:e==u?63:-1}},{}],431:[function(e,t,o){function n(e,t,r,i,s,a){var u=Math.floor((t-e)/2)+e,l=s(r,i[u],!0);return 0===l?u:l>0?t-u>1?n(u,t,r,i,s,a):a==o.LEAST_UPPER_BOUND?t<i.length?t:-1:u:u-e>1?n(e,u,r,i,s,a):a==o.LEAST_UPPER_BOUND?u:e<0?-1:e}o.GREATEST_LOWER_BOUND=1,o.LEAST_UPPER_BOUND=2,o.search=function(e,t,r,i){if(0===t.length)return-1;var s=n(-1,t.length,e,t,r,i||o.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===r(t[s],t[s-1],!0);)--s;return s}},{}],432:[function(e,t,o){function n(e,t){var o=e.generatedLine,n=t.generatedLine,r=e.generatedColumn,s=t.generatedColumn;return n>o||n==o&&s>=r||i.compareByGeneratedPositionsInflated(e,t)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var i=e("./util");r.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},r.prototype.add=function(e){n(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(i.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},o.MappingList=r},{"./util":437}],433:[function(e,t,o){function n(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function r(e,t){return Math.round(e+Math.random()*(t-e))}function i(e,t,o,s){if(o<s){var a=r(o,s),u=o-1;n(e,a,s);for(var l=e[s],c=o;c<s;c++)t(e[c],l)<=0&&(u+=1,n(e,u,c));n(e,u+1,c);var d=u+1;i(e,t,o,d-1),i(e,t,d+1,s)}}o.quickSort=function(e,t){i(e,t,0,e.length-1)}},{}],434:[function(e,t,o){function n(e,t){var o=e;return"string"==typeof e&&(o=a.parseSourceMapInput(e)),null!=o.sections?new s(o,t):new r(o,t)}function r(e,t){var o=e;"string"==typeof e&&(o=a.parseSourceMapInput(e));var n=a.getArg(o,"version"),r=a.getArg(o,"sources"),i=a.getArg(o,"names",[]),s=a.getArg(o,"sourceRoot",null),u=a.getArg(o,"sourcesContent",null),c=a.getArg(o,"mappings"),d=a.getArg(o,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);s&&(s=a.normalize(s)),r=r.map(String).map(a.normalize).map(function(e){return s&&a.isAbsolute(s)&&a.isAbsolute(e)?a.relative(s,e):e}),this._names=l.fromArray(i.map(String),!0),
this._sources=l.fromArray(r,!0),this._absoluteSources=this._sources.toArray().map(function(e){return a.computeSourceURL(s,e,t)}),this.sourceRoot=s,this.sourcesContent=u,this._mappings=c,this._sourceMapURL=t,this.file=d}function i(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function s(e,t){var o=e;"string"==typeof e&&(o=a.parseSourceMapInput(e));var r=a.getArg(o,"version"),i=a.getArg(o,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new l,this._names=new l;var s={line:-1,column:0};this._sections=i.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var o=a.getArg(e,"offset"),r=a.getArg(o,"line"),i=a.getArg(o,"column");if(r<s.line||r===s.line&&i<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=o,{generatedOffset:{generatedLine:r+1,generatedColumn:i+1},consumer:new n(a.getArg(e,"map"),t)}})}var a=e("./util"),u=e("./binary-search"),l=e("./array-set").ArraySet,c=e("./base64-vlq"),d=e("./quick-sort").quickSort;n.fromSourceMap=function(e,t){return r.fromSourceMap(e,t)},n.prototype._version=3,n.prototype.__generatedMappings=null,Object.defineProperty(n.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),n.prototype.__originalMappings=null,Object.defineProperty(n.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),n.prototype._charIsMappingSeparator=function(e,t){var o=e.charAt(t);return";"===o||","===o},n.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},n.GENERATED_ORDER=1,n.ORIGINAL_ORDER=2,n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.prototype.eachMapping=function(e,t,o){var r,i=t||null,s=o||n.GENERATED_ORDER;switch(s){case n.GENERATED_ORDER:r=this._generatedMappings;break;case n.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;r.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return t=a.computeSourceURL(u,t,this._sourceMapURL),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,i)},n.prototype.allGeneratedPositionsFor=function(e){var t=a.getArg(e,"line"),o={source:a.getArg(e,"source"),originalLine:t,originalColumn:a.getArg(e,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var n=[],r=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(r>=0){var i=this._originalMappings[r];if(void 0===e.column)for(var s=i.originalLine;i&&i.originalLine===s;)n.push({line:a.getArg(i,"generatedLine",null),column:a.getArg(i,"generatedColumn",null),lastColumn:a.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++r];else for(var l=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==l;)n.push({line:a.getArg(i,"generatedLine",null),column:a.getArg(i,"generatedColumn",null),lastColumn:a.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++r]}return n},o.SourceMapConsumer=n,r.prototype=Object.create(n.prototype),r.prototype.consumer=n,r.prototype._findSourceIndex=function(e){var t=e;if(null!=this.sourceRoot&&(t=a.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var o;for(o=0;o<this._absoluteSources.length;++o)if(this._absoluteSources[o]==e)return o;return-1},r.fromSourceMap=function(e,t){var o=Object.create(r.prototype),n=o._names=l.fromArray(e._names.toArray(),!0),s=o._sources=l.fromArray(e._sources.toArray(),!0);o.sourceRoot=e._sourceRoot,o.sourcesContent=e._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=e._file,o._sourceMapURL=t,o._absoluteSources=o._sources.toArray().map(function(e){return a.computeSourceURL(o.sourceRoot,e,t)});for(var u=e._mappings.toArray().slice(),c=o.__generatedMappings=[],p=o.__originalMappings=[],h=0,f=u.length;h<f;h++){var m=u[h],g=new i;g.generatedLine=m.generatedLine,g.generatedColumn=m.generatedColumn,m.source&&(g.source=s.indexOf(m.source),g.originalLine=m.originalLine,g.originalColumn=m.originalColumn,m.name&&(g.name=n.indexOf(m.name)),p.push(g)),c.push(g)}return d(o.__originalMappings,a.compareByOriginalPositions),o},r.prototype._version=3,Object.defineProperty(r.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),r.prototype._parseMappings=function(e,t){for(var o,n,r,s,u,l=1,p=0,h=0,f=0,m=0,g=0,y=e.length,v=0,b={},_={},w=[],S=[];v<y;)if(";"===e.charAt(v))l++,v++,p=0;else if(","===e.charAt(v))v++;else{for(o=new i,o.generatedLine=l,s=v;s<y&&!this._charIsMappingSeparator(e,s);s++);if(n=e.slice(v,s),r=b[n])v+=n.length;else{for(r=[];v<s;)c.decode(e,v,_),u=_.value,v=_.rest,r.push(u);if(2===r.length)throw new Error("Found a source, but no line and column");if(3===r.length)throw new Error("Found a source and line, but no column");b[n]=r}o.generatedColumn=p+r[0],p=o.generatedColumn,r.length>1&&(o.source=m+r[1],m+=r[1],o.originalLine=h+r[2],h=o.originalLine,o.originalLine+=1,o.originalColumn=f+r[3],f=o.originalColumn,r.length>4&&(o.name=g+r[4],g+=r[4])),S.push(o),"number"==typeof o.originalLine&&w.push(o)}d(S,a.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,d(w,a.compareByOriginalPositions),this.__originalMappings=w},r.prototype._findMapping=function(e,t,o,n,r,i){if(e[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[o]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return u.search(e,t,r,i)},r.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var o=this._generatedMappings[e+1];if(t.generatedLine===o.generatedLine){t.lastGeneratedColumn=o.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},r.prototype.originalPositionFor=function(e){var t={generatedLine:a.getArg(e,"line"),generatedColumn:a.getArg(e,"column")},o=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",a.compareByGeneratedPositionsDeflated,a.getArg(e,"bias",n.GREATEST_LOWER_BOUND));if(o>=0){var r=this._generatedMappings[o];if(r.generatedLine===t.generatedLine){var i=a.getArg(r,"source",null);null!==i&&(i=this._sources.at(i),i=a.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var s=a.getArg(r,"name",null);return null!==s&&(s=this._names.at(s)),{source:i,line:a.getArg(r,"originalLine",null),column:a.getArg(r,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},r.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},r.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var o=this._findSourceIndex(e);if(o>=0)return this.sourcesContent[o];var n=e;null!=this.sourceRoot&&(n=a.relative(this.sourceRoot,n));var r;if(null!=this.sourceRoot&&(r=a.urlParse(this.sourceRoot))){var i=n.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!r.path||"/"==r.path)&&this._sources.has("/"+n))return this.sourcesContent[this._sources.indexOf("/"+n)]}if(t)return null;throw new Error('"'+n+'" is not in the SourceMap.')},r.prototype.generatedPositionFor=function(e){var t=a.getArg(e,"source");if(t=this._findSourceIndex(t),t<0)return{line:null,column:null,lastColumn:null};var o={source:t,originalLine:a.getArg(e,"line"),originalColumn:a.getArg(e,"column")},r=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,a.getArg(e,"bias",n.GREATEST_LOWER_BOUND));if(r>=0){var i=this._originalMappings[r];if(i.source===o.source)return{line:a.getArg(i,"generatedLine",null),column:a.getArg(i,"generatedColumn",null),lastColumn:a.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},o.BasicSourceMapConsumer=r,s.prototype=Object.create(n.prototype),s.prototype.constructor=n,s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var o=0;o<this._sections[t].consumer.sources.length;o++)e.push(this._sections[t].consumer.sources[o]);return e}}),s.prototype.originalPositionFor=function(e){var t={generatedLine:a.getArg(e,"line"),generatedColumn:a.getArg(e,"column")},o=u.search(t,this._sections,function(e,t){var o=e.generatedLine-t.generatedOffset.generatedLine;return o?o:e.generatedColumn-t.generatedOffset.generatedColumn}),n=this._sections[o];return n?n.consumer.originalPositionFor({line:t.generatedLine-(n.generatedOffset.generatedLine-1),column:t.generatedColumn-(n.generatedOffset.generatedLine===t.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},s.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},s.prototype.sourceContentFor=function(e,t){for(var o=0;o<this._sections.length;o++){var n=this._sections[o],r=n.consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var o=this._sections[t];if(o.consumer._findSourceIndex(a.getArg(e,"source"))!==-1){var n=o.consumer.generatedPositionFor(e);if(n){var r={line:n.line+(o.generatedOffset.generatedLine-1),column:n.column+(o.generatedOffset.generatedLine===n.line?o.generatedOffset.generatedColumn-1:0)};return r}}}return{line:null,column:null}},s.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var n=this._sections[o],r=n.consumer._generatedMappings,i=0;i<r.length;i++){var s=r[i],u=n.consumer._sources.at(s.source);u=a.computeSourceURL(n.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var l=null;s.name&&(l=n.consumer._names.at(s.name),this._names.add(l),l=this._names.indexOf(l));var c={source:u,generatedLine:s.generatedLine+(n.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(n.generatedOffset.generatedLine===s.generatedLine?n.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:l};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}d(this.__generatedMappings,a.compareByGeneratedPositionsDeflated),d(this.__originalMappings,a.compareByOriginalPositions)},o.IndexedSourceMapConsumer=s},{"./array-set":428,"./base64-vlq":429,"./binary-search":431,"./quick-sort":433,"./util":437}],435:[function(e,t,o){function n(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new s,this._names=new s,this._mappings=new a,this._sourcesContents=null}var r=e("./base64-vlq"),i=e("./util"),s=e("./array-set").ArraySet,a=e("./mapping-list").MappingList;n.prototype._version=3,n.fromSourceMap=function(e){var t=e.sourceRoot,o=new n({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=i.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),o.addMapping(n)}),e.sources.forEach(function(n){var r=n;null!==t&&(r=i.relative(t,n)),o._sources.has(r)||o._sources.add(r);var s=e.sourceContentFor(n);null!=s&&o.setSourceContent(n,s)}),o},n.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),o=i.getArg(e,"original",null),n=i.getArg(e,"source",null),r=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,o,n,r),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=r&&(r=String(r),this._names.has(r)||this._names.add(r)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=o&&o.line,originalColumn:null!=o&&o.column,source:n,name:r})},n.prototype.setSourceContent=function(e,t){var o=e;null!=this._sourceRoot&&(o=i.relative(this._sourceRoot,o)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(o)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(o)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},n.prototype.applySourceMap=function(e,t,o){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var r=this._sourceRoot;null!=r&&(n=i.relative(r,n));var a=new s,u=new s;this._mappings.unsortedForEach(function(t){if(t.source===n&&null!=t.originalLine){var s=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=s.source&&(t.source=s.source,null!=o&&(t.source=i.join(o,t.source)),null!=r&&(t.source=i.relative(r,t.source)),t.originalLine=s.line,t.originalColumn=s.column,null!=s.name&&(t.name=s.name))}var l=t.source;null==l||a.has(l)||a.add(l);var c=t.name;null==c||u.has(c)||u.add(c)},this),this._sources=a,this._names=u,e.sources.forEach(function(t){var n=e.sourceContentFor(t);null!=n&&(null!=o&&(t=i.join(o,t)),null!=r&&(t=i.relative(r,t)),this.setSourceContent(t,n))},this)},n.prototype._validateMapping=function(e,t,o,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||o||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&o))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:o,original:t,name:n}))},n.prototype._serializeMappings=function(){for(var e,t,o,n,s=0,a=1,u=0,l=0,c=0,d=0,p="",h=this._mappings.toArray(),f=0,m=h.length;f<m;f++){if(t=h[f],e="",t.generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!i.compareByGeneratedPositionsInflated(t,h[f-1]))continue;e+=","}e+=r.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(n=this._sources.indexOf(t.source),e+=r.encode(n-d),d=n,e+=r.encode(t.originalLine-1-l),l=t.originalLine-1,e+=r.encode(t.originalColumn-u),u=t.originalColumn,null!=t.name&&(o=this._names.indexOf(t.name),e+=r.encode(o-c),c=o)),p+=e}return p},n.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var o=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)},n.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},n.prototype.toString=function(){return JSON.stringify(this.toJSON())},o.SourceMapGenerator=n},{"./array-set":428,"./base64-vlq":429,"./mapping-list":432,"./util":437}],436:[function(e,t,o){function n(e,t,o,n,r){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==o?null:o,this.name=null==r?null:r,this[u]=!0,null!=n&&this.add(n)}var r=e("./source-map-generator").SourceMapGenerator,i=e("./util"),s=/(\r?\n)/,a=10,u="$$$isSourceNode$$$";n.fromStringWithSourceMap=function(e,t,o){function r(e,t){if(null===e||void 0===e.source)a.add(t);else{var r=o?i.join(o,e.source):e.source;a.add(new n(e.originalLine,e.originalColumn,r,t,e.name))}}var a=new n,u=e.split(s),l=0,c=function(){function e(){return l<u.length?u[l++]:void 0}var t=e(),o=e()||"";return t+o},d=1,p=0,h=null;return t.eachMapping(function(e){if(null!==h){if(!(d<e.generatedLine)){var t=u[l]||"",o=t.substr(0,e.generatedColumn-p);return u[l]=t.substr(e.generatedColumn-p),p=e.generatedColumn,r(h,o),void(h=e)}r(h,c()),d++,p=0}for(;d<e.generatedLine;)a.add(c()),d++;if(p<e.generatedColumn){var t=u[l]||"";a.add(t.substr(0,e.generatedColumn)),u[l]=t.substr(e.generatedColumn),p=e.generatedColumn}h=e},this),l<u.length&&(h&&r(h,c()),a.add(u.splice(l).join(""))),t.sources.forEach(function(e){var n=t.sourceContentFor(e);null!=n&&(null!=o&&(e=i.join(o,e)),a.setSourceContent(e,n))}),a},n.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[u]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},n.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[u]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},n.prototype.walk=function(e){for(var t,o=0,n=this.children.length;o<n;o++)t=this.children[o],t[u]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},n.prototype.join=function(e){var t,o,n=this.children.length;if(n>0){for(t=[],o=0;o<n-1;o++)t.push(this.children[o]),t.push(e);t.push(this.children[o]),this.children=t}return this},n.prototype.replaceRight=function(e,t){var o=this.children[this.children.length-1];return o[u]?o.replaceRight(e,t):"string"==typeof o?this.children[this.children.length-1]=o.replace(e,t):this.children.push("".replace(e,t)),this},n.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},n.prototype.walkSourceContents=function(e){for(var t=0,o=this.children.length;t<o;t++)this.children[t][u]&&this.children[t].walkSourceContents(e);for(var n=Object.keys(this.sourceContents),t=0,o=n.length;t<o;t++)e(i.fromSetString(n[t]),this.sourceContents[n[t]])},n.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},n.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},o=new r(e),n=!1,i=null,s=null,u=null,l=null;return this.walk(function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(i===r.source&&s===r.line&&u===r.column&&l===r.name||o.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),i=r.source,s=r.line,u=r.column,l=r.name,n=!0):n&&(o.addMapping({generated:{line:t.line,column:t.column}}),i=null,n=!1);for(var c=0,d=e.length;c<d;c++)e.charCodeAt(c)===a?(t.line++,t.column=0,c+1===d?(i=null,n=!1):n&&o.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++}),this.walkSourceContents(function(e,t){o.setSourceContent(e,t)}),{code:t.code,map:o}},o.SourceNode=n},{"./source-map-generator":435,"./util":437}],437:[function(e,t,o){function n(e,t,o){if(t in e)return e[t];if(3===arguments.length)return o;throw new Error('"'+t+'" is a required argument.')}function r(e){var t=e.match(b);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var t=e,n=r(e);if(n){if(!n.path)return e;t=n.path}for(var s,a=o.isAbsolute(t),u=t.split(/\/+/),l=0,c=u.length-1;c>=0;c--)s=u[c],"."===s?u.splice(c,1):".."===s?l++:l>0&&(""===s?(u.splice(c+1,l),l=0):(u.splice(c,2),l--));return t=u.join("/"),""===t&&(t=a?"/":"."),n?(n.path=t,i(n)):t}function a(e,t){""===e&&(e="."),""===t&&(t=".");var o=r(t),n=r(e);if(n&&(e=n.path||"/"),o&&!o.scheme)return n&&(o.scheme=n.scheme),i(o);if(o||t.match(_))return t;if(n&&!n.host&&!n.path)return n.host=t,i(n);var a="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=a,i(n)):a}function u(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var o=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/))return t;++o}return Array(o+1).join("../")+t.substr(e.length+1)}function l(e){return e}function c(e){return p(e)?"$"+e:e}function d(e){return p(e)?e.slice(1):e}function p(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var o=t-10;o>=0;o--)if(36!==e.charCodeAt(o))return!1;return!0}function h(e,t,o){var n=m(e.source,t.source);return 0!==n?n:(n=e.originalLine-t.originalLine,0!==n?n:(n=e.originalColumn-t.originalColumn,0!==n||o?n:(n=e.generatedColumn-t.generatedColumn,0!==n?n:(n=e.generatedLine-t.generatedLine,0!==n?n:m(e.name,t.name)))))}function f(e,t,o){var n=e.generatedLine-t.generatedLine;return 0!==n?n:(n=e.generatedColumn-t.generatedColumn,0!==n||o?n:(n=m(e.source,t.source),0!==n?n:(n=e.originalLine-t.originalLine,0!==n?n:(n=e.originalColumn-t.originalColumn,0!==n?n:m(e.name,t.name)))))}function m(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}function g(e,t){var o=e.generatedLine-t.generatedLine;return 0!==o?o:(o=e.generatedColumn-t.generatedColumn,0!==o?o:(o=m(e.source,t.source),0!==o?o:(o=e.originalLine-t.originalLine,0!==o?o:(o=e.originalColumn-t.originalColumn,0!==o?o:m(e.name,t.name)))))}function y(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}function v(e,t,o){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),o){var n=r(o);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var u=n.path.lastIndexOf("/");u>=0&&(n.path=n.path.substring(0,u+1))}t=a(i(n),t)}return s(t)}o.getArg=n;var b=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,_=/^data:.+\,.+$/;o.urlParse=r,o.urlGenerate=i,o.normalize=s,o.join=a,o.isAbsolute=function(e){return"/"===e.charAt(0)||b.test(e)},o.relative=u;var w=function(){var e=Object.create(null);return!("__proto__"in e)}();o.toSetString=w?l:c,o.fromSetString=w?l:d,o.compareByOriginalPositions=h,o.compareByGeneratedPositionsDeflated=f,o.compareByGeneratedPositionsInflated=g,o.parseSourceMapInput=y,o.computeSourceURL=v},{}],438:[function(e,t,o){o.SourceMapGenerator=e("./lib/source-map-generator").SourceMapGenerator,o.SourceMapConsumer=e("./lib/source-map-consumer").SourceMapConsumer,o.SourceNode=e("./lib/source-node").SourceNode},{"./lib/source-map-consumer":434,"./lib/source-map-generator":435,"./lib/source-node":436}],439:[function(e,t,o){"use strict";function n(e){return e.sort().filter(function(t,o){return JSON.stringify(t)!==JSON.stringify(e[o-1])})}var r=e("number-is-nan"),i=e("array-uniq"),s=/^\d+$/;o.parse=function(e){return n(e.split(",").map(function(e){var t={};return e.trim().split(/\s+/).forEach(function(e,o){if(0===o)return t.url=e;var n=e.substring(0,e.length-1),i=e[e.length-1],a=parseInt(n,10),u=parseFloat(n);if("w"===i&&s.test(n))t.width=a;else if("h"===i&&s.test(n))t.height=a;else{if("x"!==i||r(u))throw new Error("Invalid srcset descriptor: "+e+".");t.density=u}}),t}))},o.stringify=function(e){return i(e.map(function(e){if(!e.url)throw new Error("URL is required.");var t=[e.url];return e.width&&t.push(e.width+"w"),e.height&&t.push(e.height+"h"),e.density&&t.push(e.density+"x"),t.join(" ")})).join(", ")}},{"array-uniq":315,"number-is-nan":378}],440:[function(e,t,o){function n(){r.call(this)}t.exports=n;var r=e("events").EventEmitter,i=e("inherits");i(n,r),n.Readable=e("readable-stream/readable.js"),n.Writable=e("readable-stream/writable.js"),n.Duplex=e("readable-stream/duplex.js"),n.Transform=e("readable-stream/transform.js"),n.PassThrough=e("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(e,t){function o(t){e.writable&&!1===e.write(t)&&l.pause&&l.pause()}function n(){l.readable&&l.resume&&l.resume()}function i(){c||(c=!0,e.end())}function s(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){l.removeListener("data",o),e.removeListener("drain",n),l.removeListener("end",i),l.removeListener("close",s),l.removeListener("error",a),e.removeListener("error",a),l.removeListener("end",u),l.removeListener("close",u),e.removeListener("close",u)}var l=this;l.on("data",o),e.on("drain",n),e._isStdio||t&&t.end===!1||(l.on("end",i),l.on("close",s));var c=!1;return l.on("error",a),e.on("error",a),l.on("end",u),l.on("close",u),e.on("close",u),e.emit("pipe",l),e}},{events:354,inherits:368,"readable-stream/duplex.js":411,"readable-stream/passthrough.js":421,"readable-stream/readable.js":422,"readable-stream/transform.js":423,"readable-stream/writable.js":424}],441:[function(e,t,o){"use strict";function n(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function r(e){var t=n(e);if("string"!=typeof t&&(v.isEncoding===b||!b(e)))throw new Error("Unknown encoding: "+e);return t||e}function i(e){this.encoding=r(e);var t;switch(this.encoding){case"utf16le":this.text=p,this.end=h,t=4;break;case"utf8":this.fillLast=l,t=4;break;case"base64":this.text=f,this.end=m,t=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=v.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function a(e,t,o){var n=t.length-1;if(n<o)return 0;var r=s(t[n]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--n<o||r===-2?0:(r=s(t[n]),r>=0?(r>0&&(e.lastNeed=r-2),r):--n<o||r===-2?0:(r=s(t[n]),r>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0))}function u(e,t,o){if(128!==(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,""}}function l(e){var t=this.lastTotal-this.lastNeed,o=u(this,e,t);return void 0!==o?o:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){var o=a(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=o;var n=e.length-(o-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function p(e,t){if((e.length-t)%2===0){var o=e.toString("utf16le",t);if(o){var n=o.charCodeAt(o.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],o.slice(0,-1)}return o}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function h(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var o=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,o)}return t}function f(e,t){var o=(e.length-t)%3;return 0===o?e.toString("base64",t):(this.lastNeed=3-o,this.lastTotal=3,1===o?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-o))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function y(e){return e&&e.length?this.write(e):""}var v=e("safe-buffer").Buffer,b=v.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};o.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,o;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";o=this.lastNeed,this.lastNeed=0}else o=0;return o<e.length?t?t+this.text(e,o):this.text(e,o):t||""},i.prototype.end=d,i.prototype.text=c,i.prototype.fillLast=function(e){return this.lastNeed<=e.length?(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),void(this.lastNeed-=e.length))}},{"safe-buffer":425}],442:[function(e,t,o){(function(t,n){function r(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},l=0;o.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},o.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},o.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},o.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},o._unrefActive=o.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o.setImmediate="function"==typeof t?t:function(e){var t=l++,n=!(arguments.length<2)&&a.call(arguments,1);return u[t]=!0,i(function(){u[t]&&(n?e.apply(null,n):e.call(null),o.clearImmediate(t))}),t},o.clearImmediate="function"==typeof n?n:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":443,timers:442}],443:[function(e,t,o){arguments[4][320][0].apply(o,arguments)},{dup:320}],444:[function(e,t,o){function n(){}n.prototype={on:function(e,t,o){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:o}),this},once:function(e,t,o){function n(){r.off(e,n),t.apply(o,arguments)}var r=this;return n._=t,this.on(e,n,o)},emit:function(e){var t=[].slice.call(arguments,1),o=((this.e||(this.e={}))[e]||[]).slice(),n=0,r=o.length;for(n;n<r;n++)o[n].fn.apply(o[n].ctx,t);return this},off:function(e,t){var o=this.e||(this.e={}),n=o[e],r=[];if(n&&t)for(var i=0,s=n.length;i<s;i++)n[i].fn!==t&&n[i].fn._!==t&&r.push(n[i]);return r.length?o[e]=r:delete o[e],this}},t.exports=n},{}],445:[function(e,t,o){(function(){function e(e){function t(t,o,n,r,i,s){for(;i>=0&&i<s;i+=e){var a=r?r[i]:i;n=o(n,t[a],a,t)}return n}return function(o,n,r,i){n=w(n,i,4);var s=!A(o)&&_.keys(o),a=(s||o).length,u=e>0?0:a-1;return arguments.length<3&&(r=o[s?s[u]:u],u+=e),t(o,n,r,s,u,a)}}function n(e){return function(t,o,n){o=S(o,n);for(var r=I(t),i=e>0?0:r-1;i>=0&&i<r;i+=e)if(o(t[i],i,t))return i;return-1}}function r(e,t,o){return function(n,r,i){var s=0,a=I(n);if("number"==typeof i)e>0?s=i>=0?i:Math.max(i+a,s):a=i>=0?Math.min(i+1,a):i+a+1;else if(o&&i&&a)return i=o(n,r),n[i]===r?i:-1;if(r!==r)return i=t(p.call(n,s,a),_.isNaN),i>=0?i+s:-1;for(i=e>0?s:a-1;i>=0&&i<a;i+=e)if(n[i]===r)return i;return-1}}function i(e,t){var o=P.length,n=e.constructor,r=_.isFunction(n)&&n.prototype||l,i="constructor";for(_.has(e,i)&&!_.contains(t,i)&&t.push(i);o--;)i=P[o],i in e&&e[i]!==r[i]&&!_.contains(t,i)&&t.push(i)}var s=this,a=s._,u=Array.prototype,l=Object.prototype,c=Function.prototype,d=u.push,p=u.slice,h=l.toString,f=l.hasOwnProperty,m=Array.isArray,g=Object.keys,y=c.bind,v=Object.create,b=function(){},_=function(e){
return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};"undefined"!=typeof o?("undefined"!=typeof t&&t.exports&&(o=t.exports=_),o._=_):s._=_,_.VERSION="1.8.3";var w=function(e,t,o){if(void 0===t)return e;switch(null==o?3:o){case 1:return function(o){return e.call(t,o)};case 2:return function(o,n){return e.call(t,o,n)};case 3:return function(o,n,r){return e.call(t,o,n,r)};case 4:return function(o,n,r,i){return e.call(t,o,n,r,i)}}return function(){return e.apply(t,arguments)}},S=function(e,t,o){return null==e?_.identity:_.isFunction(e)?w(e,t,o):_.isObject(e)?_.matcher(e):_.property(e)};_.iteratee=function(e,t){return S(e,t,1/0)};var C=function(e,t){return function(o){var n=arguments.length;if(n<2||null==o)return o;for(var r=1;r<n;r++)for(var i=arguments[r],s=e(i),a=s.length,u=0;u<a;u++){var l=s[u];t&&void 0!==o[l]||(o[l]=i[l])}return o}},E=function(e){if(!_.isObject(e))return{};if(v)return v(e);b.prototype=e;var t=new b;return b.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},T=Math.pow(2,53)-1,I=k("length"),A=function(e){var t=I(e);return"number"==typeof t&&t>=0&&t<=T};_.each=_.forEach=function(e,t,o){t=w(t,o);var n,r;if(A(e))for(n=0,r=e.length;n<r;n++)t(e[n],n,e);else{var i=_.keys(e);for(n=0,r=i.length;n<r;n++)t(e[i[n]],i[n],e)}return e},_.map=_.collect=function(e,t,o){t=S(t,o);for(var n=!A(e)&&_.keys(e),r=(n||e).length,i=Array(r),s=0;s<r;s++){var a=n?n[s]:s;i[s]=t(e[a],a,e)}return i},_.reduce=_.foldl=_.inject=e(1),_.reduceRight=_.foldr=e(-1),_.find=_.detect=function(e,t,o){var n;if(n=A(e)?_.findIndex(e,t,o):_.findKey(e,t,o),void 0!==n&&n!==-1)return e[n]},_.filter=_.select=function(e,t,o){var n=[];return t=S(t,o),_.each(e,function(e,o,r){t(e,o,r)&&n.push(e)}),n},_.reject=function(e,t,o){return _.filter(e,_.negate(S(t)),o)},_.every=_.all=function(e,t,o){t=S(t,o);for(var n=!A(e)&&_.keys(e),r=(n||e).length,i=0;i<r;i++){var s=n?n[i]:i;if(!t(e[s],s,e))return!1}return!0},_.some=_.any=function(e,t,o){t=S(t,o);for(var n=!A(e)&&_.keys(e),r=(n||e).length,i=0;i<r;i++){var s=n?n[i]:i;if(t(e[s],s,e))return!0}return!1},_.contains=_.includes=_.include=function(e,t,o,n){return A(e)||(e=_.values(e)),("number"!=typeof o||n)&&(o=0),_.indexOf(e,t,o)>=0},_.invoke=function(e,t){var o=p.call(arguments,2),n=_.isFunction(t);return _.map(e,function(e){var r=n?t:e[t];return null==r?r:r.apply(e,o)})},_.pluck=function(e,t){return _.map(e,_.property(t))},_.where=function(e,t){return _.filter(e,_.matcher(t))},_.findWhere=function(e,t){return _.find(e,_.matcher(t))},_.max=function(e,t,o){var n,r,i=-(1/0),s=-(1/0);if(null==t&&null!=e){e=A(e)?e:_.values(e);for(var a=0,u=e.length;a<u;a++)n=e[a],n>i&&(i=n)}else t=S(t,o),_.each(e,function(e,o,n){r=t(e,o,n),(r>s||r===-(1/0)&&i===-(1/0))&&(i=e,s=r)});return i},_.min=function(e,t,o){var n,r,i=1/0,s=1/0;if(null==t&&null!=e){e=A(e)?e:_.values(e);for(var a=0,u=e.length;a<u;a++)n=e[a],n<i&&(i=n)}else t=S(t,o),_.each(e,function(e,o,n){r=t(e,o,n),(r<s||r===1/0&&i===1/0)&&(i=e,s=r)});return i},_.shuffle=function(e){for(var t,o=A(e)?e:_.values(e),n=o.length,r=Array(n),i=0;i<n;i++)t=_.random(0,i),t!==i&&(r[i]=r[t]),r[t]=o[i];return r},_.sample=function(e,t,o){return null==t||o?(A(e)||(e=_.values(e)),e[_.random(e.length-1)]):_.shuffle(e).slice(0,Math.max(0,t))},_.sortBy=function(e,t,o){return t=S(t,o),_.pluck(_.map(e,function(e,o,n){return{value:e,index:o,criteria:t(e,o,n)}}).sort(function(e,t){var o=e.criteria,n=t.criteria;if(o!==n){if(o>n||void 0===o)return 1;if(o<n||void 0===n)return-1}return e.index-t.index}),"value")};var $=function(e){return function(t,o,n){var r={};return o=S(o,n),_.each(t,function(n,i){var s=o(n,i,t);e(r,n,s)}),r}};_.groupBy=$(function(e,t,o){_.has(e,o)?e[o].push(t):e[o]=[t]}),_.indexBy=$(function(e,t,o){e[o]=t}),_.countBy=$(function(e,t,o){_.has(e,o)?e[o]++:e[o]=1}),_.toArray=function(e){return e?_.isArray(e)?p.call(e):A(e)?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:A(e)?e.length:_.keys(e).length},_.partition=function(e,t,o){t=S(t,o);var n=[],r=[];return _.each(e,function(e,o,i){(t(e,o,i)?n:r).push(e)}),[n,r]},_.first=_.head=_.take=function(e,t,o){if(null!=e)return null==t||o?e[0]:_.initial(e,e.length-t)},_.initial=function(e,t,o){return p.call(e,0,Math.max(0,e.length-(null==t||o?1:t)))},_.last=function(e,t,o){if(null!=e)return null==t||o?e[e.length-1]:_.rest(e,Math.max(0,e.length-t))},_.rest=_.tail=_.drop=function(e,t,o){return p.call(e,null==t||o?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var x=function(e,t,o,n){for(var r=[],i=0,s=n||0,a=I(e);s<a;s++){var u=e[s];if(A(u)&&(_.isArray(u)||_.isArguments(u))){t||(u=x(u,t,o));var l=0,c=u.length;for(r.length+=c;l<c;)r[i++]=u[l++]}else o||(r[i++]=u)}return r};_.flatten=function(e,t){return x(e,t,!1)},_.without=function(e){return _.difference(e,p.call(arguments,1))},_.uniq=_.unique=function(e,t,o,n){_.isBoolean(t)||(n=o,o=t,t=!1),null!=o&&(o=S(o,n));for(var r=[],i=[],s=0,a=I(e);s<a;s++){var u=e[s],l=o?o(u,s,e):u;t?(s&&i===l||r.push(u),i=l):o?_.contains(i,l)||(i.push(l),r.push(u)):_.contains(r,u)||r.push(u)}return r},_.union=function(){return _.uniq(x(arguments,!0,!0))},_.intersection=function(e){for(var t=[],o=arguments.length,n=0,r=I(e);n<r;n++){var i=e[n];if(!_.contains(t,i)){for(var s=1;s<o&&_.contains(arguments[s],i);s++);s===o&&t.push(i)}}return t},_.difference=function(e){var t=x(arguments,!0,!0,1);return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(e){for(var t=e&&_.max(e,I).length||0,o=Array(t),n=0;n<t;n++)o[n]=_.pluck(e,n);return o},_.object=function(e,t){for(var o={},n=0,r=I(e);n<r;n++)t?o[e[n]]=t[n]:o[e[n][0]]=e[n][1];return o},_.findIndex=n(1),_.findLastIndex=n(-1),_.sortedIndex=function(e,t,o,n){o=S(o,n,1);for(var r=o(t),i=0,s=I(e);i<s;){var a=Math.floor((i+s)/2);o(e[a])<r?i=a+1:s=a}return i},_.indexOf=r(1,_.findIndex,_.sortedIndex),_.lastIndexOf=r(-1,_.findLastIndex),_.range=function(e,t,o){null==t&&(t=e||0,e=0),o=o||1;for(var n=Math.max(Math.ceil((t-e)/o),0),r=Array(n),i=0;i<n;i++,e+=o)r[i]=e;return r};var O=function(e,t,o,n,r){if(!(n instanceof t))return e.apply(o,r);var i=E(e.prototype),s=e.apply(i,r);return _.isObject(s)?s:i};_.bind=function(e,t){if(y&&e.bind===y)return y.apply(e,p.call(arguments,1));if(!_.isFunction(e))throw new TypeError("Bind must be called on a function");var o=p.call(arguments,2),n=function(){return O(e,n,t,this,o.concat(p.call(arguments)))};return n},_.partial=function(e){var t=p.call(arguments,1),o=function(){for(var n=0,r=t.length,i=Array(r),s=0;s<r;s++)i[s]=t[s]===_?arguments[n++]:t[s];for(;n<arguments.length;)i.push(arguments[n++]);return O(e,o,this,this,i)};return o},_.bindAll=function(e){var t,o,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)o=arguments[t],e[o]=_.bind(e[o],e);return e},_.memoize=function(e,t){var o=function(n){var r=o.cache,i=""+(t?t.apply(this,arguments):n);return _.has(r,i)||(r[i]=e.apply(this,arguments)),r[i]};return o.cache={},o},_.delay=function(e,t){var o=p.call(arguments,2);return setTimeout(function(){return e.apply(null,o)},t)},_.defer=_.partial(_.delay,_,1),_.throttle=function(e,t,o){var n,r,i,s=null,a=0;o||(o={});var u=function(){a=o.leading===!1?0:_.now(),s=null,i=e.apply(n,r),s||(n=r=null)};return function(){var l=_.now();a||o.leading!==!1||(a=l);var c=t-(l-a);return n=this,r=arguments,c<=0||c>t?(s&&(clearTimeout(s),s=null),a=l,i=e.apply(n,r),s||(n=r=null)):s||o.trailing===!1||(s=setTimeout(u,c)),i}},_.debounce=function(e,t,o){var n,r,i,s,a,u=function(){var l=_.now()-s;l<t&&l>=0?n=setTimeout(u,t-l):(n=null,o||(a=e.apply(i,r),n||(i=r=null)))};return function(){i=this,r=arguments,s=_.now();var l=o&&!n;return n||(n=setTimeout(u,t)),l&&(a=e.apply(i,r),i=r=null),a}},_.wrap=function(e,t){return _.partial(t,e)},_.negate=function(e){return function(){return!e.apply(this,arguments)}},_.compose=function(){var e=arguments,t=e.length-1;return function(){for(var o=t,n=e[t].apply(this,arguments);o--;)n=e[o].call(this,n);return n}},_.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},_.before=function(e,t){var o;return function(){return--e>0&&(o=t.apply(this,arguments)),e<=1&&(t=null),o}},_.once=_.partial(_.before,2);var R=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(e){if(!_.isObject(e))return[];if(g)return g(e);var t=[];for(var o in e)_.has(e,o)&&t.push(o);return R&&i(e,t),t},_.allKeys=function(e){if(!_.isObject(e))return[];var t=[];for(var o in e)t.push(o);return R&&i(e,t),t},_.values=function(e){for(var t=_.keys(e),o=t.length,n=Array(o),r=0;r<o;r++)n[r]=e[t[r]];return n},_.mapObject=function(e,t,o){t=S(t,o);for(var n,r=_.keys(e),i=r.length,s={},a=0;a<i;a++)n=r[a],s[n]=t(e[n],n,e);return s},_.pairs=function(e){for(var t=_.keys(e),o=t.length,n=Array(o),r=0;r<o;r++)n[r]=[t[r],e[t[r]]];return n},_.invert=function(e){for(var t={},o=_.keys(e),n=0,r=o.length;n<r;n++)t[e[o[n]]]=o[n];return t},_.functions=_.methods=function(e){var t=[];for(var o in e)_.isFunction(e[o])&&t.push(o);return t.sort()},_.extend=C(_.allKeys),_.extendOwn=_.assign=C(_.keys),_.findKey=function(e,t,o){t=S(t,o);for(var n,r=_.keys(e),i=0,s=r.length;i<s;i++)if(n=r[i],t(e[n],n,e))return n},_.pick=function(e,t,o){var n,r,i={},s=e;if(null==s)return i;_.isFunction(t)?(r=_.allKeys(s),n=w(t,o)):(r=x(arguments,!1,!1,1),n=function(e,t,o){return t in o},s=Object(s));for(var a=0,u=r.length;a<u;a++){var l=r[a],c=s[l];n(c,l,s)&&(i[l]=c)}return i},_.omit=function(e,t,o){if(_.isFunction(t))t=_.negate(t);else{var n=_.map(x(arguments,!1,!1,1),String);t=function(e,t){return!_.contains(n,t)}}return _.pick(e,t,o)},_.defaults=C(_.allKeys,!0),_.create=function(e,t){var o=E(e);return t&&_.extendOwn(o,t),o},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isMatch=function(e,t){var o=_.keys(t),n=o.length;if(null==e)return!n;for(var r=Object(e),i=0;i<n;i++){var s=o[i];if(t[s]!==r[s]||!(s in r))return!1}return!0};var D=function(e,t,o,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var r=h.call(e);if(r!==h.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var i="[object Array]"===r;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(_.isFunction(s)&&s instanceof s&&_.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}o=o||[],n=n||[];for(var u=o.length;u--;)if(o[u]===e)return n[u]===t;if(o.push(e),n.push(t),i){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!D(e[u],t[u],o,n))return!1}else{var l,c=_.keys(e);if(u=c.length,_.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!_.has(t,l)||!D(e[l],t[l],o,n))return!1}return o.pop(),n.pop(),!0};_.isEqual=function(e,t){return D(e,t)},_.isEmpty=function(e){return null==e||(A(e)&&(_.isArray(e)||_.isString(e)||_.isArguments(e))?0===e.length:0===_.keys(e).length)},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=m||function(e){return"[object Array]"===h.call(e)},_.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){_["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return _.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(e){return"function"==typeof e||!1}),_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!==+e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return null!=e&&f.call(e,t)},_.noConflict=function(){return s._=a,this},_.identity=function(e){return e},_.constant=function(e){return function(){return e}},_.noop=function(){},_.property=k,_.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},_.matcher=_.matches=function(e){return e=_.extendOwn({},e),function(t){return _.isMatch(t,e)}},_.times=function(e,t,o){var n=Array(Math.max(0,e));t=w(t,o,1);for(var r=0;r<e;r++)n[r]=t(r);return n},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},_.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=_.invert(M),L=function(e){var t=function(t){return e[t]},o="(?:"+_.keys(e).join("|")+")",n=RegExp(o),r=RegExp(o,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(r,t):e}};_.escape=L(M),_.unescape=L(N),_.result=function(e,t,o){var n=null==e?void 0:e[t];return void 0===n&&(n=o),_.isFunction(n)?n.call(e):n};var q=0;_.uniqueId=function(e){var t=++q+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+U[e]};_.template=function(e,t,o){!t&&o&&(t=o),t=_.defaults({},t,_.templateSettings);var n=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),r=0,i="__p+='";e.replace(n,function(t,o,n,s,a){return i+=e.slice(r,a).replace(H,V),r=a+t.length,o?i+="'+\n((__t=("+o+"))==null?'':_.escape(__t))+\n'":n?i+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(i+="';\n"+s+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var s=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var u=function(e){return s.call(this,e,_)},l=t.variable||"obj";return u.source="function("+l+"){\n"+i+"}",u},_.chain=function(e){var t=_(e);return t._chain=!0,t};var j=function(e,t){return e._chain?_(t).chain():t};_.mixin=function(e){_.each(_.functions(e),function(t){var o=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),j(this,o.apply(_,e))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];_.prototype[e]=function(){var o=this._wrapped;return t.apply(o,arguments),"shift"!==e&&"splice"!==e||0!==o.length||delete o[0],j(this,o)}}),_.each(["concat","join","slice"],function(e){var t=u[e];_.prototype[e]=function(){return j(this,t.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}).call(this)},{}],446:[function(e,t,o){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,o){if(e&&l.isObject(e)&&e instanceof n)return e;var r=new n;return r.parse(e,t,o),r}function i(e){return l.isString(e)&&(e=r(e)),e instanceof n?e.format():n.prototype.format.call(e)}function s(e,t){return r(e,!1,!0).resolve(t)}function a(e,t){return e?r(e,!1,!0).resolveObject(t):t}var u=e("punycode"),l=e("./util");o.parse=r,o.resolve=s,o.resolveObject=a,o.format=i,o.Url=n;var c=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(h),m=["'"].concat(f),g=["%","/","?",";","#"].concat(m),y=["/","?","#"],v=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=e("querystring");n.prototype.parse=function(e,t,o){if(!l.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),r=n!==-1&&n<e.indexOf("#")?"?":"#",i=e.split(r),s=/\\/g;i[0]=i[0].replace(s,"/"),e=i.join(r);var a=e;if(a=a.trim(),!o&&1===e.split("#").length){var d=p.exec(a);if(d)return this.path=a,this.href=a,this.pathname=d[1],d[2]?(this.search=d[2],t?this.query=E.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var h=c.exec(a);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,a=a.substr(h.length)}if(o||h||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===a.substr(0,2);!k||h&&S[h]||(a=a.substr(2),this.slashes=!0)}if(!S[h]&&(k||h&&!C[h])){for(var T=-1,I=0;I<y.length;I++){var A=a.indexOf(y[I]);A!==-1&&(T===-1||A<T)&&(T=A)}var $,x;x=T===-1?a.lastIndexOf("@"):a.lastIndexOf("@",T),x!==-1&&($=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent($)),T=-1;for(var I=0;I<g.length;I++){var A=a.indexOf(g[I]);A!==-1&&(T===-1||A<T)&&(T=A)}T===-1&&(T=a.length),this.host=a.slice(0,T),a=a.slice(T),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var R=this.hostname.split(/\./),I=0,P=R.length;I<P;I++){var D=R[I];if(D&&!D.match(b)){for(var M="",N=0,L=D.length;N<L;N++)M+=D.charCodeAt(N)>127?"x":D[N];if(!M.match(b)){var q=R.slice(0,I),F=R.slice(I+1),U=D.match(_);U&&(q.push(U[1]),F.unshift(U[2])),F.length&&(a="/"+F.join(".")+a),this.hostname=q.join(".");break}}}this.hostname.length>v?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=u.toASCII(this.hostname));var H=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+H,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!w[f])for(var I=0,P=m.length;I<P;I++){var j=m[I];if(a.indexOf(j)!==-1){var z=encodeURIComponent(j);z===j&&(z=escape(j)),a=a.split(j).join(z)}}var B=a.indexOf("#");B!==-1&&(this.hash=a.substr(B),a=a.slice(0,B));var W=a.indexOf("?");if(W!==-1?(this.search=a.substr(W),this.query=a.substr(W+1),t&&(this.query=E.parse(this.query)),a=a.slice(0,W)):t&&(this.search="",this.query={}),a&&(this.pathname=a),C[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var H=this.pathname||"",G=this.search||"";this.path=H+G}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",o=this.pathname||"",n=this.hash||"",r=!1,i="";this.host?r=e+this.host:this.hostname&&(r=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(i=E.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||C[t])&&r!==!1?(r="//"+(r||""),o&&"/"!==o.charAt(0)&&(o="/"+o)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),o=o.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+r+o+s+n},n.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(l.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var o=new n,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];o[s]=this[s]}if(o.hash=e.hash,""===e.href)return o.href=o.format(),o;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),u=0;u<a.length;u++){var c=a[u];"protocol"!==c&&(o[c]=e[c])}return C[o.protocol]&&o.hostname&&!o.pathname&&(o.path=o.pathname="/"),o.href=o.format(),o}if(e.protocol&&e.protocol!==o.protocol){if(!C[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];o[h]=e[h]}return o.href=o.format(),o}if(o.protocol=e.protocol,e.host||S[e.protocol])o.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),o.pathname=f.join("/")}if(o.search=e.search,o.query=e.query,o.host=e.host||"",o.auth=e.auth,o.hostname=e.hostname||e.host,o.port=e.port,o.pathname||o.search){var m=o.pathname||"",g=o.search||"";o.path=m+g}return o.slashes=o.slashes||e.slashes,o.href=o.format(),o}var y=o.pathname&&"/"===o.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=v||y||o.host&&e.pathname,_=b,w=o.pathname&&o.pathname.split("/")||[],f=e.pathname&&e.pathname.split("/")||[],E=o.protocol&&!C[o.protocol];if(E&&(o.hostname="",o.port=null,o.host&&(""===w[0]?w[0]=o.host:w.unshift(o.host)),o.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),b=b&&(""===f[0]||""===w[0])),v)o.host=e.host||""===e.host?e.host:o.host,o.hostname=e.hostname||""===e.hostname?e.hostname:o.hostname,o.search=e.search,o.query=e.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),o.search=e.search,o.query=e.query;else if(!l.isNullOrUndefined(e.search)){if(E){o.hostname=o.host=w.shift();var k=!!(o.host&&o.host.indexOf("@")>0)&&o.host.split("@");k&&(o.auth=k.shift(),o.host=o.hostname=k.shift())}return o.search=e.search,o.query=e.query,l.isNull(o.pathname)&&l.isNull(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=o.format(),o}if(!w.length)return o.pathname=null,o.search?o.path="/"+o.search:o.path=null,o.href=o.format(),o;for(var T=w.slice(-1)[0],I=(o.host||e.host||w.length>1)&&("."===T||".."===T)||""===T,A=0,$=w.length;$>=0;$--)T=w[$],"."===T?w.splice($,1):".."===T?(w.splice($,1),A++):A&&(w.splice($,1),A--);if(!b&&!_)for(;A--;A)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),I&&"/"!==w.join("/").substr(-1)&&w.push("");var x=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(E){o.hostname=o.host=x?"":w.length?w.shift():"";var k=!!(o.host&&o.host.indexOf("@")>0)&&o.host.split("@");k&&(o.auth=k.shift(),o.host=o.hostname=k.shift())}return b=b||o.host&&w.length,b&&!x&&w.unshift(""),w.length?o.pathname=w.join("/"):(o.pathname=null,o.path=null),l.isNull(o.pathname)&&l.isNull(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.auth=e.auth||o.auth,o.slashes=o.slashes||e.slashes,o.href=o.format(),o},n.prototype.parseHost=function(){var e=this.host,t=d.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":447,punycode:321,querystring:410}],447:[function(e,t,o){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],448:[function(e,t,o){(function(e){function o(e,t){function o(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var r=!1;return o}function n(t){try{if(!e.localStorage)return!1}catch(o){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],449:[function(e,t,o){function n(){for(var e={},t=0;t<arguments.length;t++){var o=arguments[t];for(var n in o)r.call(o,n)&&(e[n]=o[n])}return e}t.exports=n;var r=Object.prototype.hasOwnProperty},{}],450:[function(e,t,o){window.botHandle=window.botHandle||function(){return{initialize:function(e,t,o){if(t.get("courseConfiguration").assistant)return window.assistantInitialized=!0,this.render(e,t.get("courseTimezone"),o)},render:function(e,t,o){$.getScript("https://upgradcdn.s3-ap-southeast-1.amazonaws.com/ea-lib/vendor.bundle.prod.js?v="+LOCAL_DATA.version,function(){$.getScript("https://upgradcdn.s3-ap-southeast-1.amazonaws.com/ea-lib/app.bundle.prod.js?v="+LOCAL_DATA.version,function(){bot.courseTimezone=t,bot.User=o,bot.init(e)})})}}}()},{}]},{},[95]);